{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar SimpleStore = function SimpleStore(initialState) {\n  _classCallCheck(this, SimpleStore);\n\n  return createStore(initialState);\n};\n\nexports.default = SimpleStore;\n\nvar createStore = function createStore(initialState) {\n  var state = initialState;\n  var listeners = [];\n\n  function setState(partial) {\n    state = Object.assign({}, state, partial);\n  }\n\n  function getState() {\n    return state;\n  }\n\n  function dispatch() {\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n  }\n\n  function subscribe(listener) {\n    listeners.push(listener);\n    return {\n      unsubscribe: function unsubscribe() {\n        return _unsubscribe(listener);\n      }\n    };\n  }\n\n  function _unsubscribe(listener) {\n    var index = listeners.indexOf(listener);\n    index >= 0 && listeners.splice(index, 1);\n  }\n\n  return {\n    setState: setState,\n    getState: getState,\n    subscribe: subscribe,\n    unsubscribe: _unsubscribe,\n    dispatch: dispatch\n  };\n};","map":{"version":3,"sources":["/Users/lixiqing/work/URTC-DEOM/node_modules/@ucloud-fe/react-components/lib/stores/SimpleStore.js"],"names":["Object","defineProperty","exports","value","_classCallCheck","instance","Constructor","TypeError","SimpleStore","initialState","createStore","default","state","listeners","setState","partial","assign","getState","dispatch","i","length","listener","subscribe","push","unsubscribe","_unsubscribe","index","indexOf","splice"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AACzCC,EAAAA,KAAK,EAAE;AADkC,CAA7C;;AAIA,SAASC,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,IAAIC,WAAW,GAAG,SAASA,WAAT,CAAqBC,YAArB,EAAmC;AACjDL,EAAAA,eAAe,CAAC,IAAD,EAAOI,WAAP,CAAf;;AAEA,SAAOE,WAAW,CAACD,YAAD,CAAlB;AACH,CAJD;;AAMAP,OAAO,CAACS,OAAR,GAAkBH,WAAlB;;AAGA,IAAIE,WAAW,GAAG,SAASA,WAAT,CAAqBD,YAArB,EAAmC;AACjD,MAAIG,KAAK,GAAGH,YAAZ;AACA,MAAII,SAAS,GAAG,EAAhB;;AAEA,WAASC,QAAT,CAAkBC,OAAlB,EAA2B;AACvBH,IAAAA,KAAK,GAAGZ,MAAM,CAACgB,MAAP,CAAc,EAAd,EAAkBJ,KAAlB,EAAyBG,OAAzB,CAAR;AACH;;AAED,WAASE,QAAT,GAAoB;AAChB,WAAOL,KAAP;AACH;;AAED,WAASM,QAAT,GAAoB;AAChB,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,SAAS,CAACO,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACvC,UAAIE,QAAQ,GAAGR,SAAS,CAACM,CAAD,CAAxB;AACAE,MAAAA,QAAQ;AACX;AACJ;;AAED,WAASC,SAAT,CAAmBD,QAAnB,EAA6B;AACzBR,IAAAA,SAAS,CAACU,IAAV,CAAeF,QAAf;AAEA,WAAO;AACHG,MAAAA,WAAW,EAAE,SAASA,WAAT,GAAuB;AAChC,eAAOC,YAAY,CAACJ,QAAD,CAAnB;AACH;AAHE,KAAP;AAKH;;AACD,WAASI,YAAT,CAAsBJ,QAAtB,EAAgC;AAC5B,QAAIK,KAAK,GAAGb,SAAS,CAACc,OAAV,CAAkBN,QAAlB,CAAZ;AACAK,IAAAA,KAAK,IAAI,CAAT,IAAcb,SAAS,CAACe,MAAV,CAAiBF,KAAjB,EAAwB,CAAxB,CAAd;AACH;;AAED,SAAO;AACHZ,IAAAA,QAAQ,EAAEA,QADP;AAEHG,IAAAA,QAAQ,EAAEA,QAFP;AAGHK,IAAAA,SAAS,EAAEA,SAHR;AAIHE,IAAAA,WAAW,EAAEC,YAJV;AAKHP,IAAAA,QAAQ,EAAEA;AALP,GAAP;AAOH,CAxCD","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SimpleStore = function SimpleStore(initialState) {\n    _classCallCheck(this, SimpleStore);\n\n    return createStore(initialState);\n};\n\nexports.default = SimpleStore;\n\n\nvar createStore = function createStore(initialState) {\n    var state = initialState;\n    var listeners = [];\n\n    function setState(partial) {\n        state = Object.assign({}, state, partial);\n    }\n\n    function getState() {\n        return state;\n    }\n\n    function dispatch() {\n        for (var i = 0; i < listeners.length; i++) {\n            var listener = listeners[i];\n            listener();\n        }\n    }\n\n    function subscribe(listener) {\n        listeners.push(listener);\n\n        return {\n            unsubscribe: function unsubscribe() {\n                return _unsubscribe(listener);\n            }\n        };\n    }\n    function _unsubscribe(listener) {\n        var index = listeners.indexOf(listener);\n        index >= 0 && listeners.splice(index, 1);\n    }\n\n    return {\n        setState: setState,\n        getState: getState,\n        subscribe: subscribe,\n        unsubscribe: _unsubscribe,\n        dispatch: dispatch\n    };\n};"]},"metadata":{},"sourceType":"script"}