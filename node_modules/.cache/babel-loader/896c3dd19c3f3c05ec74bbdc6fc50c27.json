{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.config = exports.popup = exports.loading = exports.error = exports.warning = exports.message = exports.info = exports.success = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _styledComponents = require('styled-components');\n\nvar _runtime = require('../../components/ThemeProvider/runtime');\n\nvar _Message = require('./Message');\n\nvar _Message2 = _interopRequireDefault(_Message);\n\nvar _MessageContainer = require('./MessageContainer');\n\nvar _MessageContainer2 = _interopRequireDefault(_MessageContainer);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar config = {\n  duration: 4500,\n  getContainer: function getContainer() {\n    return document.body;\n  },\n  top: 20\n};\nvar messageContainerDom = document.createElement('div');\nvar mainContainerDom = config.getContainer();\nvar containerRef = void 0;\n\n_reactDom2.default.render(_react2.default.createElement(_MessageContainer2.default, {\n  ref: function ref(_ref) {\n    return containerRef = _ref;\n  },\n  id: 'uc-fe-message-content-wrap',\n  top: config.top\n}), messageContainerDom);\n\nmainContainerDom.appendChild(messageContainerDom);\n\nvar popupMessage = function popupMessage(message) {\n  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : config.duration;\n  var onClose = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n  var messageUid = containerRef.appendMessage(_react2.default.createElement(_styledComponents.ThemeProvider, {\n    theme: (0, _runtime.getRuntimeTheme)()\n  }, message));\n\n  var destroy = function destroy() {\n    containerRef.removeMessage(messageUid) && onClose();\n  };\n\n  if (duration) {\n    setTimeout(function () {\n      destroy();\n    }, duration);\n  }\n\n  return {\n    destory: function destory() {\n      console.error('Wraning: wrong name of destory, please use destroy to instead');\n      destroy();\n    },\n    destroy: destroy\n  };\n};\n\nvar showMessage = function showMessage(styleType, content) {\n  var duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : config.duration;\n  var onClose = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n  var option = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  var zIndex = option.zIndex,\n      style = option.style,\n      className = option.className;\n  var props = {\n    children: content\n  };\n  var newStyle = Object.assign({}, style);\n\n  if ('zIndex' in option) {\n    newStyle.zIndex = zIndex;\n  }\n\n  if (!_react2.default.isValidElement(content) && Object.prototype.toString.call(content) === '[object Object]') {\n    props = content;\n  }\n\n  var destroy = function destroy() {};\n\n  var message = _react2.default.createElement(_Message2.default, _extends({\n    styleType: styleType,\n    style: newStyle,\n    className: className\n  }, props, {\n    onClose: function onClose() {\n      return destroy();\n    }\n  }));\n\n  var instance = popupMessage(message, duration, onClose, option);\n  destroy = instance.destroy;\n  return instance;\n};\n\nvar message = function message() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return showMessage.apply(undefined, ['default'].concat(args));\n};\n\nvar info = function info() {\n  for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return showMessage.apply(undefined, ['default'].concat(args));\n};\n\nvar success = function success() {\n  for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    args[_key3] = arguments[_key3];\n  }\n\n  return showMessage.apply(undefined, ['success'].concat(args));\n};\n\nvar warning = function warning() {\n  for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    args[_key4] = arguments[_key4];\n  }\n\n  return showMessage.apply(undefined, ['warning'].concat(args));\n};\n\nvar error = function error() {\n  for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n    args[_key5] = arguments[_key5];\n  }\n\n  return showMessage.apply(undefined, ['error'].concat(args));\n};\n\nvar loading = function loading() {\n  for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    args[_key6] = arguments[_key6];\n  }\n\n  return showMessage.apply(undefined, ['loading'].concat(args));\n};\n\nvar popup = function popup() {\n  return popupMessage.apply(undefined, arguments);\n};\n\nvar changeConfig = function changeConfig() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if ('duration' in options) {\n    config.duration = options.duration;\n  }\n\n  if ('top' in options) {\n    config.top = options.top;\n    containerRef && containerRef.setTop(options.top);\n  }\n};\n\nexports.success = success;\nexports.info = info;\nexports.message = message;\nexports.warning = warning;\nexports.error = error;\nexports.loading = loading;\nexports.popup = popup;\nexports.config = changeConfig;","map":{"version":3,"sources":["/Users/lixiqing/work/URTC-DEOM/node_modules/@ucloud-fe/react-components/lib/components/Message/method.js"],"names":["Object","defineProperty","exports","value","config","popup","loading","error","warning","message","info","success","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react","require","_react2","_interopRequireDefault","_reactDom","_reactDom2","_styledComponents","_runtime","_Message","_Message2","_MessageContainer","_MessageContainer2","obj","__esModule","default","duration","getContainer","document","body","top","messageContainerDom","createElement","mainContainerDom","containerRef","render","ref","_ref","id","appendChild","popupMessage","onClose","messageUid","appendMessage","ThemeProvider","theme","getRuntimeTheme","destroy","removeMessage","setTimeout","destory","console","showMessage","styleType","content","option","zIndex","style","className","props","children","newStyle","isValidElement","toString","instance","_len","args","Array","_key","apply","concat","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","_len6","_key6","changeConfig","options","setTop"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.config = exports.popup = exports.loading = exports.error = exports.warning = exports.message = exports.info = exports.success = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _styledComponents = require('styled-components');\n\nvar _runtime = require('../../components/ThemeProvider/runtime');\n\nvar _Message = require('./Message');\n\nvar _Message2 = _interopRequireDefault(_Message);\n\nvar _MessageContainer = require('./MessageContainer');\n\nvar _MessageContainer2 = _interopRequireDefault(_MessageContainer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n    duration: 4500,\n    getContainer: function getContainer() {\n        return document.body;\n    },\n    top: 20\n};\n\nvar messageContainerDom = document.createElement('div');\n\nvar mainContainerDom = config.getContainer();\nvar containerRef = void 0;\n_reactDom2.default.render(_react2.default.createElement(_MessageContainer2.default, { ref: function ref(_ref) {\n        return containerRef = _ref;\n    }, id: 'uc-fe-message-content-wrap', top: config.top }), messageContainerDom);\n\nmainContainerDom.appendChild(messageContainerDom);\n\nvar popupMessage = function popupMessage(message) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : config.duration;\n    var onClose = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n    var messageUid = containerRef.appendMessage(_react2.default.createElement(\n        _styledComponents.ThemeProvider,\n        { theme: (0, _runtime.getRuntimeTheme)() },\n        message\n    ));\n    var destroy = function destroy() {\n        containerRef.removeMessage(messageUid) && onClose();\n    };\n    if (duration) {\n        setTimeout(function () {\n            destroy();\n        }, duration);\n    }\n    return {\n        destory: function destory() {\n            console.error('Wraning: wrong name of destory, please use destroy to instead');\n            destroy();\n        },\n        destroy: destroy\n    };\n};\n\nvar showMessage = function showMessage(styleType, content) {\n    var duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : config.duration;\n    var onClose = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n    var option = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    var zIndex = option.zIndex,\n        style = option.style,\n        className = option.className;\n\n    var props = {\n        children: content\n    };\n    var newStyle = Object.assign({}, style);\n    if ('zIndex' in option) {\n        newStyle.zIndex = zIndex;\n    }\n    if (!_react2.default.isValidElement(content) && Object.prototype.toString.call(content) === '[object Object]') {\n        props = content;\n    }\n    var destroy = function destroy() {};\n    var message = _react2.default.createElement(_Message2.default, _extends({ styleType: styleType, style: newStyle, className: className }, props, { onClose: function onClose() {\n            return destroy();\n        } }));\n    var instance = popupMessage(message, duration, onClose, option);\n    destroy = instance.destroy;\n    return instance;\n};\n\nvar message = function message() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n    }\n\n    return showMessage.apply(undefined, ['default'].concat(args));\n};\nvar info = function info() {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n    }\n\n    return showMessage.apply(undefined, ['default'].concat(args));\n};\nvar success = function success() {\n    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n    }\n\n    return showMessage.apply(undefined, ['success'].concat(args));\n};\nvar warning = function warning() {\n    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n    }\n\n    return showMessage.apply(undefined, ['warning'].concat(args));\n};\nvar error = function error() {\n    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n    }\n\n    return showMessage.apply(undefined, ['error'].concat(args));\n};\nvar loading = function loading() {\n    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n    }\n\n    return showMessage.apply(undefined, ['loading'].concat(args));\n};\n\nvar popup = function popup() {\n    return popupMessage.apply(undefined, arguments);\n};\n\nvar changeConfig = function changeConfig() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if ('duration' in options) {\n        config.duration = options.duration;\n    }\n    if ('top' in options) {\n        config.top = options.top;\n        containerRef && containerRef.setTop(options.top);\n    }\n};\n\nexports.success = success;\nexports.info = info;\nexports.message = message;\nexports.warning = warning;\nexports.error = error;\nexports.loading = loading;\nexports.popup = popup;\nexports.config = changeConfig;"]},"metadata":{},"sourceType":"script"}