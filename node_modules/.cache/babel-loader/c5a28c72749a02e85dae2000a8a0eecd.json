{"ast":null,"code":"import _Row from \"@ucloud-fe/react-components/lib/components/Row\";\nimport _Col from \"@ucloud-fe/react-components/lib/components/Col\";\nimport _Select from \"@ucloud-fe/react-components/lib/components/Select\";\n\nvar _dec,\n    _class,\n    _class2,\n    _temp,\n    _jsxFileName = \"/Users/lixiqing/work/URTC-DEOM/src/components/cameraTest/index.jsx\";\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { observer, inject } from \"mobx-react\";\nimport VideoWrapper from \"../../container/videoWrapper\";\nconst {\n  Option\n} = _Select;\nconst Wrapper = styled.div`\n  position: relative;\n  height: 100%;\n`;\nconst LeftContent = styled.div`\n  height: 200px;\n  margin: 10% 0 10% 0px;\n  box-sizing:border-box;\n  padding-left:10px;\n  width: 100%;\n  vertical-align: top;\n  border-right: 2px dashed rgba(0, 0, 0, 0.1);\n  .title {\n    text-align: left;\n  }\n  .lable {\n    line-height: 20xp;\n    display: inline-block;\n    padding-right: 10px;\n  }\n`;\nconst RightContent = styled.div`\n  height: 200px;\n  margin: 10% 0 10% 10px;\n  width: 100%;\n  border-right: 1px;\n  box-sizing:border-box;\n  padding-top:4px;\n  .title {\n    font-size: 14px;\n    color: #366bee;\n    padding-bottom: 11px;\n  }\n  .text {\n    color: #333;\n    line-height: 20px;\n    font-size: 12px;\n    margin: 0;\n  }\n  .ps {\n    color: #666;\n    font-size: 12px;\n    line-height: 17px;\n    width: 285px;\n    margin: 0;\n    box-sizing: border-box;\n    padding: 21px 0 0 90px;\n    text-align: left;\n  }\n`;\nconst BtnWrapper = styled.div`\n  :hover {\n    opacity: 0.9;\n  }\n  width: 100%;\n  height: 48px;\n  line-height: 48px;\n  background-color: ${props => props.backgoundColor ? props.backgoundColor : \"#366bee\"};\n  color: ${props => props.color ? props.color : \"#fff\"};\n  cursor: pointer;\n  font-size: 16px;\n`;\n/**\n * @param client sdk实例\n * @param list array []  设备数组\n * @param onOk  func 确定方法\n * @param onCancel func fail方法\n */\n\nlet CameraTest = (_dec = inject(\"store\"), _dec(_class = observer(_class = (_temp = _class2 = class CameraTest extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectId: this.props.list[0].deviceId\n    };\n\n    this.bundleChangeDevice = e => {\n      this.setState({\n        selectId: e\n      });\n    };\n  }\n\n  componentDidMount() {}\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.client && !this.isWatching) {\n      this.Client = nextProps.client;\n      this.isWatching = true;\n    }\n  }\n\n  render() {\n    let {\n      selectId\n    } = this.state;\n    let {\n      list\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Wrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(_Row, {\n      gutter: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(_Col, {\n      span: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(LeftContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"lable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, \" \\u6444\\u50CF\\u5934:\"), /*#__PURE__*/React.createElement(_Select, {\n      value: selectId,\n      onChange: this.bundleChangeDevice,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, list.map((v, i) => /*#__PURE__*/React.createElement(Option, {\n      key: i,\n      value: v.deviceId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }\n    }, v.label)))), /*#__PURE__*/React.createElement(VideoWrapper, {\n      id: selectId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(BtnWrapper, {\n      onClick: () => {\n        this.props.onOk && this.props.onOk();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }, \"\\u53EF\\u4EE5\\u770B\\u5230\")), /*#__PURE__*/React.createElement(_Col, {\n      span: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(RightContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 15\n      }\n    }, \"\\u770B\\u4E0D\\u5230\\u753B\\u9762\\uFF1F\\u8BD5\\u8BD5\\u5982\\u4E0B\\u65B9\\u6CD5\\uFF1A\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 15\n      }\n    }, \"1.\\u8BF7\\u5141\\u8BB8\\u6D4F\\u89C8\\u5668\\u4F7F\\u7528\\u6444\\u50CF\\u5934\\u6743\\u9650\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 15\n      }\n    }, \"2.\\u786E\\u8BA4\\u6444\\u50CF\\u5934\\u672A\\u88AB\\u5176\\u4ED6\\u7A0B\\u5E8F\\u5360\\u7528\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 15\n      }\n    }, \"3.\\u9009\\u62E9\\u5916\\u7F6E\\u6444\\u50CF\\u5934\\u6216\\u6362\\u4E00\\u53F0\\u7535\\u8111\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"ps\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }\n    }, \"\\u6CE8\\u610F\\uFF1A\\u6444\\u50CF\\u5934\\u635F\\u574F\\u53EF\\u6B63\\u5E38\\u76F4\\u64AD\\uFF0C\\u53EA\\u662F\\u89C2\\u770B\\u9875\\u65E0\\u6CD5\\u770B\\u5230\\u60A8\\u7684\\u6444\\u50CF\\u5934\\u753B\\u9762\")), /*#__PURE__*/React.createElement(BtnWrapper, {\n      onClick: () => {\n        this.props.onCancel && this.props.onCancel();\n      },\n      backgoundColor: \"#eee\",\n      color: \"#666\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, \"\\u770B\\u4E0D\\u5230\"))));\n  }\n\n}, _class2.defaultProps = {\n  index: 0,\n  list: []\n}, _temp)) || _class) || _class);\nexport default CameraTest;","map":{"version":3,"sources":["/Users/lixiqing/work/URTC-DEOM/src/components/cameraTest/index.jsx"],"names":["React","styled","observer","inject","VideoWrapper","Option","Wrapper","div","LeftContent","RightContent","BtnWrapper","props","backgoundColor","color","CameraTest","Component","state","selectId","list","deviceId","bundleChangeDevice","e","setState","componentDidMount","componentWillReceiveProps","nextProps","client","isWatching","Client","render","map","v","i","label","onOk","onCancel","defaultProps","index"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport { Row, Col, Select } from \"@ucloud-fe/react-components\";\nimport { observer, inject } from \"mobx-react\";\nimport VideoWrapper from \"../../container/videoWrapper\";\nconst { Option } = Select;\n\nconst Wrapper = styled.div`\n  position: relative;\n  height: 100%;\n`;\n\nconst LeftContent = styled.div`\n  height: 200px;\n  margin: 10% 0 10% 0px;\n  box-sizing:border-box;\n  padding-left:10px;\n  width: 100%;\n  vertical-align: top;\n  border-right: 2px dashed rgba(0, 0, 0, 0.1);\n  .title {\n    text-align: left;\n  }\n  .lable {\n    line-height: 20xp;\n    display: inline-block;\n    padding-right: 10px;\n  }\n`;\n\nconst RightContent = styled.div`\n  height: 200px;\n  margin: 10% 0 10% 10px;\n  width: 100%;\n  border-right: 1px;\n  box-sizing:border-box;\n  padding-top:4px;\n  .title {\n    font-size: 14px;\n    color: #366bee;\n    padding-bottom: 11px;\n  }\n  .text {\n    color: #333;\n    line-height: 20px;\n    font-size: 12px;\n    margin: 0;\n  }\n  .ps {\n    color: #666;\n    font-size: 12px;\n    line-height: 17px;\n    width: 285px;\n    margin: 0;\n    box-sizing: border-box;\n    padding: 21px 0 0 90px;\n    text-align: left;\n  }\n`;\n\nconst BtnWrapper = styled.div`\n  :hover {\n    opacity: 0.9;\n  }\n  width: 100%;\n  height: 48px;\n  line-height: 48px;\n  background-color: ${(props) =>\n    props.backgoundColor ? props.backgoundColor : \"#366bee\"};\n  color: ${(props) => (props.color ? props.color : \"#fff\")};\n  cursor: pointer;\n  font-size: 16px;\n`;\n\n/**\n * @param client sdk实例\n * @param list array []  设备数组\n * @param onOk  func 确定方法\n * @param onCancel func fail方法\n */\n\n@inject(\"store\")\n@observer\nclass CameraTest extends React.Component {\n  static defaultProps = {\n    index: 0,\n    list: [],\n  };\n\n  state = {\n    selectId: this.props.list[0].deviceId,\n  };\n\n  componentDidMount() {}\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.client && !this.isWatching) {\n      this.Client = nextProps.client;\n      this.isWatching = true;\n    }\n  }\n\n  bundleChangeDevice = (e) => {\n    this.setState({\n      selectId: e,\n    });\n  };\n\n  render() {\n    let { selectId } = this.state;\n    let { list } = this.props;\n    return (\n      <Wrapper>\n        <Row gutter={0}>\n          <Col span={6}>\n            <LeftContent>\n              <div className=\"title\">\n                <span className=\"lable\"> 摄像头:</span>\n                <Select value={selectId} onChange={this.bundleChangeDevice}>\n                  {list.map((v, i) => (\n                    <Option key={i} value={v.deviceId}>\n                      {v.label}\n                    </Option>\n                  ))}\n                </Select>\n              </div>\n              <VideoWrapper id={selectId} />\n            </LeftContent>\n            <BtnWrapper\n              onClick={() => {\n                this.props.onOk && this.props.onOk();\n              }}\n            >\n              可以看到\n            </BtnWrapper>\n          </Col>\n          <Col span={6}>\n            <RightContent>\n              <p className=\"title\">看不到画面？试试如下方法：</p>\n              <p className=\"text\">1.请允许浏览器使用摄像头权限</p>\n              <p className=\"text\">2.确认摄像头未被其他程序占用</p>\n              <p className=\"text\">3.选择外置摄像头或换一台电脑</p>\n              <p className=\"ps\">\n                注意：摄像头损坏可正常直播，只是观看页无法看到您的摄像头画面\n              </p>\n            </RightContent>\n            <BtnWrapper\n              onClick={() => {\n                this.props.onCancel && this.props.onCancel();\n              }}\n              backgoundColor={\"#eee\"}\n              color={\"#666\"}\n            >\n              看不到\n            </BtnWrapper>\n          </Col>\n        </Row>\n      </Wrapper>\n    );\n  }\n}\n\nexport default CameraTest;\n"]},"metadata":{},"sourceType":"module"}