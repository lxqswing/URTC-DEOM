{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.prefixCls = undefined;\n\nvar _debounce2 = require('lodash/debounce');\n\nvar _debounce3 = _interopRequireDefault(_debounce2);\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _class, _temp, _initialiseProps;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactLifecyclesCompat = require('react-lifecycles-compat');\n\nvar _placements = require('./placements');\n\nvar _placements2 = _interopRequireDefault(_placements);\n\nvar _style = require('./style');\n\nvar _ContainerContext = require('./ContainerContext');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Animation = ['fade', 'zoom', 'bounce', 'slide-up'];\nvar Trigger = ['hover', 'focus', 'click', 'contextMenu'];\nvar Placement = Object.keys(_placements2.default);\nvar Popover = (_temp = _class = function (_Component) {\n  _inherits(Popover, _Component);\n\n  function Popover(props) {\n    _classCallCheck(this, Popover);\n\n    var _this = _possibleConstructorReturn(this, (Popover.__proto__ || Object.getPrototypeOf(Popover)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    if ('visible' in props) {\n      _this.state = {\n        visible: props.visible\n      };\n    } else {\n      _this.state = {\n        visible: props.defaultVisible\n      };\n    }\n\n    return _this;\n  }\n\n  _createClass(Popover, [{\n    key: 'getPopup',\n    value: function getPopup() {\n      var popup = this.props.popup;\n      return _react2.default.createElement('div', {\n        ref: this.bindPopupWrap\n      }, popup);\n    }\n  }, {\n    key: 'getPopupDomNode',\n    value: function getPopupDomNode() {\n      return this.trigger.getPopupDomNode();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          children = _props.children,\n          transitionName = _props.transitionName,\n          animation = _props.animation,\n          align = _props.align,\n          placement = _props.placement,\n          trigger = _props.trigger,\n          _props$stretch = _props.stretch,\n          stretch = _props$stretch === undefined ? [] : _props$stretch,\n          className = _props.className,\n          getPopupContainer = _props.getPopupContainer,\n          forwardPopupContainer = _props.forwardPopupContainer,\n          rest = _objectWithoutProperties(_props, ['children', 'transitionName', 'animation', 'align', 'placement', 'trigger', 'stretch', 'className', 'getPopupContainer', 'forwardPopupContainer']);\n\n      var popup = this.getPopup();\n\n      var renderPopover = function renderPopover(getPopupContainer) {\n        return _react2.default.createElement(_style.PopoverWrap, _extends({}, rest, {\n          triggerRef: _this2.saveTrigger,\n          action: trigger,\n          popupPlacement: placement,\n          popupAlign: align,\n          popupTransitionName: transitionName || animation ? _style.animationPrefixCls + '-' + animation : null,\n          popupVisible: popup == null ? false : _this2.state.visible,\n          popup: popup,\n          onPopupVisibleChange: _this2.onVisibleChange,\n          stretch: stretch.join(''),\n          trueClassName: className,\n          getPopupContainer: getPopupContainer\n        }), children);\n      };\n\n      return !getPopupContainer && forwardPopupContainer ? _react2.default.createElement(_ContainerContext.Consumer, null, function () {\n        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            getPopupContainerFromContext = _ref2.getPopupContainer;\n\n        return renderPopover(getPopupContainerFromContext || (typeof forwardPopupContainer === 'function' ? forwardPopupContainer : undefined));\n      }) : renderPopover(getPopupContainer);\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps) {\n      if ('visible' in nextProps) {\n        return {\n          visible: nextProps.visible\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Popover;\n}(_react.Component), _class.propTypes = {\n  /** 受控，控制弹出层展示 */\n  visible: _propTypes2.default.bool,\n\n  /** 非受控，是否默认展示弹出层 */\n  defaultVisible: _propTypes2.default.bool,\n\n  /** 弹出层显示隐藏时触发 */\n  onVisibleChange: _propTypes2.default.func,\n\n  /** 如何触发弹出层，focus需要注意被包裹元素必须能触发focus事件，如链接、按钮、input等 */\n  trigger: _propTypes2.default.arrayOf(_propTypes2.default.oneOf(Trigger)),\n\n  /** 根据鼠标位置定位 */\n  alignPoint: _propTypes2.default.bool,\n\n  /** @ignore */\n  showAction: _propTypes2.default.array,\n\n  /** @ignore */\n  hideAction: _propTypes2.default.array,\n\n  /** 位置 */\n  placement: _propTypes2.default.oneOf(Placement),\n\n  /**\n   * @ignore\n   * 自定义定位配置\n   */\n  builtinPlacements: _propTypes2.default.object,\n\n  /** 自定义定位 */\n  align: _propTypes2.default.object,\n\n  /** 尺寸自适应，'width', 'minWidth', 'height', 'minHeight' 或混合使用 */\n  stretch: _propTypes2.default.arrayOf(_propTypes2.default.oneOf(['width', 'minWidth', 'height', 'minHeight'])),\n\n  /** 弹出层内容 */\n  popup: _propTypes2.default.node,\n\n  /** 弹出层的类名 */\n  popupClassName: _propTypes2.default.string,\n\n  /** 弹出层的样式 */\n  popupStyle: _propTypes2.default.object,\n\n  /** 弹出层的z-index */\n  zIndex: _propTypes2.default.number,\n\n  /** 自定义弹出层容器 */\n  getPopupContainer: _propTypes2.default.func,\n\n  /** 是否使用最上层传入的安全容器，如果为 function，在没有找到安全容器时将会使用该 function 作为 getPopupContainer 的值 */\n  forwardPopupContainer: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.func]),\n\n  /**\n   * @ignore\n   * 自定义类名前缀\n   */\n  prefixCls: _propTypes2.default.string,\n\n  /**\n   * 需要对子元素进行定位，所以只接收一个有效 react 元素（不接收文本节点）\n   */\n  children: _propTypes2.default.element.isRequired,\n\n  /** 动画名称，slide-up只支持上下方向的弹窗 */\n  animation: _propTypes2.default.oneOf(Animation),\n\n  /**\n   * @ignore\n   * 自定义动画\n   */\n  transitionName: _propTypes2.default.string,\n\n  /**\n   * 更新时强制重新定位\n   * @ignore\n   */\n  forceAlignWhenUpdate: _propTypes2.default.bool,\n\n  /** @ignore */\n  className: _propTypes2.default.string\n}, _class.defaultProps = {\n  trigger: ['hover'],\n  showAction: [],\n  hideAction: [],\n  popupClassName: '',\n  animation: 'fade',\n  popupStyle: {},\n  defaultVisible: false,\n  onVisibleChange: function onVisibleChange() {},\n  placement: 'bottomLeft',\n  builtinPlacements: _placements2.default,\n  prefixCls: _style.prefixCls\n}, _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.__scroll_lock = false;\n\n  this.bindPopupWrap = function (_ref) {\n    if (_this3.popupWrap === _ref) return;\n\n    if (_this3.popupWrap) {\n      _this3.popupWrap.removeEventListener('scroll', _this3.onPopupWrapScroll, true);\n    }\n\n    _this3.popupWrap = _ref;\n\n    if (_this3.popupWrap) {\n      _this3.popupWrap.addEventListener('scroll', _this3.onPopupWrapScroll, true);\n    }\n  };\n\n  this.onPopupWrapScroll = function () {\n    _this3.__scroll_lock = true;\n\n    _this3.unlockScroll();\n  };\n\n  this.unlockScroll = (0, _debounce3.default)(function () {\n    _this3.__scroll_lock = false;\n  }, 200);\n\n  this.componentDidMount = function () {\n    document.addEventListener('scroll', _this3.onScroll, true);\n  };\n\n  this.componentWillUnmount = function () {\n    document.removeEventListener('scroll', _this3.onScroll, true);\n  };\n\n  this.onScroll = function () {\n    if (_this3.__scroll_lock) return;\n\n    _this3.forceAlign();\n  };\n\n  this.forceAlign = (0, _debounce3.default)(function () {\n    if (_this3.__scroll_lock) return;\n    _this3.trigger && _this3.trigger.forcePopupAlign();\n  }, 33);\n\n  this.componentDidUpdate = function () {\n    _this3.props.forceAlignWhenUpdate && _this3.forceAlign();\n  };\n\n  this.onVisibleChange = function (visible) {\n    var props = _this3.props;\n\n    if (!('visible' in props)) {\n      _this3.setState({\n        visible: visible\n      });\n    }\n\n    props.onVisibleChange(visible);\n  };\n\n  this.saveTrigger = function (node) {\n    _this3.trigger = node;\n  };\n}, _temp);\nObject.assign(Popover, {\n  Animation: Animation,\n  Trigger: Trigger,\n  Placement: Placement\n});\n(0, _reactLifecyclesCompat.polyfill)(Popover);\nexports.default = Popover;\nexports.prefixCls = _style.prefixCls;","map":{"version":3,"sources":["/Users/lixiqing/work/URTC-DEOM/node_modules/@ucloud-fe/react-components/lib/components/Popover/Popover.js"],"names":["Object","defineProperty","exports","value","prefixCls","undefined","_debounce2","require","_debounce3","_interopRequireDefault","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_class","_temp","_initialiseProps","_react","_react2","_propTypes","_propTypes2","_reactLifecyclesCompat","_placements","_placements2","_style","_ContainerContext","obj","__esModule","default","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","Animation","Trigger","Placement","Popover","_Component","_this","getPrototypeOf","state","visible","defaultVisible","getPopup","popup","createElement","ref","bindPopupWrap","getPopupDomNode","trigger","render","_this2","_props","children","transitionName","animation","align","placement","_props$stretch","stretch","className","getPopupContainer","forwardPopupContainer","rest","renderPopover","PopoverWrap","triggerRef","saveTrigger","action","popupPlacement","popupAlign","popupTransitionName","animationPrefixCls","popupVisible","onPopupVisibleChange","onVisibleChange","join","trueClassName","Consumer","_ref2","getPopupContainerFromContext","getDerivedStateFromProps","nextProps","Component","propTypes","bool","func","arrayOf","oneOf","alignPoint","showAction","array","hideAction","builtinPlacements","object","node","popupClassName","string","popupStyle","zIndex","number","oneOfType","element","isRequired","forceAlignWhenUpdate","defaultProps","_this3","__scroll_lock","_ref","popupWrap","removeEventListener","onPopupWrapScroll","addEventListener","unlockScroll","componentDidMount","document","onScroll","componentWillUnmount","forceAlign","forcePopupAlign","componentDidUpdate","setState","polyfill"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.prefixCls = undefined;\n\nvar _debounce2 = require('lodash/debounce');\n\nvar _debounce3 = _interopRequireDefault(_debounce2);\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp, _initialiseProps;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactLifecyclesCompat = require('react-lifecycles-compat');\n\nvar _placements = require('./placements');\n\nvar _placements2 = _interopRequireDefault(_placements);\n\nvar _style = require('./style');\n\nvar _ContainerContext = require('./ContainerContext');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Animation = ['fade', 'zoom', 'bounce', 'slide-up'];\nvar Trigger = ['hover', 'focus', 'click', 'contextMenu'];\nvar Placement = Object.keys(_placements2.default);\n\nvar Popover = (_temp = _class = function (_Component) {\n    _inherits(Popover, _Component);\n\n    function Popover(props) {\n        _classCallCheck(this, Popover);\n\n        var _this = _possibleConstructorReturn(this, (Popover.__proto__ || Object.getPrototypeOf(Popover)).call(this, props));\n\n        _initialiseProps.call(_this);\n\n        if ('visible' in props) {\n            _this.state = {\n                visible: props.visible\n            };\n        } else {\n            _this.state = {\n                visible: props.defaultVisible\n            };\n        }\n        return _this;\n    }\n\n    _createClass(Popover, [{\n        key: 'getPopup',\n        value: function getPopup() {\n            var popup = this.props.popup;\n\n            return _react2.default.createElement(\n                'div',\n                { ref: this.bindPopupWrap },\n                popup\n            );\n        }\n    }, {\n        key: 'getPopupDomNode',\n        value: function getPopupDomNode() {\n            return this.trigger.getPopupDomNode();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var _props = this.props,\n                children = _props.children,\n                transitionName = _props.transitionName,\n                animation = _props.animation,\n                align = _props.align,\n                placement = _props.placement,\n                trigger = _props.trigger,\n                _props$stretch = _props.stretch,\n                stretch = _props$stretch === undefined ? [] : _props$stretch,\n                className = _props.className,\n                getPopupContainer = _props.getPopupContainer,\n                forwardPopupContainer = _props.forwardPopupContainer,\n                rest = _objectWithoutProperties(_props, ['children', 'transitionName', 'animation', 'align', 'placement', 'trigger', 'stretch', 'className', 'getPopupContainer', 'forwardPopupContainer']);\n\n            var popup = this.getPopup();\n\n            var renderPopover = function renderPopover(getPopupContainer) {\n                return _react2.default.createElement(\n                    _style.PopoverWrap,\n                    _extends({}, rest, {\n                        triggerRef: _this2.saveTrigger,\n                        action: trigger,\n                        popupPlacement: placement,\n                        popupAlign: align,\n                        popupTransitionName: transitionName || animation ? _style.animationPrefixCls + '-' + animation : null,\n                        popupVisible: popup == null ? false : _this2.state.visible,\n                        popup: popup,\n                        onPopupVisibleChange: _this2.onVisibleChange,\n                        stretch: stretch.join(''),\n                        trueClassName: className,\n                        getPopupContainer: getPopupContainer\n                    }),\n                    children\n                );\n            };\n            return !getPopupContainer && forwardPopupContainer ? _react2.default.createElement(\n                _ContainerContext.Consumer,\n                null,\n                function () {\n                    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                        getPopupContainerFromContext = _ref2.getPopupContainer;\n\n                    return renderPopover(getPopupContainerFromContext || (typeof forwardPopupContainer === 'function' ? forwardPopupContainer : undefined));\n                }\n            ) : renderPopover(getPopupContainer);\n        }\n    }], [{\n        key: 'getDerivedStateFromProps',\n        value: function getDerivedStateFromProps(nextProps) {\n            if ('visible' in nextProps) {\n                return {\n                    visible: nextProps.visible\n                };\n            }\n            return null;\n        }\n    }]);\n\n    return Popover;\n}(_react.Component), _class.propTypes = {\n    /** 受控，控制弹出层展示 */\n    visible: _propTypes2.default.bool,\n    /** 非受控，是否默认展示弹出层 */\n    defaultVisible: _propTypes2.default.bool,\n    /** 弹出层显示隐藏时触发 */\n    onVisibleChange: _propTypes2.default.func,\n    /** 如何触发弹出层，focus需要注意被包裹元素必须能触发focus事件，如链接、按钮、input等 */\n    trigger: _propTypes2.default.arrayOf(_propTypes2.default.oneOf(Trigger)),\n    /** 根据鼠标位置定位 */\n    alignPoint: _propTypes2.default.bool,\n    /** @ignore */\n    showAction: _propTypes2.default.array,\n    /** @ignore */\n    hideAction: _propTypes2.default.array,\n    /** 位置 */\n    placement: _propTypes2.default.oneOf(Placement),\n    /**\n     * @ignore\n     * 自定义定位配置\n     */\n    builtinPlacements: _propTypes2.default.object,\n    /** 自定义定位 */\n    align: _propTypes2.default.object,\n    /** 尺寸自适应，'width', 'minWidth', 'height', 'minHeight' 或混合使用 */\n    stretch: _propTypes2.default.arrayOf(_propTypes2.default.oneOf(['width', 'minWidth', 'height', 'minHeight'])),\n    /** 弹出层内容 */\n    popup: _propTypes2.default.node,\n    /** 弹出层的类名 */\n    popupClassName: _propTypes2.default.string,\n    /** 弹出层的样式 */\n    popupStyle: _propTypes2.default.object,\n    /** 弹出层的z-index */\n    zIndex: _propTypes2.default.number,\n    /** 自定义弹出层容器 */\n    getPopupContainer: _propTypes2.default.func,\n    /** 是否使用最上层传入的安全容器，如果为 function，在没有找到安全容器时将会使用该 function 作为 getPopupContainer 的值 */\n    forwardPopupContainer: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.func]),\n    /**\n     * @ignore\n     * 自定义类名前缀\n     */\n    prefixCls: _propTypes2.default.string,\n    /**\n     * 需要对子元素进行定位，所以只接收一个有效 react 元素（不接收文本节点）\n     */\n    children: _propTypes2.default.element.isRequired,\n    /** 动画名称，slide-up只支持上下方向的弹窗 */\n    animation: _propTypes2.default.oneOf(Animation),\n    /**\n     * @ignore\n     * 自定义动画\n     */\n    transitionName: _propTypes2.default.string,\n    /**\n     * 更新时强制重新定位\n     * @ignore\n     */\n    forceAlignWhenUpdate: _propTypes2.default.bool,\n    /** @ignore */\n    className: _propTypes2.default.string\n}, _class.defaultProps = {\n    trigger: ['hover'],\n    showAction: [],\n    hideAction: [],\n    popupClassName: '',\n    animation: 'fade',\n    popupStyle: {},\n    defaultVisible: false,\n    onVisibleChange: function onVisibleChange() {},\n\n    placement: 'bottomLeft',\n    builtinPlacements: _placements2.default,\n    prefixCls: _style.prefixCls\n}, _initialiseProps = function _initialiseProps() {\n    var _this3 = this;\n\n    this.__scroll_lock = false;\n\n    this.bindPopupWrap = function (_ref) {\n        if (_this3.popupWrap === _ref) return;\n        if (_this3.popupWrap) {\n            _this3.popupWrap.removeEventListener('scroll', _this3.onPopupWrapScroll, true);\n        }\n        _this3.popupWrap = _ref;\n        if (_this3.popupWrap) {\n            _this3.popupWrap.addEventListener('scroll', _this3.onPopupWrapScroll, true);\n        }\n    };\n\n    this.onPopupWrapScroll = function () {\n        _this3.__scroll_lock = true;\n        _this3.unlockScroll();\n    };\n\n    this.unlockScroll = (0, _debounce3.default)(function () {\n        _this3.__scroll_lock = false;\n    }, 200);\n\n    this.componentDidMount = function () {\n        document.addEventListener('scroll', _this3.onScroll, true);\n    };\n\n    this.componentWillUnmount = function () {\n        document.removeEventListener('scroll', _this3.onScroll, true);\n    };\n\n    this.onScroll = function () {\n        if (_this3.__scroll_lock) return;\n        _this3.forceAlign();\n    };\n\n    this.forceAlign = (0, _debounce3.default)(function () {\n        if (_this3.__scroll_lock) return;\n        _this3.trigger && _this3.trigger.forcePopupAlign();\n    }, 33);\n\n    this.componentDidUpdate = function () {\n        _this3.props.forceAlignWhenUpdate && _this3.forceAlign();\n    };\n\n    this.onVisibleChange = function (visible) {\n        var props = _this3.props;\n        if (!('visible' in props)) {\n            _this3.setState({\n                visible: visible\n            });\n        }\n        props.onVisibleChange(visible);\n    };\n\n    this.saveTrigger = function (node) {\n        _this3.trigger = node;\n    };\n}, _temp);\n\n\nObject.assign(Popover, {\n    Animation: Animation,\n    Trigger: Trigger,\n    Placement: Placement\n});\n\n(0, _reactLifecyclesCompat.polyfill)(Popover);\nexports.default = Popover;\nexports.prefixCls = _style.prefixCls;"]},"metadata":{},"sourceType":"script"}