{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _isObject2 = require('lodash/isObject');\n\nvar _isObject3 = _interopRequireDefault(_isObject2);\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _class, _temp, _initialiseProps;\n/**\n * copy from rc-input-number\n */\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Icon = require('../../components/Icon');\n\nvar _Icon2 = _interopRequireDefault(_Icon);\n\nvar _Tooltip = require('../../components/Tooltip');\n\nvar _Tooltip2 = _interopRequireDefault(_Tooltip);\n\nvar _KeyCode = require('../../interfaces/KeyCode');\n\nvar _KeyCode2 = _interopRequireDefault(_KeyCode);\n\nvar _style = require('./style');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction noop() {}\n\nfunction defaultParser(input) {\n  return input.replace(/[^\\w.-]+/g, '');\n}\n\nvar SPEED = 200;\nvar DELAY = 600;\nvar StyleType = ['default', 'split', 'pagination'];\nvar Size = ['sm', 'md', 'lg'];\n/**\n * Max Safe Integer -- on IE this is not available, so manually set the number in that case.\n * The reason this is used, instead of Infinity is because numbers above the MSI are unstable\n */\n\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || Math.pow(2, 53) - 1;\nvar NumberInput = (_temp = _class = function (_Component) {\n  _inherits(NumberInput, _Component);\n\n  function NumberInput(props) {\n    _classCallCheck(this, NumberInput);\n\n    var _this = _possibleConstructorReturn(this, (NumberInput.__proto__ || Object.getPrototypeOf(NumberInput)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var value = void 0;\n\n    if ('value' in props) {\n      value = props.value;\n    } else {\n      value = props.defaultValue;\n    }\n\n    value = _this.toNumber(value);\n    _this.state = {\n      inputValue: _this.toPrecisionAsStep(value),\n      value: value,\n      focused: props.autoFocus,\n      tooltipVisible: false\n    };\n    return _this;\n  }\n\n  _createClass(NumberInput, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.componentDidUpdate();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ('value' in nextProps) {\n        var value = this.state.focused ? nextProps.value : this.getValidValue(nextProps.value, nextProps.min, nextProps.max);\n        this.setState({\n          value: value,\n          inputValue: this.inputting ? value : this.toPrecisionAsStep(value)\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate() {\n      try {\n        this.start = this.input.selectionStart;\n        this.end = this.input.selectionEnd;\n      } catch (e) {// Fix error in Chrome:\n        // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n        // http://stackoverflow.com/q/21177489/3040605\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      // pressingUpOrDown is true means that someone just click up or down button\n      // https://github.com/ant-design/ant-design/issues/9204\n      if (!this.pressingUpOrDown) {\n        return;\n      }\n\n      if (this.props.focusOnUpDown && this.state.focused) {\n        var selectionRange = this.input.setSelectionRange;\n\n        if (selectionRange && typeof selectionRange === 'function' && this.start !== undefined && this.end !== undefined) {\n          this.input.setSelectionRange(this.start, this.end);\n        } else {\n          this.focus();\n        }\n\n        this.pressingUpOrDown = false;\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.stop();\n    }\n  }, {\n    key: 'getCurrentValidValue',\n    value: function getCurrentValidValue(value) {\n      var val = value;\n\n      if (val === '') {\n        val = '';\n      } else if (!this.isNotCompleteNumber(val)) {\n        val = this.getValidValue(val);\n      } else {\n        val = this.state.value;\n      }\n\n      return this.props.computeValidNumber(this.toNumber(val));\n    }\n  }, {\n    key: 'getRatio',\n    value: function getRatio(e) {\n      var ratio = 1;\n\n      if (e.metaKey || e.ctrlKey) {\n        ratio = 0.1;\n      } else if (e.shiftKey) {\n        ratio = 10;\n      }\n\n      return ratio;\n    }\n  }, {\n    key: 'getValueFromEvent',\n    value: function getValueFromEvent(e) {\n      return e.target.value.trim().replace(/。/g, '.');\n    }\n  }, {\n    key: 'getValidValue',\n    value: function getValidValue(value) {\n      var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.min;\n      var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.props.max;\n      var val = parseFloat(value, 10); // https://github.com/ant-design/ant-design/issues/7358\n\n      if (isNaN(val)) {\n        return value;\n      }\n\n      if (val < min) {\n        val = min;\n      }\n\n      if (val > max) {\n        val = max;\n      }\n\n      return val;\n    }\n  }, {\n    key: 'setValue',\n    value: function setValue(v, callback) {\n      // trigger onChange\n      var newValue = this.isNotCompleteNumber(parseFloat(v, 10)) ? undefined : parseFloat(v, 10);\n      var changed = newValue !== this.state.value || '' + newValue !== '' + this.state.inputValue; // https://github.com/ant-design/ant-design/issues/7363\n\n      if (!('value' in this.props)) {\n        this.setState({\n          value: newValue,\n          inputValue: this.toPrecisionAsStep(v)\n        }, callback);\n      } else {\n        // always set input value same as value\n        this.setState({\n          inputValue: this.toPrecisionAsStep(this.state.value)\n        }, callback);\n      }\n\n      if (changed) {\n        this.props.onChange(newValue);\n      }\n    }\n  }, {\n    key: 'getPrecision',\n    value: function getPrecision(value) {\n      if ('precision' in this.props) {\n        return this.props.precision;\n      }\n\n      var valueString = value.toString();\n\n      if (valueString.indexOf('e-') >= 0) {\n        return parseInt(valueString.slice(valueString.indexOf('e-') + 2), 10);\n      }\n\n      var precision = 0;\n\n      if (valueString.indexOf('.') >= 0) {\n        precision = valueString.length - valueString.indexOf('.') - 1;\n      }\n\n      return precision;\n    } // step={1.0} value={1.51}\n    // press +\n    // then value should be 2.51, rather than 2.5\n    // if this.props.precision is undefined\n    // https://github.com/react-component/input-number/issues/39\n\n  }, {\n    key: 'getMaxPrecision',\n    value: function getMaxPrecision(currentValue) {\n      var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      if ('precision' in this.props) {\n        return this.props.precision;\n      }\n\n      var step = this.props.step;\n      var ratioPrecision = this.getPrecision(ratio);\n      var stepPrecision = this.getPrecision(step);\n      var currentValuePrecision = this.getPrecision(currentValue);\n\n      if (!currentValue) {\n        return ratioPrecision + stepPrecision;\n      }\n\n      return Math.max(currentValuePrecision, ratioPrecision + stepPrecision);\n    }\n  }, {\n    key: 'getPrecisionFactor',\n    value: function getPrecisionFactor(currentValue) {\n      var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var precision = this.getMaxPrecision(currentValue, ratio);\n      return Math.pow(10, precision);\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      this.input.focus();\n    }\n  }, {\n    key: 'blur',\n    value: function blur() {\n      this.input.blur();\n    }\n  }, {\n    key: 'formatWrapper',\n    value: function formatWrapper(num) {\n      if (this.props.formatter) {\n        return this.props.formatter(num);\n      }\n\n      return num;\n    }\n  }, {\n    key: 'toPrecisionAsStep',\n    value: function toPrecisionAsStep(num) {\n      if (this.isNotCompleteNumber(num) || num === '') {\n        return num;\n      }\n\n      var precision = Math.abs(this.getMaxPrecision(num));\n\n      if (precision === 0) {\n        return num.toString();\n      }\n\n      if (!isNaN(precision)) {\n        return Number(num).toFixed(precision);\n      }\n\n      return num.toString();\n    } // '1.' '1x' 'xx' '' => are not complete numbers\n\n  }, {\n    key: 'isNotCompleteNumber',\n    value: function isNotCompleteNumber(num) {\n      return isNaN(num) || num === '' || num === null || num && num.toString().indexOf('.') === num.toString().length - 1;\n    }\n  }, {\n    key: 'toNumber',\n    value: function toNumber(num) {\n      if (this.isNotCompleteNumber(num)) {\n        return num;\n      }\n\n      if ('precision' in this.props) {\n        return Number(Number(num).toFixed(this.props.precision));\n      }\n\n      return Number(num);\n    } // '1.0' '1.00'  => may be a inputing number\n\n  }, {\n    key: 'toNumberWhenUserInput',\n    value: function toNumberWhenUserInput(num) {\n      // num.length > 16 => prevent input large number will became Infinity\n      if ((/\\.\\d*0$/.test(num) || num.length > 16) && this.state.focused) {\n        return num;\n      }\n\n      return this.toNumber(num);\n    }\n  }, {\n    key: 'upStep',\n    value: function upStep(val, rat) {\n      var _props = this.props,\n          step = _props.step,\n          upStep = _props.upStep,\n          min = _props.min;\n      var precisionFactor = this.getPrecisionFactor(val, rat);\n      var precision = Math.abs(this.getMaxPrecision(val, rat));\n\n      if (upStep != null) {\n        step = upStep;\n      }\n\n      var result = void 0;\n\n      if (typeof val === 'number') {\n        result = ((precisionFactor * val + precisionFactor * step * rat) / precisionFactor).toFixed(precision);\n      } else {\n        result = min === -Infinity ? step : min;\n      }\n\n      return this.toNumber(result);\n    }\n  }, {\n    key: 'downStep',\n    value: function downStep(val, rat) {\n      var _props2 = this.props,\n          step = _props2.step,\n          downStep = _props2.downStep,\n          min = _props2.min;\n      var precisionFactor = this.getPrecisionFactor(val, rat);\n      var precision = Math.abs(this.getMaxPrecision(val, rat));\n\n      if (downStep != null) {\n        step = downStep;\n      }\n\n      var result = void 0;\n\n      if (typeof val === 'number') {\n        result = ((precisionFactor * val - precisionFactor * step * rat) / precisionFactor).toFixed(precision);\n      } else {\n        result = min === -Infinity ? -step : min;\n      }\n\n      return this.toNumber(result);\n    }\n  }, {\n    key: 'step',\n    value: function step(type, e) {\n      var _this2 = this;\n\n      var ratio = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      var recursive = arguments[3];\n      this.stop();\n\n      if (e) {\n        e.persist();\n        e.preventDefault();\n      }\n\n      var props = this.props;\n\n      if (props.disabled) {\n        return;\n      }\n\n      var value = this.toNumber(this.state.inputValue || 0);\n\n      if (this.isNotCompleteNumber(value)) {\n        return;\n      }\n\n      var val = this[type + 'Step'](value, ratio);\n      var outOfRange = val > props.max || val < props.min;\n\n      if (val > props.max) {\n        val = props.max;\n      } else if (val < props.min) {\n        val = props.min;\n      }\n\n      if (outOfRange) {\n        return;\n      }\n\n      this.setValue(this.getCurrentValidValue(val), function () {\n        return _this2.props.onNumberChange(val);\n      });\n      this.autoStepTimer = setTimeout(function () {\n        _this2[type](e, ratio, true);\n      }, recursive ? SPEED : DELAY);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props3 = this.props,\n          disabled = _props3.disabled,\n          className = _props3.className,\n          style = _props3.style,\n          styleType = _props3.styleType,\n          hideHandler = _props3.hideHandler,\n          size = _props3.size;\n      var focused = this.state.focused;\n      return _react2.default.createElement(_style.NumberInputWrap, {\n        focused: focused,\n        disabled: disabled,\n        hideHandler: hideHandler,\n        size: size,\n        styleType: styleType,\n        style: style,\n        className: className\n      }, this.renderHandler(), this.renderInput());\n    }\n  }]);\n\n  return NumberInput;\n}(_react.Component), _class.propTypes = {\n  /** 值，受控 */\n  value: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]),\n\n  /** 默认值，非受控 */\n  defaultValue: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]),\n\n  /** @ignore */\n  focusOnUpDown: _propTypes2.default.bool,\n\n  /** @ignore */\n  autoFocus: _propTypes2.default.bool,\n\n  /** 修改回调 */\n  onChange: _propTypes2.default.func,\n\n  /**\n   * 有效的修改回调，使用按钮改变值或者输入、回车后失焦时触发，可防止监听到无效的回调\n   * @param value - 当前的值，必为有效数字\n   */\n  onNumberChange: _propTypes2.default.func,\n\n  /** @ignore */\n  onKeyDown: _propTypes2.default.func,\n\n  /** @ignore */\n  onKeyUp: _propTypes2.default.func,\n\n  /** @ignore */\n  onEnter: _propTypes2.default.func,\n\n  /** 禁用 */\n  disabled: _propTypes2.default.bool,\n\n  /** @ignore */\n  onFocus: _propTypes2.default.func,\n\n  /** @ignore */\n  onBlur: _propTypes2.default.func,\n\n  /** 只读 */\n  readOnly: _propTypes2.default.bool,\n\n  /** 最大值 */\n  max: _propTypes2.default.number,\n\n  /** 最小值 */\n  min: _propTypes2.default.number,\n\n  /** 按钮每次变动大小 */\n  step: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]),\n\n  /** @ignore */\n  upStep: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]),\n\n  /** @ignore */\n  downStep: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]),\n\n  /** 自定义'+'按钮 */\n  upHandler: _propTypes2.default.node,\n\n  /** 自定义'-'按钮 */\n  downHandler: _propTypes2.default.node,\n\n  /** 定义数值展示格式化 */\n  formatter: _propTypes2.default.func,\n\n  /** 定义输入内容过滤 */\n  parser: _propTypes2.default.func,\n\n  /** 精度，小数点位数 */\n  precision: _propTypes2.default.number,\n\n  /** @ignore */\n  className: _propTypes2.default.string,\n\n  /** @ignore */\n  style: _propTypes2.default.object,\n\n  /** 样式风格 */\n  styleType: _propTypes2.default.oneOf(StyleType),\n\n  /** 尺寸 */\n  size: _propTypes2.default.oneOf(Size),\n\n  /** 自定义后缀 */\n  suffix: _propTypes2.default.node,\n\n  /** input框自定义样式 */\n  inputStyle: _propTypes2.default.object,\n\n  /** 计算合法值 */\n  computeValidNumber: _propTypes2.default.func,\n\n  /** 是否隐藏操作按钮 */\n  hideHandler: _propTypes2.default.bool,\n\n  /**\n   * 输入提示，hover 和输入焦点时显示，可直接传入 tooltip 内容，或传入 tooltip 的 props，props 参考 tooltip 组件文档\n   * 注意，如果使用自定义 props 中的 visible 和 onVisibleChange 则需要自己去控制 tooltip 的显示隐藏\n   */\n  tooltip: _propTypes2.default.oneOfType([_propTypes2.default.node, _propTypes2.default.object])\n}, _class.defaultProps = {\n  focusOnUpDown: true,\n  min: -MAX_SAFE_INTEGER,\n  step: 1,\n  onChange: noop,\n  onNumberChange: noop,\n  onKeyDown: noop,\n  onEnter: noop,\n  onFocus: noop,\n  onBlur: noop,\n  parser: defaultParser,\n  styleType: StyleType[0],\n  size: 'md',\n  computeValidNumber: function computeValidNumber(v) {\n    return v;\n  }\n}, _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onKeyDown = function (e) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    if (e.keyCode === _KeyCode2.default['ARROW_UP']) {\n      var ratio = _this3.getRatio(e);\n\n      _this3.up(e, ratio);\n\n      _this3.stop();\n    } else if (e.keyCode === _KeyCode2.default['ARROW_DOWN']) {\n      var _ratio = _this3.getRatio(e);\n\n      _this3.down(e, _ratio);\n\n      _this3.stop();\n    } else if (e.keyCode === _KeyCode2.default['ENTER']) {\n      _this3.onEnter.apply(_this3, [e].concat(args));\n    }\n\n    var onKeyDown = _this3.props.onKeyDown;\n\n    if (onKeyDown) {\n      onKeyDown.apply(undefined, [e].concat(args));\n    }\n  };\n\n  this.onKeyUp = function (e) {\n    for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    _this3.stop();\n\n    var onKeyUp = _this3.props.onKeyUp;\n\n    if (onKeyUp) {\n      onKeyUp.apply(undefined, [e].concat(args));\n    }\n  };\n\n  this.onChange = function (e) {\n    if (_this3.state.focused) {\n      _this3.inputting = true;\n    }\n\n    var input = _this3.props.parser(_this3.getValueFromEvent(e));\n\n    _this3.setState({\n      inputValue: input\n    });\n\n    _this3.props.onChange(_this3.toNumberWhenUserInput(input)); // valid number or invalid string\n\n  };\n\n  this.onFocus = function () {\n    var _props4;\n\n    _this3.setState({\n      focused: true\n    });\n\n    (_props4 = _this3.props).onFocus.apply(_props4, arguments);\n  };\n\n  this.onBlur = function (e) {\n    for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n\n    _this3.inputting = false;\n\n    _this3.setState({\n      focused: false\n    });\n\n    var value = _this3.getCurrentValidValue(_this3.state.inputValue);\n\n    e.persist(); // fix https://github.com/react-component/input-number/issues/51\n\n    _this3.setValue(value, function () {\n      var _props5;\n\n      (_props5 = _this3.props).onBlur.apply(_props5, [e].concat(args));\n\n      _this3.props.onNumberChange(value);\n    });\n  };\n\n  this.onEnter = function (e) {\n    for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      args[_key4 - 1] = arguments[_key4];\n    }\n\n    var value = _this3.getCurrentValidValue(_this3.state.inputValue);\n\n    if (e) {\n      e.persist();\n      e.preventDefault();\n    }\n\n    _this3.setValue(value, function () {\n      var _props6;\n\n      (_props6 = _this3.props).onEnter.apply(_props6, [e].concat(args));\n\n      _this3.props.onNumberChange(value);\n    });\n  };\n\n  this.stop = function () {\n    if (_this3.autoStepTimer) {\n      clearTimeout(_this3.autoStepTimer);\n    }\n  };\n\n  this.down = function (e, ratio, recursive) {\n    _this3.pressingUpOrDown = true;\n\n    _this3.step('down', e, ratio, recursive);\n  };\n\n  this.up = function (e, ratio, recursive) {\n    _this3.pressingUpOrDown = true;\n\n    _this3.step('up', e, ratio, recursive);\n  };\n\n  this.saveInput = function (node) {\n    _this3.input = node;\n  };\n\n  this.renderHandler = function () {\n    var _props7 = _this3.props,\n        upHandler = _props7.upHandler,\n        downHandler = _props7.downHandler,\n        readOnly = _props7.readOnly,\n        max = _props7.max,\n        min = _props7.min,\n        disabled = _props7.disabled,\n        styleType = _props7.styleType,\n        hideHandler = _props7.hideHandler;\n    if (hideHandler) return null;\n    var value = _this3.state.value;\n    var editable = !readOnly && !disabled;\n    var upDisabled = void 0;\n    var downDisabled = void 0;\n\n    if (value || value === 0) {\n      if (!isNaN(value)) {\n        var val = Number(value);\n\n        if (val >= max) {\n          upDisabled = true;\n        }\n\n        if (val <= min) {\n          downDisabled = true;\n        }\n      } else {\n        upDisabled = true;\n        downDisabled = true;\n      }\n    }\n\n    var upEvents = void 0;\n    var downEvents = void 0;\n    upEvents = {\n      onMouseDown: function onMouseDown(e) {\n        return editable && !upDisabled ? _this3.up(e) : noop();\n      },\n      onMouseUp: function onMouseUp(e) {\n        return _this3.stop(e);\n      },\n      onMouseLeave: function onMouseLeave(e) {\n        return _this3.stop(e);\n      }\n    };\n    downEvents = {\n      onMouseDown: function onMouseDown(e) {\n        return editable && !downDisabled ? _this3.down(e) : noop();\n      },\n      onMouseUp: function onMouseUp(e) {\n        return _this3.stop(e);\n      },\n      onMouseLeave: function onMouseLeave(e) {\n        return _this3.stop(e);\n      }\n    };\n    return _react2.default.createElement('div', null, _react2.default.createElement(_style.HandlerUp, _extends({\n      unselectable: 'unselectable',\n      disabled: disabled || upDisabled\n    }, upEvents), upHandler || _react2.default.createElement(_Icon2.default, {\n      type: {\n        default: 'caret-up',\n        split: 'plus',\n        pagination: 'right'\n      }[styleType]\n    })), _react2.default.createElement(_style.HandlerDown, _extends({\n      unselectable: 'unselectable',\n      disabled: disabled || downDisabled\n    }, downEvents), downHandler || _react2.default.createElement(_Icon2.default, {\n      type: {\n        default: 'caret-down',\n        split: 'minus',\n        pagination: 'left'\n      }[styleType]\n    })));\n  };\n\n  this.onTooltipVisibleChange = function (visible) {\n    _this3.setState({\n      tooltipVisible: visible\n    });\n  };\n\n  this.renderInput = function () {\n    /* eslint-disable no-unused-vars */\n    var _props8 = _this3.props,\n        disabled = _props8.disabled,\n        className = _props8.className,\n        readOnly = _props8.readOnly,\n        style = _props8.style,\n        defaultValue = _props8.defaultValue,\n        focusOnUpDown = _props8.focusOnUpDown,\n        onChange = _props8.onChange,\n        onFocus = _props8.onFocus,\n        onBlur = _props8.onBlur,\n        upHandler = _props8.upHandler,\n        downHandler = _props8.downHandler,\n        formatter = _props8.formatter,\n        parser = _props8.parser,\n        precision = _props8.precision,\n        styleType = _props8.styleType,\n        suffix = _props8.suffix,\n        inputStyle = _props8.inputStyle,\n        onNumberChange = _props8.onNumberChange,\n        computeValidNumber = _props8.computeValidNumber,\n        hideHandler = _props8.hideHandler,\n        size = _props8.size,\n        tooltip = _props8.tooltip,\n        rest = _objectWithoutProperties(_props8, ['disabled', 'className', 'readOnly', 'style', 'defaultValue', 'focusOnUpDown', 'onChange', 'onFocus', 'onBlur', 'upHandler', 'downHandler', 'formatter', 'parser', 'precision', 'styleType', 'suffix', 'inputStyle', 'onNumberChange', 'computeValidNumber', 'hideHandler', 'size', 'tooltip']);\n    /* eslint-enable no-unused-vars */\n\n\n    var _state = _this3.state,\n        focused = _state.focused,\n        inputValue = _state.inputValue,\n        value = _state.value,\n        tooltipVisible = _state.tooltipVisible; // focus state, show input value\n    // unfocus state, show valid value\n\n    var inputDisplayValue = void 0;\n\n    if (focused) {\n      inputDisplayValue = inputValue;\n    } else {\n      inputDisplayValue = _this3.toPrecisionAsStep(value);\n    }\n\n    if (inputDisplayValue === undefined || inputDisplayValue === null) {\n      inputDisplayValue = '';\n    }\n\n    var inputDisplayValueFormat = _this3.formatWrapper(inputDisplayValue);\n\n    var editable = !readOnly && !disabled;\n\n    var input = _react2.default.createElement(_style.InputWrap, null, _react2.default.createElement(_style.Input, _extends({}, rest, {\n      size: size,\n      autoComplete: 'off',\n      onFocus: _this3.onFocus,\n      onBlur: _this3.onBlur,\n      onKeyDown: editable ? _this3.onKeyDown : noop,\n      onKeyUp: editable ? _this3.onKeyUp : noop,\n      onChange: _this3.onChange,\n      disabled: disabled,\n      readOnly: readOnly,\n      innerRef: _this3.saveInput,\n      value: inputDisplayValueFormat,\n      style: inputStyle\n    })), suffix && _react2.default.createElement(_style.InputSuffix, null, suffix));\n\n    if (!tooltip) {\n      return input;\n    } else if (typeof tooltip === 'string' || _react2.default.isValidElement(tooltip)) {\n      return _react2.default.createElement(_Tooltip2.default, {\n        popup: tooltip,\n        visible: focused || tooltipVisible,\n        onVisibleChange: _this3.onTooltipVisibleChange\n      }, input);\n    } else if ((0, _isObject3.default)(tooltip)) {\n      return _react2.default.createElement(_Tooltip2.default, _extends({\n        visible: focused || tooltipVisible,\n        onVisibleChange: _this3.onTooltipVisibleChange\n      }, tooltip), input);\n    } else {\n      return input;\n    }\n  };\n}, _temp);\nNumberInput.StyleType = StyleType;\nNumberInput.Size = Size;\nexports.default = NumberInput;","map":{"version":3,"sources":["/Users/lixiqing/work/URTC-DEOM/node_modules/@ucloud-fe/react-components/lib/components/NumberInput/NumberInput.js"],"names":["Object","defineProperty","exports","value","_isObject2","require","_isObject3","_interopRequireDefault","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_class","_temp","_initialiseProps","_react","_react2","_propTypes","_propTypes2","_Icon","_Icon2","_Tooltip","_Tooltip2","_KeyCode","_KeyCode2","_style","obj","__esModule","default","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","noop","defaultParser","input","replace","SPEED","DELAY","StyleType","Size","MAX_SAFE_INTEGER","Number","Math","pow","NumberInput","_Component","_this","getPrototypeOf","defaultValue","toNumber","state","inputValue","toPrecisionAsStep","focused","autoFocus","tooltipVisible","componentDidMount","componentDidUpdate","componentWillReceiveProps","nextProps","getValidValue","min","max","setState","inputting","componentWillUpdate","start","selectionStart","end","selectionEnd","e","pressingUpOrDown","focusOnUpDown","selectionRange","setSelectionRange","undefined","focus","componentWillUnmount","stop","getCurrentValidValue","val","isNotCompleteNumber","computeValidNumber","getRatio","ratio","metaKey","ctrlKey","shiftKey","getValueFromEvent","trim","parseFloat","isNaN","setValue","v","callback","newValue","changed","onChange","getPrecision","precision","valueString","toString","parseInt","slice","getMaxPrecision","currentValue","step","ratioPrecision","stepPrecision","currentValuePrecision","getPrecisionFactor","blur","formatWrapper","num","formatter","abs","toFixed","toNumberWhenUserInput","test","upStep","rat","_props","precisionFactor","result","Infinity","downStep","_props2","type","_this2","recursive","persist","preventDefault","disabled","outOfRange","onNumberChange","autoStepTimer","setTimeout","render","_props3","className","style","styleType","hideHandler","size","createElement","NumberInputWrap","renderHandler","renderInput","Component","propTypes","oneOfType","number","string","bool","func","onKeyDown","onKeyUp","onEnter","onFocus","onBlur","readOnly","upHandler","node","downHandler","parser","object","oneOf","suffix","inputStyle","tooltip","defaultProps","_this3","_len","args","Array","_key","keyCode","up","_ratio","down","apply","concat","_len2","_key2","_props4","_len3","_key3","_props5","_len4","_key4","_props6","clearTimeout","saveInput","_props7","editable","upDisabled","downDisabled","upEvents","downEvents","onMouseDown","onMouseUp","onMouseLeave","HandlerUp","unselectable","split","pagination","HandlerDown","onTooltipVisibleChange","visible","_props8","rest","_state","inputDisplayValue","inputDisplayValueFormat","InputWrap","Input","autoComplete","innerRef","InputSuffix","isValidElement","popup","onVisibleChange"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _isObject2 = require('lodash/isObject');\n\nvar _isObject3 = _interopRequireDefault(_isObject2);\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp, _initialiseProps; /**\n                                      * copy from rc-input-number\n                                      */\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Icon = require('../../components/Icon');\n\nvar _Icon2 = _interopRequireDefault(_Icon);\n\nvar _Tooltip = require('../../components/Tooltip');\n\nvar _Tooltip2 = _interopRequireDefault(_Tooltip);\n\nvar _KeyCode = require('../../interfaces/KeyCode');\n\nvar _KeyCode2 = _interopRequireDefault(_KeyCode);\n\nvar _style = require('./style');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction noop() {}\n\nfunction defaultParser(input) {\n    return input.replace(/[^\\w.-]+/g, '');\n}\n\nvar SPEED = 200;\nvar DELAY = 600;\n\nvar StyleType = ['default', 'split', 'pagination'];\nvar Size = ['sm', 'md', 'lg'];\n/**\n * Max Safe Integer -- on IE this is not available, so manually set the number in that case.\n * The reason this is used, instead of Infinity is because numbers above the MSI are unstable\n */\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || Math.pow(2, 53) - 1;\n\nvar NumberInput = (_temp = _class = function (_Component) {\n    _inherits(NumberInput, _Component);\n\n    function NumberInput(props) {\n        _classCallCheck(this, NumberInput);\n\n        var _this = _possibleConstructorReturn(this, (NumberInput.__proto__ || Object.getPrototypeOf(NumberInput)).call(this, props));\n\n        _initialiseProps.call(_this);\n\n        var value = void 0;\n        if ('value' in props) {\n            value = props.value;\n        } else {\n            value = props.defaultValue;\n        }\n        value = _this.toNumber(value);\n\n        _this.state = {\n            inputValue: _this.toPrecisionAsStep(value),\n            value: value,\n            focused: props.autoFocus,\n            tooltipVisible: false\n        };\n        return _this;\n    }\n\n    _createClass(NumberInput, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.componentDidUpdate();\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if ('value' in nextProps) {\n                var value = this.state.focused ? nextProps.value : this.getValidValue(nextProps.value, nextProps.min, nextProps.max);\n                this.setState({\n                    value: value,\n                    inputValue: this.inputting ? value : this.toPrecisionAsStep(value)\n                });\n            }\n        }\n    }, {\n        key: 'componentWillUpdate',\n        value: function componentWillUpdate() {\n            try {\n                this.start = this.input.selectionStart;\n                this.end = this.input.selectionEnd;\n            } catch (e) {\n                // Fix error in Chrome:\n                // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n                // http://stackoverflow.com/q/21177489/3040605\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            // pressingUpOrDown is true means that someone just click up or down button\n            // https://github.com/ant-design/ant-design/issues/9204\n            if (!this.pressingUpOrDown) {\n                return;\n            }\n            if (this.props.focusOnUpDown && this.state.focused) {\n                var selectionRange = this.input.setSelectionRange;\n                if (selectionRange && typeof selectionRange === 'function' && this.start !== undefined && this.end !== undefined) {\n                    this.input.setSelectionRange(this.start, this.end);\n                } else {\n                    this.focus();\n                }\n                this.pressingUpOrDown = false;\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.stop();\n        }\n    }, {\n        key: 'getCurrentValidValue',\n        value: function getCurrentValidValue(value) {\n            var val = value;\n            if (val === '') {\n                val = '';\n            } else if (!this.isNotCompleteNumber(val)) {\n                val = this.getValidValue(val);\n            } else {\n                val = this.state.value;\n            }\n            return this.props.computeValidNumber(this.toNumber(val));\n        }\n    }, {\n        key: 'getRatio',\n        value: function getRatio(e) {\n            var ratio = 1;\n            if (e.metaKey || e.ctrlKey) {\n                ratio = 0.1;\n            } else if (e.shiftKey) {\n                ratio = 10;\n            }\n            return ratio;\n        }\n    }, {\n        key: 'getValueFromEvent',\n        value: function getValueFromEvent(e) {\n            return e.target.value.trim().replace(/。/g, '.');\n        }\n    }, {\n        key: 'getValidValue',\n        value: function getValidValue(value) {\n            var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.min;\n            var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.props.max;\n\n            var val = parseFloat(value, 10);\n            // https://github.com/ant-design/ant-design/issues/7358\n            if (isNaN(val)) {\n                return value;\n            }\n            if (val < min) {\n                val = min;\n            }\n            if (val > max) {\n                val = max;\n            }\n            return val;\n        }\n    }, {\n        key: 'setValue',\n        value: function setValue(v, callback) {\n            // trigger onChange\n            var newValue = this.isNotCompleteNumber(parseFloat(v, 10)) ? undefined : parseFloat(v, 10);\n            var changed = newValue !== this.state.value || '' + newValue !== '' + this.state.inputValue; // https://github.com/ant-design/ant-design/issues/7363\n            if (!('value' in this.props)) {\n                this.setState({\n                    value: newValue,\n                    inputValue: this.toPrecisionAsStep(v)\n                }, callback);\n            } else {\n                // always set input value same as value\n                this.setState({\n                    inputValue: this.toPrecisionAsStep(this.state.value)\n                }, callback);\n            }\n            if (changed) {\n                this.props.onChange(newValue);\n            }\n        }\n    }, {\n        key: 'getPrecision',\n        value: function getPrecision(value) {\n            if ('precision' in this.props) {\n                return this.props.precision;\n            }\n            var valueString = value.toString();\n            if (valueString.indexOf('e-') >= 0) {\n                return parseInt(valueString.slice(valueString.indexOf('e-') + 2), 10);\n            }\n            var precision = 0;\n            if (valueString.indexOf('.') >= 0) {\n                precision = valueString.length - valueString.indexOf('.') - 1;\n            }\n            return precision;\n        }\n\n        // step={1.0} value={1.51}\n        // press +\n        // then value should be 2.51, rather than 2.5\n        // if this.props.precision is undefined\n        // https://github.com/react-component/input-number/issues/39\n\n    }, {\n        key: 'getMaxPrecision',\n        value: function getMaxPrecision(currentValue) {\n            var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n            if ('precision' in this.props) {\n                return this.props.precision;\n            }\n            var step = this.props.step;\n\n            var ratioPrecision = this.getPrecision(ratio);\n            var stepPrecision = this.getPrecision(step);\n            var currentValuePrecision = this.getPrecision(currentValue);\n            if (!currentValue) {\n                return ratioPrecision + stepPrecision;\n            }\n            return Math.max(currentValuePrecision, ratioPrecision + stepPrecision);\n        }\n    }, {\n        key: 'getPrecisionFactor',\n        value: function getPrecisionFactor(currentValue) {\n            var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n            var precision = this.getMaxPrecision(currentValue, ratio);\n            return Math.pow(10, precision);\n        }\n    }, {\n        key: 'focus',\n        value: function focus() {\n            this.input.focus();\n        }\n    }, {\n        key: 'blur',\n        value: function blur() {\n            this.input.blur();\n        }\n    }, {\n        key: 'formatWrapper',\n        value: function formatWrapper(num) {\n            if (this.props.formatter) {\n                return this.props.formatter(num);\n            }\n            return num;\n        }\n    }, {\n        key: 'toPrecisionAsStep',\n        value: function toPrecisionAsStep(num) {\n            if (this.isNotCompleteNumber(num) || num === '') {\n                return num;\n            }\n            var precision = Math.abs(this.getMaxPrecision(num));\n            if (precision === 0) {\n                return num.toString();\n            }\n            if (!isNaN(precision)) {\n                return Number(num).toFixed(precision);\n            }\n            return num.toString();\n        }\n\n        // '1.' '1x' 'xx' '' => are not complete numbers\n\n    }, {\n        key: 'isNotCompleteNumber',\n        value: function isNotCompleteNumber(num) {\n            return isNaN(num) || num === '' || num === null || num && num.toString().indexOf('.') === num.toString().length - 1;\n        }\n    }, {\n        key: 'toNumber',\n        value: function toNumber(num) {\n            if (this.isNotCompleteNumber(num)) {\n                return num;\n            }\n            if ('precision' in this.props) {\n                return Number(Number(num).toFixed(this.props.precision));\n            }\n            return Number(num);\n        }\n\n        // '1.0' '1.00'  => may be a inputing number\n\n    }, {\n        key: 'toNumberWhenUserInput',\n        value: function toNumberWhenUserInput(num) {\n            // num.length > 16 => prevent input large number will became Infinity\n            if ((/\\.\\d*0$/.test(num) || num.length > 16) && this.state.focused) {\n                return num;\n            }\n            return this.toNumber(num);\n        }\n    }, {\n        key: 'upStep',\n        value: function upStep(val, rat) {\n            var _props = this.props,\n                step = _props.step,\n                upStep = _props.upStep,\n                min = _props.min;\n\n            var precisionFactor = this.getPrecisionFactor(val, rat);\n            var precision = Math.abs(this.getMaxPrecision(val, rat));\n            if (upStep != null) {\n                step = upStep;\n            }\n            var result = void 0;\n            if (typeof val === 'number') {\n                result = ((precisionFactor * val + precisionFactor * step * rat) / precisionFactor).toFixed(precision);\n            } else {\n                result = min === -Infinity ? step : min;\n            }\n            return this.toNumber(result);\n        }\n    }, {\n        key: 'downStep',\n        value: function downStep(val, rat) {\n            var _props2 = this.props,\n                step = _props2.step,\n                downStep = _props2.downStep,\n                min = _props2.min;\n\n            var precisionFactor = this.getPrecisionFactor(val, rat);\n            var precision = Math.abs(this.getMaxPrecision(val, rat));\n            if (downStep != null) {\n                step = downStep;\n            }\n            var result = void 0;\n            if (typeof val === 'number') {\n                result = ((precisionFactor * val - precisionFactor * step * rat) / precisionFactor).toFixed(precision);\n            } else {\n                result = min === -Infinity ? -step : min;\n            }\n            return this.toNumber(result);\n        }\n    }, {\n        key: 'step',\n        value: function step(type, e) {\n            var _this2 = this;\n\n            var ratio = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n            var recursive = arguments[3];\n\n            this.stop();\n            if (e) {\n                e.persist();\n                e.preventDefault();\n            }\n            var props = this.props;\n            if (props.disabled) {\n                return;\n            }\n            var value = this.toNumber(this.state.inputValue || 0);\n            if (this.isNotCompleteNumber(value)) {\n                return;\n            }\n            var val = this[type + 'Step'](value, ratio);\n            var outOfRange = val > props.max || val < props.min;\n            if (val > props.max) {\n                val = props.max;\n            } else if (val < props.min) {\n                val = props.min;\n            }\n            if (outOfRange) {\n                return;\n            }\n            this.setValue(this.getCurrentValidValue(val), function () {\n                return _this2.props.onNumberChange(val);\n            });\n            this.autoStepTimer = setTimeout(function () {\n                _this2[type](e, ratio, true);\n            }, recursive ? SPEED : DELAY);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props3 = this.props,\n                disabled = _props3.disabled,\n                className = _props3.className,\n                style = _props3.style,\n                styleType = _props3.styleType,\n                hideHandler = _props3.hideHandler,\n                size = _props3.size;\n            var focused = this.state.focused;\n\n\n            return _react2.default.createElement(\n                _style.NumberInputWrap,\n                {\n                    focused: focused,\n                    disabled: disabled,\n                    hideHandler: hideHandler,\n                    size: size,\n                    styleType: styleType,\n                    style: style,\n                    className: className\n                },\n                this.renderHandler(),\n                this.renderInput()\n            );\n        }\n    }]);\n\n    return NumberInput;\n}(_react.Component), _class.propTypes = {\n    /** 值，受控 */\n    value: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]),\n    /** 默认值，非受控 */\n    defaultValue: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]),\n    /** @ignore */\n    focusOnUpDown: _propTypes2.default.bool,\n    /** @ignore */\n    autoFocus: _propTypes2.default.bool,\n    /** 修改回调 */\n    onChange: _propTypes2.default.func,\n    /**\n     * 有效的修改回调，使用按钮改变值或者输入、回车后失焦时触发，可防止监听到无效的回调\n     * @param value - 当前的值，必为有效数字\n     */\n    onNumberChange: _propTypes2.default.func,\n    /** @ignore */\n    onKeyDown: _propTypes2.default.func,\n    /** @ignore */\n    onKeyUp: _propTypes2.default.func,\n    /** @ignore */\n    onEnter: _propTypes2.default.func,\n    /** 禁用 */\n    disabled: _propTypes2.default.bool,\n    /** @ignore */\n    onFocus: _propTypes2.default.func,\n    /** @ignore */\n    onBlur: _propTypes2.default.func,\n    /** 只读 */\n    readOnly: _propTypes2.default.bool,\n    /** 最大值 */\n    max: _propTypes2.default.number,\n    /** 最小值 */\n    min: _propTypes2.default.number,\n    /** 按钮每次变动大小 */\n    step: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]),\n    /** @ignore */\n    upStep: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]),\n    /** @ignore */\n    downStep: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]),\n    /** 自定义'+'按钮 */\n    upHandler: _propTypes2.default.node,\n    /** 自定义'-'按钮 */\n    downHandler: _propTypes2.default.node,\n    /** 定义数值展示格式化 */\n    formatter: _propTypes2.default.func,\n    /** 定义输入内容过滤 */\n    parser: _propTypes2.default.func,\n    /** 精度，小数点位数 */\n    precision: _propTypes2.default.number,\n    /** @ignore */\n    className: _propTypes2.default.string,\n    /** @ignore */\n    style: _propTypes2.default.object,\n    /** 样式风格 */\n    styleType: _propTypes2.default.oneOf(StyleType),\n    /** 尺寸 */\n    size: _propTypes2.default.oneOf(Size),\n    /** 自定义后缀 */\n    suffix: _propTypes2.default.node,\n    /** input框自定义样式 */\n    inputStyle: _propTypes2.default.object,\n    /** 计算合法值 */\n    computeValidNumber: _propTypes2.default.func,\n    /** 是否隐藏操作按钮 */\n    hideHandler: _propTypes2.default.bool,\n    /**\n     * 输入提示，hover 和输入焦点时显示，可直接传入 tooltip 内容，或传入 tooltip 的 props，props 参考 tooltip 组件文档\n     * 注意，如果使用自定义 props 中的 visible 和 onVisibleChange 则需要自己去控制 tooltip 的显示隐藏\n     */\n    tooltip: _propTypes2.default.oneOfType([_propTypes2.default.node, _propTypes2.default.object])\n}, _class.defaultProps = {\n    focusOnUpDown: true,\n    min: -MAX_SAFE_INTEGER,\n    step: 1,\n    onChange: noop,\n    onNumberChange: noop,\n    onKeyDown: noop,\n    onEnter: noop,\n    onFocus: noop,\n    onBlur: noop,\n    parser: defaultParser,\n    styleType: StyleType[0],\n    size: 'md',\n    computeValidNumber: function computeValidNumber(v) {\n        return v;\n    }\n}, _initialiseProps = function _initialiseProps() {\n    var _this3 = this;\n\n    this.onKeyDown = function (e) {\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n        }\n\n        if (e.keyCode === _KeyCode2.default['ARROW_UP']) {\n            var ratio = _this3.getRatio(e);\n            _this3.up(e, ratio);\n            _this3.stop();\n        } else if (e.keyCode === _KeyCode2.default['ARROW_DOWN']) {\n            var _ratio = _this3.getRatio(e);\n            _this3.down(e, _ratio);\n            _this3.stop();\n        } else if (e.keyCode === _KeyCode2.default['ENTER']) {\n            _this3.onEnter.apply(_this3, [e].concat(args));\n        }\n        var onKeyDown = _this3.props.onKeyDown;\n\n        if (onKeyDown) {\n            onKeyDown.apply(undefined, [e].concat(args));\n        }\n    };\n\n    this.onKeyUp = function (e) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            args[_key2 - 1] = arguments[_key2];\n        }\n\n        _this3.stop();\n        var onKeyUp = _this3.props.onKeyUp;\n\n        if (onKeyUp) {\n            onKeyUp.apply(undefined, [e].concat(args));\n        }\n    };\n\n    this.onChange = function (e) {\n        if (_this3.state.focused) {\n            _this3.inputting = true;\n        }\n        var input = _this3.props.parser(_this3.getValueFromEvent(e));\n        _this3.setState({ inputValue: input });\n        _this3.props.onChange(_this3.toNumberWhenUserInput(input)); // valid number or invalid string\n    };\n\n    this.onFocus = function () {\n        var _props4;\n\n        _this3.setState({\n            focused: true\n        });\n        (_props4 = _this3.props).onFocus.apply(_props4, arguments);\n    };\n\n    this.onBlur = function (e) {\n        for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n            args[_key3 - 1] = arguments[_key3];\n        }\n\n        _this3.inputting = false;\n        _this3.setState({\n            focused: false\n        });\n        var value = _this3.getCurrentValidValue(_this3.state.inputValue);\n        e.persist(); // fix https://github.com/react-component/input-number/issues/51\n        _this3.setValue(value, function () {\n            var _props5;\n\n            (_props5 = _this3.props).onBlur.apply(_props5, [e].concat(args));\n            _this3.props.onNumberChange(value);\n        });\n    };\n\n    this.onEnter = function (e) {\n        for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n            args[_key4 - 1] = arguments[_key4];\n        }\n\n        var value = _this3.getCurrentValidValue(_this3.state.inputValue);\n        if (e) {\n            e.persist();\n            e.preventDefault();\n        }\n        _this3.setValue(value, function () {\n            var _props6;\n\n            (_props6 = _this3.props).onEnter.apply(_props6, [e].concat(args));\n            _this3.props.onNumberChange(value);\n        });\n    };\n\n    this.stop = function () {\n        if (_this3.autoStepTimer) {\n            clearTimeout(_this3.autoStepTimer);\n        }\n    };\n\n    this.down = function (e, ratio, recursive) {\n        _this3.pressingUpOrDown = true;\n        _this3.step('down', e, ratio, recursive);\n    };\n\n    this.up = function (e, ratio, recursive) {\n        _this3.pressingUpOrDown = true;\n        _this3.step('up', e, ratio, recursive);\n    };\n\n    this.saveInput = function (node) {\n        _this3.input = node;\n    };\n\n    this.renderHandler = function () {\n        var _props7 = _this3.props,\n            upHandler = _props7.upHandler,\n            downHandler = _props7.downHandler,\n            readOnly = _props7.readOnly,\n            max = _props7.max,\n            min = _props7.min,\n            disabled = _props7.disabled,\n            styleType = _props7.styleType,\n            hideHandler = _props7.hideHandler;\n\n        if (hideHandler) return null;\n\n        var value = _this3.state.value;\n\n        var editable = !readOnly && !disabled;\n        var upDisabled = void 0;\n        var downDisabled = void 0;\n        if (value || value === 0) {\n            if (!isNaN(value)) {\n                var val = Number(value);\n                if (val >= max) {\n                    upDisabled = true;\n                }\n                if (val <= min) {\n                    downDisabled = true;\n                }\n            } else {\n                upDisabled = true;\n                downDisabled = true;\n            }\n        }\n        var upEvents = void 0;\n        var downEvents = void 0;\n\n        upEvents = {\n            onMouseDown: function onMouseDown(e) {\n                return editable && !upDisabled ? _this3.up(e) : noop();\n            },\n            onMouseUp: function onMouseUp(e) {\n                return _this3.stop(e);\n            },\n            onMouseLeave: function onMouseLeave(e) {\n                return _this3.stop(e);\n            }\n        };\n        downEvents = {\n            onMouseDown: function onMouseDown(e) {\n                return editable && !downDisabled ? _this3.down(e) : noop();\n            },\n            onMouseUp: function onMouseUp(e) {\n                return _this3.stop(e);\n            },\n            onMouseLeave: function onMouseLeave(e) {\n                return _this3.stop(e);\n            }\n        };\n\n        return _react2.default.createElement(\n            'div',\n            null,\n            _react2.default.createElement(\n                _style.HandlerUp,\n                _extends({ unselectable: 'unselectable', disabled: disabled || upDisabled }, upEvents),\n                upHandler || _react2.default.createElement(_Icon2.default, {\n                    type: {\n                        default: 'caret-up',\n                        split: 'plus',\n                        pagination: 'right'\n                    }[styleType]\n                })\n            ),\n            _react2.default.createElement(\n                _style.HandlerDown,\n                _extends({ unselectable: 'unselectable', disabled: disabled || downDisabled }, downEvents),\n                downHandler || _react2.default.createElement(_Icon2.default, {\n                    type: {\n                        default: 'caret-down',\n                        split: 'minus',\n                        pagination: 'left'\n                    }[styleType]\n                })\n            )\n        );\n    };\n\n    this.onTooltipVisibleChange = function (visible) {\n        _this3.setState({\n            tooltipVisible: visible\n        });\n    };\n\n    this.renderInput = function () {\n        /* eslint-disable no-unused-vars */\n        var _props8 = _this3.props,\n            disabled = _props8.disabled,\n            className = _props8.className,\n            readOnly = _props8.readOnly,\n            style = _props8.style,\n            defaultValue = _props8.defaultValue,\n            focusOnUpDown = _props8.focusOnUpDown,\n            onChange = _props8.onChange,\n            onFocus = _props8.onFocus,\n            onBlur = _props8.onBlur,\n            upHandler = _props8.upHandler,\n            downHandler = _props8.downHandler,\n            formatter = _props8.formatter,\n            parser = _props8.parser,\n            precision = _props8.precision,\n            styleType = _props8.styleType,\n            suffix = _props8.suffix,\n            inputStyle = _props8.inputStyle,\n            onNumberChange = _props8.onNumberChange,\n            computeValidNumber = _props8.computeValidNumber,\n            hideHandler = _props8.hideHandler,\n            size = _props8.size,\n            tooltip = _props8.tooltip,\n            rest = _objectWithoutProperties(_props8, ['disabled', 'className', 'readOnly', 'style', 'defaultValue', 'focusOnUpDown', 'onChange', 'onFocus', 'onBlur', 'upHandler', 'downHandler', 'formatter', 'parser', 'precision', 'styleType', 'suffix', 'inputStyle', 'onNumberChange', 'computeValidNumber', 'hideHandler', 'size', 'tooltip']);\n        /* eslint-enable no-unused-vars */\n\n        var _state = _this3.state,\n            focused = _state.focused,\n            inputValue = _state.inputValue,\n            value = _state.value,\n            tooltipVisible = _state.tooltipVisible;\n\n        // focus state, show input value\n        // unfocus state, show valid value\n\n        var inputDisplayValue = void 0;\n        if (focused) {\n            inputDisplayValue = inputValue;\n        } else {\n            inputDisplayValue = _this3.toPrecisionAsStep(value);\n        }\n\n        if (inputDisplayValue === undefined || inputDisplayValue === null) {\n            inputDisplayValue = '';\n        }\n\n        var inputDisplayValueFormat = _this3.formatWrapper(inputDisplayValue);\n        var editable = !readOnly && !disabled;\n        var input = _react2.default.createElement(\n            _style.InputWrap,\n            null,\n            _react2.default.createElement(_style.Input, _extends({}, rest, {\n                size: size,\n                autoComplete: 'off',\n                onFocus: _this3.onFocus,\n                onBlur: _this3.onBlur,\n                onKeyDown: editable ? _this3.onKeyDown : noop,\n                onKeyUp: editable ? _this3.onKeyUp : noop,\n                onChange: _this3.onChange,\n                disabled: disabled,\n                readOnly: readOnly,\n                innerRef: _this3.saveInput,\n                value: inputDisplayValueFormat,\n                style: inputStyle\n            })),\n            suffix && _react2.default.createElement(\n                _style.InputSuffix,\n                null,\n                suffix\n            )\n        );\n\n        if (!tooltip) {\n            return input;\n        } else if (typeof tooltip === 'string' || _react2.default.isValidElement(tooltip)) {\n            return _react2.default.createElement(\n                _Tooltip2.default,\n                {\n                    popup: tooltip,\n                    visible: focused || tooltipVisible,\n                    onVisibleChange: _this3.onTooltipVisibleChange\n                },\n                input\n            );\n        } else if ((0, _isObject3.default)(tooltip)) {\n            return _react2.default.createElement(\n                _Tooltip2.default,\n                _extends({ visible: focused || tooltipVisible, onVisibleChange: _this3.onTooltipVisibleChange }, tooltip),\n                input\n            );\n        } else {\n            return input;\n        }\n    };\n}, _temp);\n\n\nNumberInput.StyleType = StyleType;\nNumberInput.Size = Size;\nexports.default = NumberInput;"]},"metadata":{},"sourceType":"script"}