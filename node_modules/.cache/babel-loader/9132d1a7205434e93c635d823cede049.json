{"ast":null,"code":"import _Modal from \"@ucloud-fe/react-components/lib/components/Modal\";\nimport _Row from \"@ucloud-fe/react-components/lib/components/Row\";\nimport _Button from \"@ucloud-fe/react-components/lib/components/Button\";\nimport _Col from \"@ucloud-fe/react-components/lib/components/Col\";\nimport _Icon from \"@ucloud-fe/react-components/lib/components/Icon\";\nimport _Message from \"@ucloud-fe/react-components/lib/components/Message\";\n\nvar _dec,\n    _class,\n    _class2,\n    _temp,\n    _jsxFileName = \"/Users/lixiqing/work/URTC-DEOM/src/components/footer/index.jsx\";\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { observer, inject } from \"mobx-react\";\nimport RtcRelay from \"../rtcRelay/index\";\nimport Record from \"../record\";\nimport { isPC, objectToParamString } from \"../../util/index\";\nimport CopyBtn from \"../../container/copyBtn\";\nconst Footer = styled.div`\n  position: absolute;\n  /* height: ${props => props.isPhone ? \"139px\" : \"64px\"}; */\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  color: #fff;\n  background-color: #2f3238;\n  text-align: left;\n  box-sizing: border-box;\n  overflow: hidden;\n  .left_wrapper {\n    text-align: left;\n  }\n  .right_wrapper {\n    text-align: right;\n    box-sizing: border-box;\n    padding-right: 14px;\n  }\n  .btn {\n    margin-left: 12px;\n    background-color: #494e5c;\n    color: #fff;\n    min-width: 64px;\n  }\n  .uc-fe-button {\n    height: 32px;\n    vertical-align: inherit;\n  }\n  .control_wrapper {\n    position: relative;\n    display: inline-block;\n    margin-left: 16px;\n    font-size: 18px;\n    height: 28px;\n    width: 34px;\n    line-height: 28px;\n    text-align: center;\n    padding-top: 3px;\n    cursor: pointer;\n    background-color: #494e5c;\n    vertical-align: middle;\n    border-radius: 2px;\n    color: #fff;\n    box-shadow: 0px 1px 3px -1px rgba(0, 0, 0, 0.32),\n      0px 1px 1px -1px rgba(0, 0, 0, 0.5), 0px 1px 2px 0px rgba(0, 0, 0, 0.28),\n      0px 1px 0px 0px rgba(255, 255, 255, 0.12);\n  }\n  .btn_wrapper {\n    display: inline-block;\n    font-size: 12px;\n    &.leave_btn_wrapper {\n      padding-left: 6px;\n      margin-left: 16px;\n      border-left: 1px solid #5a5f73;\n    }\n    .leave_btn {\n      background: #eb5252;\n      color: #ffffff;\n    }\n  }\n  .disable {\n    color: #999;\n  }\n  .disable:after {\n    display: block;\n    content: \"\";\n    width: 2px;\n    height: 20px;\n    background-color: #fff;\n    position: absolute;\n    border-radius: 2px;\n    transform: rotate(-135deg);\n    top: 7px;\n    left: 16px;\n  }\n  .operation-item {\n    display: inline-block;\n    font-size: 34px;\n    line-height: 40px;\n    padding: 5px 40px 0;\n    cursor: pointer;\n    position: relative;\n    .active-item {\n      font-size: 16px;\n      display: block;\n      line-height: 20px;\n      padding-bottom: 15px;\n    }\n  }\n\n  &.video-footer {\n    overflow: initial;\n    background-color: #2f3238;\n    padding-top: 18px;\n    height: 66px;\n  }\n  @media screen and (max-width: 900px) {\n    .video-footer {\n      min-height: 40px;\n      padding-top: 10px;\n    }\n  }\n  @media screen and (max-width: 720px) {\n    .video-footer {\n      min-height: 40px;\n      padding-top: 10px;\n    }\n    .video-header .room-info .roomId,\n    .video-header .room-info .userName {\n      padding: 0 10px;\n    }\n    .disable:after {\n      top: 12px;\n      left: 19px;\n    }\n    .video-header .network {\n      top: 0;\n      right: auto;\n      left: 200px;\n      margin-left: 0;\n      line-height: 40px;\n      font-size: 12px;\n    }\n    .video-header .uc-fe-icon {\n      font-size: 16px;\n    }\n    .video-wrapper {\n      bottom: 140px;\n    }\n    .video-wrapper .video-current video {\n      left: 0;\n      width: 100% !important;\n      top: 36px;\n      max-height: 220px;\n    }\n    .video-wrapper .video-cur {\n      display: none;\n    }\n    .video-wrapper .video-list {\n      position: absolute;\n      top: 225px;\n      width: 100%;\n      bottom: 0;\n    }\n    .video-wrapper .video-list li {\n      width: 46%;\n      margin: 0;\n      padding-left: 2.6%;\n      margin: 0;\n      float: left;\n    }\n\n    .footer-left {\n      position: absolute;\n      left: 0;\n      bottom: 0;\n      width: 100%;\n      background-color: #1e2024;\n      height: 60px;\n    }\n    .footer-left .left_wrapper {\n      text-align: center;\n    }\n    .footer-left .left_wrapper .control_wrapper {\n      width: 40px;\n      height: 40px;\n      border-radius: 20px;\n      line-height: 40px;\n      margin: 0 10px;\n    }\n    .footer-left .leave_btn_wrapper {\n      display: inline-block;\n      background-color: #eb5252;\n    }\n    .footer-right .btn_wrapper.leave_btn_wrapper {\n      display: none;\n    }\n    .footer-left .left_wrapper .share-screen {\n      display: none;\n    }\n    .footer-right {\n      position: absolute;\n      left: 0;\n      bottom: 60px;\n      height: 80px;\n      width: 100%;\n      background-color: #1e2024;\n    }\n    .footer-right .right_wrapper {\n      text-align: center;\n      border-bottom: 1px solid #5a5f73;\n      padding: 0 0 20px;\n      margin: 0 20px;\n    }\n    .footer-right .right_wrapper .btn_wrapper {\n      width: 33%;\n    }\n    .footer-right .right_wrapper button {\n      width: 80%;\n      height: 40px;\n      padding: 0;\n      margin: 0 !important;\n    }\n    .footer-right .active-publish {\n      text-align: left;\n    }\n    .footer-right .active-record {\n      text-align: center;\n    }\n    .footer-right .active-relay {\n      text-align: right;\n    }\n    .footer-right .right_wrapper .btn_wrapper.leave_btn_wrapper {\n      border-left: none;\n    }\n    .footer-right .share-link {\n      position: fixed;\n      top: 4px;\n      right: 4px;\n      margin: 0;\n      background: transparent;\n    }\n  }\n`;\nconst Status = styled.div`\n  position: relative;\n  display: inline-block;\n  padding: 6px;\n  &:after {\n    display: block;\n    content: \"\";\n    width: 6px;\n    left: 0px;\n    top: 5px;\n    height: 6px;\n    background-color: ${props => props.color ? props.color : \"#999\"};\n    /* animation: vc 1s infinite; */\n    position: absolute;\n    border-radius: 3px;\n    z-index: 11;\n  }\n  /* @keyframes vc {\n    from {\n      background-color: #42d448;\n    }\n    to {\n      background-color: #31a035;\n    }\n  } */\n`;\n/**\n * @param client sdk实例\n * @param paramsData obj\n * @param sid string 本地流id\n * @param unPublish fun 选填 ，下麦方法\n */\n\nlet ClassFooter = (_dec = inject(\"store\"), _dec(_class = observer(_class = (_temp = _class2 = class ClassFooter extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.copyUrlRecord = () => {\n      this.setState({\n        recordPlayUrl: this.props.store.record.url,\n        copied: true\n      }, () => {\n        _Message.success(\"复制地址成功\");\n      });\n      setTimeout(() => {\n        this.setState({\n          copied: false\n        });\n      }, 400);\n    };\n\n    this.videoMute = () => {\n      const {\n        localMuteVideo\n      } = this.props.store.common;\n\n      if (!localMuteVideo) {\n        this.Client.muteVideo(this.props.sid);\n        this.props.store.common.setVideoMuteStats(true);\n      } else {\n        this.Client.unmuteVideo(this.props.sid);\n        this.props.store.common.setVideoMuteStats(false);\n      }\n    };\n\n    this.unPublish = () => {\n      let {\n        lineFlag\n      } = this.state;\n      console.log(this.props.sid);\n\n      if (lineFlag) {\n        this.Client.unpublish(stream => {\n          _Message.success(\"下麦成功\");\n\n          this.props.destoryStream && this.props.destoryStream();\n          this.setState({\n            lineFlag: false,\n            videoMute: false,\n            audioMute: false\n          });\n          this.props.store.common.setAudioMuteStats(false);\n          this.props.store.common.setVideoMuteStats(false);\n        });\n      } else {\n        this.Client.publish({\n          audio: true,\n          video: true\n        }, function () {\n          _Message.error( /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 25\n            }\n          }, \"\\u6CA1\\u6709\\u63A8\\u6D41\\u6743\\u9650\"), undefined, () => console.log(\"onClose\"));\n        });\n        this.setState({\n          lineFlag: true\n        });\n      }\n    };\n\n    this.copyUrl = () => {\n      this.setState({\n        copied: true\n      }, () => {\n        _Message.success(\"复制地址成功\");\n      });\n      setTimeout(() => {\n        this.setState({\n          copied: false\n        });\n      }, 400);\n    };\n\n    this.audioMute = () => {\n      const {\n        localMuteAudio\n      } = this.props.store.common;\n\n      if (!localMuteAudio) {\n        this.Client.muteAudio(this.props.sid);\n        this.props.store.common.setAudioMuteStats(true);\n      } else {\n        this.Client.unmuteAudio(this.props.sid);\n        this.props.store.common.setAudioMuteStats(false);\n      }\n    };\n\n    this.shareScreen = () => {\n      this.Client.setVideoProfile(this.props.store.settings.desktopProfile, () => {\n        console.log(\"setVideoProfile success \", this.props.store.settings.desktopProfile);\n        this.Client.publish({\n          audio: false,\n          video: false,\n          screen: true\n        });\n      }, error => {\n        _Message.error(error);\n      });\n    };\n\n    this.leaveRoom = () => {\n      this.Client.leaveRoom();\n      window.location.href = \"/\";\n    };\n\n    this.setVolume = e => {\n      let {\n        audioVolumeFlag\n      } = this.state; //产品说是静音效果\n      // let v = audioVolumeFlag ? 100 : 0;\n      // console.log(v);\n      // this.Client.setAudioVolume({ volume: v }, (Err) => {\n      //   if (Err) {\n      //     this.setState({\n      //       audioVolumeFlag: false,\n      //     });\n      //     alert(`设置声音失败 ${Err}`);\n      //     return;\n      //   }\n      //   this.setState({\n      //     audioVolumeFlag: !audioVolumeFlag,\n      //   });\n      // });\n\n      let totalStream = this.Client.getRemoteStreams();\n      totalStream.forEach(stream => {\n        const {\n          sid\n        } = stream;\n\n        if (audioVolumeFlag) {\n          // 启用全部音频\n          this.Client.unmuteAudio(sid);\n        } else {\n          this.Client.muteAudio(sid);\n        }\n      });\n      this.props.store.common.setGlobalMuteAudioStats(!audioVolumeFlag);\n      this.setState({\n        audioVolumeFlag: !audioVolumeFlag\n      });\n    };\n\n    this.startRelay = flag => {\n      this.setState({\n        relayShow: flag\n      });\n    };\n\n    this.startRecord = flag => {\n      // let storeRecord = this.props.store.record;\n      const {\n        videoRecord\n      } = this.state;\n      console.log(videoRecord);\n\n      if (videoRecord) {\n        this.Client.stopRecord((Error, Result) => {\n          if (Error) {\n            alert(`停止录制失败 ${Error}`);\n            return;\n          }\n\n          console.log(\"stop record \", Result, this.props.store.record.url); // storeRecord.recordStart(false);\n\n          this.setState({\n            videoRecord: false,\n            recordUrlShow: true,\n            recordPlayUrl: this.props.store.record.url\n          });\n        });\n      } else {\n        this.setState({\n          recordShow: flag\n        });\n      }\n    };\n\n    this.changeRecordUrlModal = () => {\n      this.setState({\n        recordUrlShow: false\n      });\n    };\n\n    this.state = {\n      videoMute: false,\n      audioMute: false,\n      videoRecord: false,\n      videoRelay: false,\n      recordVisible: false,\n      uplink: \"\",\n      downlink: \"\",\n      linkColor: \"#fff\",\n      setVolumeDisplay: false,\n      relayShow: false,\n      recordShow: false,\n      paramsData: null,\n      roomId: \"\",\n      userName: \"\",\n      share: \"\",\n      copied: false,\n      lineFlag: true,\n      rtt: 0,\n      audioVolumeFlag: false,\n      isPhone: !isPC(),\n      recordUrlShow: false,\n      recordPlayUrl: null\n    };\n  }\n\n  componentDidMount() {}\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.client && !this.isWatching) {\n      this.Client = nextProps.client;\n      this.isWatching = true;\n      this.setState({\n        paramsData: nextProps.paramsData\n      }, () => {\n        let {\n          paramsData\n        } = this.state;\n        const {\n          roomId\n        } = paramsData;\n        let settingStore = this.props.store.settings;\n        let origin = window.location.origin;\n        let paramsStr = objectToParamString({\n          roomId: roomId,\n          roomType: settingStore.roomType\n        });\n        let share = `${origin}/share?${paramsStr}`;\n        this.setState({\n          share: encodeURI(share),\n          copied: false\n        });\n      });\n      this.Client.on(\"record-notify\", MixNotification => {\n        console.log(MixNotification, \"MixNotification\");\n\n        if (MixNotification.code === \"0\") {\n          this.setState({\n            videoRecord: true\n          });\n        } else {\n          this.setState({\n            videoRecord: false\n          });\n        }\n      });\n      this.Client.on(\"relay-notify\", MixNotification => {\n        console.log(\">>>>转推\", MixNotification);\n\n        if (MixNotification.code === \"0\") {\n          this.setState({\n            videoRelay: true\n          });\n        } else {\n          this.setState({\n            videoRelay: false\n          });\n        }\n      });\n    }\n  }\n\n  render() {\n    const {\n      videoRecord,\n      // recordVisible,\n      videoRelay,\n      // setVolumeDisplay,\n      relayShow,\n      paramsData,\n      share,\n      audioVolumeFlag,\n      isPhone,\n      recordUrlShow,\n      recordShow\n    } = this.state;\n    const {\n      lineFlag\n    } = this.props;\n    let videoMute = this.props.store.common.localMuteVideo;\n    let audioMute = this.props.store.common.localMuteAudio; // userRole 为 pull 时，大部分按钮都要隐藏\n\n    const {\n      userRole\n    } = this.props.store.settings;\n    return /*#__PURE__*/React.createElement(Footer, {\n      className: \"video-footer\",\n      isPhone: isPhone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 7\n      }\n    }, paramsData && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(_Row, {\n      style: {\n        height: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(_Col, {\n      span: 3,\n      className: \"footer-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 15\n      }\n    }, userRole === \"pull\" ? null : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"left_wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `control_wrapper ${videoMute ? \"disable\" : \"\"}`,\n      onClick: this.videoMute,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(_Icon, {\n      type: \"urtc-sxj\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: `control_wrapper ${audioMute ? \"disable\" : \"\"}`,\n      onClick: this.audioMute,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 585,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(_Icon, {\n      type: \"urtc-mkf\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: this.setVolume,\n      className: `control_wrapper footer-volume ${audioVolumeFlag ? \"disable\" : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(_Icon, {\n      type: \"volume\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 23\n      }\n    })), isPhone ? null : /*#__PURE__*/React.createElement(\"div\", {\n      className: `control_wrapper share-screen`,\n      onClick: this.shareScreen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(_Icon, {\n      type: \"urtc-tl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"control_wrapper leave_btn_wrapper\",\n      onClick: this.leaveRoom,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(_Icon, {\n      type: \"power\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 611,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(_Col, {\n      span: 9,\n      className: \"footer-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"right_wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 17\n      }\n    }, userRole === \"pull\" ? null : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn_wrapper active-publish\",\n      onClick: this.props.unPublish,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(_Button, {\n      styleType: \"primary\",\n      size: \"md\",\n      style: {\n        marginLeft: \"12px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 624,\n        columnNumber: 23\n      }\n    }, lineFlag ? \"结束连麦\" : \"开启连麦\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: `btn_wrapper active-record ${videoRecord ? \"video-record\" : \"\"}` // onClick={this.recordAction}\n      ,\n      onClick: () => this.startRecord(true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 634,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(_Button, {\n      className: \"btn\",\n      styleType: \"border\",\n      size: \"md\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 640,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Status, {\n      color: videoRecord ? \"#42d448\" : \"#999\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 641,\n        columnNumber: 23\n      }\n    }), `${videoRecord ? \"停止录制\" : \"录制\"}`)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn_wrapper active-relay\",\n      onClick: () => this.startRelay(true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 645,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(_Button, {\n      className: \"btn\",\n      styleType: \"border\",\n      size: \"md\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 649,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Status, {\n      color: videoRelay ? \"#42d448\" : \"#999\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 650,\n        columnNumber: 23\n      }\n    }), videoRelay ? \"结束转推\" : \"转推\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: `control_wrapper share-link`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 655,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CopyBtn, {\n      url: share,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 656,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn_wrapper leave_btn_wrapper\",\n      onClick: this.leaveRoom,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 659,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(_Button, {\n      size: \"md\",\n      className: \"leave_btn\",\n      style: {\n        marginLeft: \"12px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 663,\n        columnNumber: 21\n      }\n    }, \"退出会议\"))))), /*#__PURE__*/React.createElement(RtcRelay, {\n      client: this.Client,\n      statsRefush: () => this.setState({\n        videoRelay: false\n      }),\n      close: () => this.startRelay(false),\n      show: relayShow,\n      param: paramsData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 674,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Record, {\n      close: () => this.startRecord(false),\n      show: recordShow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(_Modal, {\n      visible: recordUrlShow,\n      title: \"录制地址\",\n      size: isPhone ? \"sm\" : \"md\",\n      onClose: this.changeRecordUrlModal // afterClose={this.destroyAll}\n      ,\n      footer: null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 685,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: \"16px 16px 16px 16px\",\n        height: \"100%\",\n        lineHeight: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 693,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 17\n      }\n    }, \" \", this.props.store.record.url), /*#__PURE__*/React.createElement(CopyBtn, {\n      url: this.props.store.record.url,\n      btn: /*#__PURE__*/React.createElement(_Button, {\n        styleType: \"primary\",\n        style: {\n          marginLeft: \"12px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 21\n        }\n      }, \"复制播放地址\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 17\n      }\n    })))));\n  }\n\n}, _class2.defaultProps = {}, _temp)) || _class) || _class);\nexport default ClassFooter;","map":{"version":3,"sources":["/Users/lixiqing/work/URTC-DEOM/src/components/footer/index.jsx"],"names":["React","styled","observer","inject","RtcRelay","Record","isPC","objectToParamString","CopyBtn","Footer","div","props","isPhone","Status","color","ClassFooter","Component","constructor","copyUrlRecord","setState","recordPlayUrl","store","record","url","copied","success","setTimeout","videoMute","localMuteVideo","common","Client","muteVideo","sid","setVideoMuteStats","unmuteVideo","unPublish","lineFlag","state","console","log","unpublish","stream","destoryStream","audioMute","setAudioMuteStats","publish","audio","video","error","undefined","copyUrl","localMuteAudio","muteAudio","unmuteAudio","shareScreen","setVideoProfile","settings","desktopProfile","screen","leaveRoom","window","location","href","setVolume","e","audioVolumeFlag","totalStream","getRemoteStreams","forEach","setGlobalMuteAudioStats","startRelay","flag","relayShow","startRecord","videoRecord","stopRecord","Error","Result","alert","recordUrlShow","recordShow","changeRecordUrlModal","videoRelay","recordVisible","uplink","downlink","linkColor","setVolumeDisplay","paramsData","roomId","userName","share","rtt","componentDidMount","componentWillReceiveProps","nextProps","client","isWatching","settingStore","origin","paramsStr","roomType","encodeURI","on","MixNotification","code","render","userRole","height","marginLeft","padding","lineHeight","defaultProps"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AASA,SAASC,QAAT,EAAmBC,MAAnB,QAAiC,YAAjC;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,IAAT,EAAeC,mBAAf,QAA0C,kBAA1C;AACA,OAAOC,OAAP,MAAoB,yBAApB;AAEA,MAAMC,MAAM,GAAGR,MAAM,CAACS,GAAI;AAC1B;AACA,eAAgBC,KAAD,IAAYA,KAAK,CAACC,OAAN,GAAgB,OAAhB,GAA0B,MAAQ;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport {\n  Icon,\n  Button,\n  Row,\n  Col,\n  Message,\n  Modal,\n} from \"@ucloud-fe/react-components\";\nimport { observer, inject } from \"mobx-react\";\nimport RtcRelay from \"../rtcRelay/index\";\nimport Record from \"../record\";\nimport { isPC, objectToParamString } from \"../../util/index\";\nimport CopyBtn from \"../../container/copyBtn\";\n\nconst Footer = styled.div`\n  position: absolute;\n  /* height: ${(props) => (props.isPhone ? \"139px\" : \"64px\")}; */\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  color: #fff;\n  background-color: #2f3238;\n  text-align: left;\n  box-sizing: border-box;\n  overflow: hidden;\n  .left_wrapper {\n    text-align: left;\n  }\n  .right_wrapper {\n    text-align: right;\n    box-sizing: border-box;\n    padding-right: 14px;\n  }\n  .btn {\n    margin-left: 12px;\n    background-color: #494e5c;\n    color: #fff;\n    min-width: 64px;\n  }\n  .uc-fe-button {\n    height: 32px;\n    vertical-align: inherit;\n  }\n  .control_wrapper {\n    position: relative;\n    display: inline-block;\n    margin-left: 16px;\n    font-size: 18px;\n    height: 28px;\n    width: 34px;\n    line-height: 28px;\n    text-align: center;\n    padding-top: 3px;\n    cursor: pointer;\n    background-color: #494e5c;\n    vertical-align: middle;\n    border-radius: 2px;\n    color: #fff;\n    box-shadow: 0px 1px 3px -1px rgba(0, 0, 0, 0.32),\n      0px 1px 1px -1px rgba(0, 0, 0, 0.5), 0px 1px 2px 0px rgba(0, 0, 0, 0.28),\n      0px 1px 0px 0px rgba(255, 255, 255, 0.12);\n  }\n  .btn_wrapper {\n    display: inline-block;\n    font-size: 12px;\n    &.leave_btn_wrapper {\n      padding-left: 6px;\n      margin-left: 16px;\n      border-left: 1px solid #5a5f73;\n    }\n    .leave_btn {\n      background: #eb5252;\n      color: #ffffff;\n    }\n  }\n  .disable {\n    color: #999;\n  }\n  .disable:after {\n    display: block;\n    content: \"\";\n    width: 2px;\n    height: 20px;\n    background-color: #fff;\n    position: absolute;\n    border-radius: 2px;\n    transform: rotate(-135deg);\n    top: 7px;\n    left: 16px;\n  }\n  .operation-item {\n    display: inline-block;\n    font-size: 34px;\n    line-height: 40px;\n    padding: 5px 40px 0;\n    cursor: pointer;\n    position: relative;\n    .active-item {\n      font-size: 16px;\n      display: block;\n      line-height: 20px;\n      padding-bottom: 15px;\n    }\n  }\n\n  &.video-footer {\n    overflow: initial;\n    background-color: #2f3238;\n    padding-top: 18px;\n    height: 66px;\n  }\n  @media screen and (max-width: 900px) {\n    .video-footer {\n      min-height: 40px;\n      padding-top: 10px;\n    }\n  }\n  @media screen and (max-width: 720px) {\n    .video-footer {\n      min-height: 40px;\n      padding-top: 10px;\n    }\n    .video-header .room-info .roomId,\n    .video-header .room-info .userName {\n      padding: 0 10px;\n    }\n    .disable:after {\n      top: 12px;\n      left: 19px;\n    }\n    .video-header .network {\n      top: 0;\n      right: auto;\n      left: 200px;\n      margin-left: 0;\n      line-height: 40px;\n      font-size: 12px;\n    }\n    .video-header .uc-fe-icon {\n      font-size: 16px;\n    }\n    .video-wrapper {\n      bottom: 140px;\n    }\n    .video-wrapper .video-current video {\n      left: 0;\n      width: 100% !important;\n      top: 36px;\n      max-height: 220px;\n    }\n    .video-wrapper .video-cur {\n      display: none;\n    }\n    .video-wrapper .video-list {\n      position: absolute;\n      top: 225px;\n      width: 100%;\n      bottom: 0;\n    }\n    .video-wrapper .video-list li {\n      width: 46%;\n      margin: 0;\n      padding-left: 2.6%;\n      margin: 0;\n      float: left;\n    }\n\n    .footer-left {\n      position: absolute;\n      left: 0;\n      bottom: 0;\n      width: 100%;\n      background-color: #1e2024;\n      height: 60px;\n    }\n    .footer-left .left_wrapper {\n      text-align: center;\n    }\n    .footer-left .left_wrapper .control_wrapper {\n      width: 40px;\n      height: 40px;\n      border-radius: 20px;\n      line-height: 40px;\n      margin: 0 10px;\n    }\n    .footer-left .leave_btn_wrapper {\n      display: inline-block;\n      background-color: #eb5252;\n    }\n    .footer-right .btn_wrapper.leave_btn_wrapper {\n      display: none;\n    }\n    .footer-left .left_wrapper .share-screen {\n      display: none;\n    }\n    .footer-right {\n      position: absolute;\n      left: 0;\n      bottom: 60px;\n      height: 80px;\n      width: 100%;\n      background-color: #1e2024;\n    }\n    .footer-right .right_wrapper {\n      text-align: center;\n      border-bottom: 1px solid #5a5f73;\n      padding: 0 0 20px;\n      margin: 0 20px;\n    }\n    .footer-right .right_wrapper .btn_wrapper {\n      width: 33%;\n    }\n    .footer-right .right_wrapper button {\n      width: 80%;\n      height: 40px;\n      padding: 0;\n      margin: 0 !important;\n    }\n    .footer-right .active-publish {\n      text-align: left;\n    }\n    .footer-right .active-record {\n      text-align: center;\n    }\n    .footer-right .active-relay {\n      text-align: right;\n    }\n    .footer-right .right_wrapper .btn_wrapper.leave_btn_wrapper {\n      border-left: none;\n    }\n    .footer-right .share-link {\n      position: fixed;\n      top: 4px;\n      right: 4px;\n      margin: 0;\n      background: transparent;\n    }\n  }\n`;\n\nconst Status = styled.div`\n  position: relative;\n  display: inline-block;\n  padding: 6px;\n  &:after {\n    display: block;\n    content: \"\";\n    width: 6px;\n    left: 0px;\n    top: 5px;\n    height: 6px;\n    background-color: ${(props) => (props.color ? props.color : \"#999\")};\n    /* animation: vc 1s infinite; */\n    position: absolute;\n    border-radius: 3px;\n    z-index: 11;\n  }\n  /* @keyframes vc {\n    from {\n      background-color: #42d448;\n    }\n    to {\n      background-color: #31a035;\n    }\n  } */\n`;\n/**\n * @param client sdk实例\n * @param paramsData obj\n * @param sid string 本地流id\n * @param unPublish fun 选填 ，下麦方法\n */\n\n@inject(\"store\")\n@observer\nclass ClassFooter extends React.Component {\n  static defaultProps = {};\n  constructor(props) {\n    super(props);\n    this.state = {\n      videoMute: false,\n      audioMute: false,\n      videoRecord: false,\n      videoRelay: false,\n      recordVisible: false,\n      uplink: \"\",\n      downlink: \"\",\n      linkColor: \"#fff\",\n      setVolumeDisplay: false,\n      relayShow: false,\n      recordShow: false,\n      paramsData: null,\n      roomId: \"\",\n      userName: \"\",\n      share: \"\",\n      copied: false,\n      lineFlag: true,\n      rtt: 0,\n      audioVolumeFlag: false,\n      isPhone: !isPC(),\n      recordUrlShow: false,\n      recordPlayUrl: null,\n    };\n  }\n\n\n  componentDidMount() { }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.client && !this.isWatching) {\n      this.Client = nextProps.client;\n      this.isWatching = true;\n      this.setState(\n        {\n          paramsData: nextProps.paramsData,\n        },\n        () => {\n          let { paramsData } = this.state;\n          const { roomId } = paramsData;\n          let settingStore = this.props.store.settings;\n          let origin = window.location.origin;\n          let paramsStr = objectToParamString({\n            roomId: roomId,\n            roomType: settingStore.roomType,\n          });\n          let share = `${origin}/share?${paramsStr}`;\n          this.setState({\n            share: encodeURI(share),\n            copied: false,\n          });\n        }\n      );\n      this.Client.on(\"record-notify\", (MixNotification) => {\n        console.log(MixNotification, \"MixNotification\");\n        if (MixNotification.code === \"0\") {\n          this.setState({\n            videoRecord: true,\n          });\n        } else {\n          this.setState({\n            videoRecord: false,\n          });\n        }\n      });\n\n      this.Client.on(\"relay-notify\", (MixNotification) => {\n        console.log(\">>>>转推\", MixNotification);\n        if (MixNotification.code === \"0\") {\n          this.setState({\n            videoRelay: true,\n          });\n        } else {\n          this.setState({\n            videoRelay: false,\n          });\n        }\n      });\n    }\n  }\n  copyUrlRecord = () => {\n    this.setState(\n      {\n        recordPlayUrl: this.props.store.record.url,\n        copied: true,\n      },\n      () => {\n        Message.success(\"复制地址成功\");\n      }\n    );\n\n    setTimeout(() => {\n      this.setState({\n        copied: false,\n      });\n    }, 400);\n  };\n\n  videoMute = () => {\n    const { localMuteVideo } = this.props.store.common;\n\n    if (!localMuteVideo) {\n      this.Client.muteVideo(this.props.sid);\n      this.props.store.common.setVideoMuteStats(true);\n    } else {\n      this.Client.unmuteVideo(this.props.sid);\n      this.props.store.common.setVideoMuteStats(false);\n    }\n  };\n\n  unPublish = () => {\n    let { lineFlag } = this.state;\n    console.log(this.props.sid);\n    if (lineFlag) {\n      this.Client.unpublish((stream) => {\n        Message.success(\"下麦成功\");\n        this.props.destoryStream && this.props.destoryStream();\n        this.setState({\n          lineFlag: false,\n          videoMute: false,\n          audioMute: false,\n        });\n        this.props.store.common.setAudioMuteStats(false);\n        this.props.store.common.setVideoMuteStats(false);\n      });\n    } else {\n      this.Client.publish(\n        {\n          audio: true,\n          video: true,\n        },\n        function () {\n          Message.error(<div>没有推流权限</div>, undefined, () =>\n            console.log(\"onClose\")\n          );\n        }\n      );\n      this.setState({\n        lineFlag: true,\n      });\n    }\n  };\n\n  copyUrl = () => {\n    this.setState(\n      {\n        copied: true,\n      },\n      () => {\n        Message.success(\"复制地址成功\");\n      }\n    );\n\n    setTimeout(() => {\n      this.setState({\n        copied: false,\n      });\n    }, 400);\n  };\n\n  audioMute = () => {\n    const { localMuteAudio } = this.props.store.common;\n    if (!localMuteAudio) {\n      this.Client.muteAudio(this.props.sid);\n      this.props.store.common.setAudioMuteStats(true);\n    } else {\n      this.Client.unmuteAudio(this.props.sid);\n      this.props.store.common.setAudioMuteStats(false);\n    }\n  };\n\n  shareScreen = () => {\n    this.Client.setVideoProfile(\n      this.props.store.settings.desktopProfile,\n      () => {\n        console.log(\n          \"setVideoProfile success \",\n          this.props.store.settings.desktopProfile\n        );\n        this.Client.publish({\n          audio: false,\n          video: false,\n          screen: true,\n        });\n      },\n      (error) => {\n        Message.error(error);\n      }\n    );\n  };\n\n  leaveRoom = () => {\n    this.Client.leaveRoom();\n    window.location.href = \"/\";\n  };\n\n  setVolume = (e) => {\n    let { audioVolumeFlag } = this.state;\n    //产品说是静音效果\n    // let v = audioVolumeFlag ? 100 : 0;\n    // console.log(v);\n    // this.Client.setAudioVolume({ volume: v }, (Err) => {\n    //   if (Err) {\n    //     this.setState({\n    //       audioVolumeFlag: false,\n    //     });\n    //     alert(`设置声音失败 ${Err}`);\n    //     return;\n    //   }\n    //   this.setState({\n    //     audioVolumeFlag: !audioVolumeFlag,\n    //   });\n    // });\n    let totalStream = this.Client.getRemoteStreams();\n\n    totalStream.forEach((stream) => {\n      const { sid } = stream;\n      if (audioVolumeFlag) {\n        // 启用全部音频\n        this.Client.unmuteAudio(sid);\n      } else {\n        this.Client.muteAudio(sid);\n      }\n    });\n\n    this.props.store.common.setGlobalMuteAudioStats(!audioVolumeFlag);\n    this.setState({\n      audioVolumeFlag: !audioVolumeFlag,\n    });\n  };\n\n  startRelay = (flag) => {\n    this.setState({\n      relayShow: flag,\n    });\n  };\n  startRecord = (flag) => {\n    // let storeRecord = this.props.store.record;\n    const { videoRecord } = this.state;\n    console.log(videoRecord)\n    if (videoRecord) {\n      this.Client.stopRecord((Error, Result) => {\n        if (Error) {\n          alert(`停止录制失败 ${Error}`);\n          return;\n        }\n        console.log(\"stop record \", Result, this.props.store.record.url);\n        // storeRecord.recordStart(false);\n        this.setState({\n          videoRecord: false,\n          recordUrlShow: true,\n          recordPlayUrl: this.props.store.record.url,\n        });\n      });\n    } else {\n      this.setState({\n        recordShow: flag,\n      });\n    }\n\n  }\n  changeRecordUrlModal = () => {\n    this.setState({\n      recordUrlShow: false,\n    });\n  };\n\n  render() {\n    const {\n      videoRecord,\n      // recordVisible,\n      videoRelay,\n      // setVolumeDisplay,\n      relayShow,\n      paramsData,\n      share,\n      audioVolumeFlag,\n      isPhone,\n      recordUrlShow,\n      recordShow\n    } = this.state;\n    const { lineFlag } = this.props;\n\n    let videoMute = this.props.store.common.localMuteVideo;\n    let audioMute = this.props.store.common.localMuteAudio;\n\n    // userRole 为 pull 时，大部分按钮都要隐藏\n    const { userRole } = this.props.store.settings;\n    return (\n      <Footer className=\"video-footer\" isPhone={isPhone}>\n        {paramsData && (\n          <div style={{ height: \"100%\" }}>\n            <Row style={{ height: \"100%\" }}>\n              <Col span={3} className=\"footer-left\">\n                {userRole === \"pull\" ? null : (\n                  <div className=\"left_wrapper\">\n                    <div\n                      className={`control_wrapper ${videoMute ? \"disable\" : \"\"\n                        }`}\n                      onClick={this.videoMute}\n                    >\n                      <Icon type={\"urtc-sxj\"} />\n                    </div>\n                    <div\n                      className={`control_wrapper ${audioMute ? \"disable\" : \"\"\n                        }`}\n                      onClick={this.audioMute}\n                    >\n                      <Icon type={\"urtc-mkf\"} />\n                    </div>\n                    <div\n                      onClick={this.setVolume}\n                      className={`control_wrapper footer-volume ${audioVolumeFlag ? \"disable\" : \"\"\n                        }`}\n                    >\n                      <Icon type={\"volume\"} />\n                    </div>\n                    {isPhone ? null : (\n                      <div\n                        className={`control_wrapper share-screen`}\n                        onClick={this.shareScreen}\n                      >\n                        <Icon type={\"urtc-tl\"} />\n                      </div>\n                    )}\n                    <div\n                      className=\"control_wrapper leave_btn_wrapper\"\n                      onClick={this.leaveRoom}\n                    >\n                      <Icon type={\"power\"} />\n                    </div>\n                  </div>\n                )}\n              </Col>\n\n              <Col span={9} className=\"footer-right\">\n                <div className=\"right_wrapper\">\n                  {userRole === \"pull\" ? null : (\n                    <div\n                      className=\"btn_wrapper active-publish\"\n                      onClick={this.props.unPublish}\n                    >\n                      <Button\n                        styleType=\"primary\"\n                        size={\"md\"}\n                        style={{ marginLeft: \"12px\" }}\n                      >\n                        {lineFlag ? \"结束连麦\" : \"开启连麦\"}\n                      </Button>\n                    </div>\n                  )}\n\n                  <div\n                    className={`btn_wrapper active-record ${videoRecord ? \"video-record\" : \"\"\n                      }`}\n                    // onClick={this.recordAction}\n                    onClick={() => this.startRecord(true)}\n                  >\n                    <Button className=\"btn\" styleType=\"border\" size={\"md\"}>\n                      <Status color={videoRecord ? \"#42d448\" : \"#999\"} />\n                      {`${videoRecord ? \"停止录制\" : \"录制\"}`}\n                    </Button>\n                  </div>\n                  <div\n                    className=\"btn_wrapper active-relay\"\n                    onClick={() => this.startRelay(true)}\n                  >\n                    <Button className=\"btn\" styleType=\"border\" size={\"md\"}>\n                      <Status color={videoRelay ? \"#42d448\" : \"#999\"} />\n                      {videoRelay ? \"结束转推\" : \"转推\"}\n                    </Button>\n                  </div>\n\n                  <div className={`control_wrapper share-link`}>\n                    <CopyBtn url={share} />\n                  </div>\n\n                  <div\n                    className=\"btn_wrapper leave_btn_wrapper\"\n                    onClick={this.leaveRoom}\n                  >\n                    <Button\n                      size={\"md\"}\n                      className=\"leave_btn\"\n                      style={{ marginLeft: \"12px\" }}\n                    >\n                      {\"退出会议\"}\n                    </Button>\n                  </div>\n                </div>\n              </Col>\n            </Row>\n            <RtcRelay\n              client={this.Client}\n              statsRefush={() => this.setState({ videoRelay: false })}\n              close={() => this.startRelay(false)}\n              show={relayShow}\n              param={paramsData}\n            />\n\n            <Record close={() => this.startRecord(false)}\n              show={recordShow} />\n\n            <Modal\n              visible={recordUrlShow}\n              title={\"录制地址\"}\n              size={isPhone ? \"sm\" : \"md\"}\n              onClose={this.changeRecordUrlModal}\n              // afterClose={this.destroyAll}\n              footer={null}\n            >\n              <div\n                style={{\n                  padding: \"16px 16px 16px 16px\",\n                  height: \"100%\",\n                  lineHeight: \"100%\",\n                }}\n              >\n                <span> {this.props.store.record.url}</span>\n                <CopyBtn\n                  url={this.props.store.record.url}\n                  btn={\n                    <Button styleType=\"primary\" style={{ marginLeft: \"12px\" }}>\n                      {\"复制播放地址\"}\n                    </Button>\n                  }\n                />\n              </div>\n            </Modal>\n          </div>\n        )}\n      </Footer>\n    );\n  }\n}\n\nexport default ClassFooter;\n"]},"metadata":{},"sourceType":"module"}