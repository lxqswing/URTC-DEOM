{"version":3,"sources":["common/music/test.wav","common/image/com.png","config/index.js","util/index.js","util/cookie.js","store/settings.js","store/testing.js","store/record.js","store/client.js","store/common.js","store/index.js","components/settings.jsx","container/videoWrapper/index.jsx","components/cameraTest/index.jsx","container/speakerWrapper/index.jsx","components/speakerTest/index.jsx","container/volumeProgress/index.jsx","components/micTest/index.jsx","components/testing/index.styles.jsx","components/testing/index.jsx","pages/home.styles.jsx","pages/home.jsx","config/version.js","components/rtcRelay/index.jsx","config/record.js","components/record.jsx","container/copyBtn/index.jsx","components/footer/index.jsx","components/header/new.styles.jsx","components/header/new.jsx","container/videoStats/index.jsx","container/classVideoWrapper/index.jsx","pages/classRoom.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","config","AppId","AppKey","randNum","l","s","n","charAt","Math","floor","random","copy","str","document","addEventListener","e","clipboardData","setData","preventDefault","execCommand","isPC","userAgentInfo","navigator","userAgent","Agents","flag","v","length","indexOf","isSafari","test","setCookie","_name","_val","expires","d","Date","setDate","getDate","cookie","getCookie","arr","split","i","newArr","Settings","obj","this","roomType","userRole","userName","videoInput","audioInput","audioOutput","videoProlie","videoCodec","userId","desktopProfile","apiLink","logLink","signalLink","setVisible","key","value","settingParam","roomId","JSON","stringify","observable","action","TestingStore","sdkClient","Record","recordVisible","url","Client","clientData","Common","bool","localMuteVideo","localMuteAudio","globalMuteAudioStats","settings","testingStore","record","client","common","isSupportWebRTC","sdk","Item","Option","itemLayout","labelCol","span","controllerCol","inject","observer","props","desktopProlieChange","initData","state","store","setParamKey","setState","userIdChange","target","loading","visible","videoInputList","audioInputList","audioOutputList","videoProlieList","videoCodecList","isPhone","setClose","bind","roomTypeChange","userRoleChange","setOk","userNameChange","videoInputChange","audioInputChange","audioOutputChange","videoProlieChange","videoCodecChange","AppKeyChange","AppIdChange","apiLinkChange","logLinkChange","signalLinkChange","getDeviceData","getSupportProfile","getSupportedCodec","nextProps","storeSettings","video","getSupportProfileNames","_this","getDevices","forEach","data","kind","console","log","push","deviceId","settingsActive","settingsData","size","onClose","onOk","className","label","disabled","onChange","map","type","placeholder","style","width","React","Component","Wrapper","styled","div","VideoWrapper","stream","previewId","createStream","id","audio","cameraId","error","destroy","destroyStream","height","mediaStream","muted","playing","playsinline","defaultProps","index","LeftContent","RightContent","BtnWrapper","backgoundColor","color","CameraTest","selectId","list","bundleChangeDevice","isWatching","gutter","onClick","onCancel","LoadingText","ErrorWrapper","ItemWrapper","SpeakerWrapper","volume","show","errorInfo","audioStatsPlay","testDevice","callback","deviceDetection","microphoneId","Result","audioError","playAudio","createElement","src","file","setTimeout","setSinkId","then","play","tip","indicator","SpeakerTest","closable","styleType","VolumeProgress","name","clearInterval","timer","setInterval","getAudioVolume","sid","percent","format","paddingTop","paddingLeft","display","MicTest","StepWrapper","EndWrapper","deviceType","des","Testing","allDeviceList","audioInputDeviceList","audioInputStream","audioOutputDeviceList","videoDeviceList","rtcSupportFlag","rtcSupportError","stepCurrent","steps","title","statusMap","camera","speaker","mic","next","num","prev","destroyAll","result","getLocalStreams","element","initRtc","storeData","token","generateToken","setSdkClient","getDevicesList","MediaDeviceInfos","closeModal","close","changeType","selectType","testRtcSupport","videoError","testSuc","_s","reset","testFail","renderBtn","afterClose","footer","destroyOnClose","current","status","offset","LoginWrapper","SDK","Login","joinIn","roomIdValue","history","pathname","joinRoom","setting","toggleTesting","testingVisible","query","Querystringify","parse","location","search","supportRTC","getter","RtcRelay","relayLoading","relayFlag","defaultUrl","playUrl","startRelay","param","_url","encodeURIComponent","startMix","pushURL","Err","success","copyUrl","setUrl","stopRelay","Error","info","statsRefush","marginLeft","recordConfig","recordClose","checkLayout","checkWatermark","checkWatermarkPos","watermarkMsg","recordOk","alllayoutChange","watermarkTypeChange","watermarkPosChange","watermarkMsgChange","recordStore","startRecord","bucket","region","layout","waterMark","position","remarks","FileName","Group","vlaue","CopyBtn","copied","encodeURI","text","onCopy","btn","children","Footer","Status","ClassFooter","copyUrlRecord","recordPlayUrl","videoMute","unmuteVideo","setVideoMuteStats","muteVideo","unPublish","lineFlag","unpublish","destoryStream","audioMute","setAudioMuteStats","publish","undefined","unmuteAudio","muteAudio","shareScreen","setVideoProfile","screen","leaveRoom","window","href","setVolume","audioVolumeFlag","getRemoteStreams","setGlobalMuteAudioStats","relayShow","videoRecord","stopRecord","alert","recordUrlShow","recordShow","changeRecordUrlModal","videoRelay","uplink","downlink","linkColor","setVolumeDisplay","paramsData","share","rtt","settingStore","origin","paramsStr","paramObj","paramList","Object","keys","val","constructor","Array","join","objectToParamString","on","MixNotification","code","padding","lineHeight","Header","Network","0","1","2","3","4","5","6","default","ClassHeader","localStore","useLocalStore","useState","setUplink","setLinkColor","setRtt","useEffect","Stats","getNetworkStats","stats","getNetwork","VideoStats","uid","ClassVideoWrapper","renderVideoWrapper","ClassRoom","message","allStream","localStream","idx","findIndex","item","splice","getLayoutStream","refreshFlag","stopStreams","mainSid","mainArr","remoteArr","mainStream","remoteStreams","playStreams","Promise","resolve","reject","stop","err","all","mediaType","streamId","container","fit","prevId","filterStream","localCameraSid","screenStream","volumeMute","volumeData","currentVideoItem","remoteVolumeData","muteRemoteVolume","mailSid","videoChange","locationState","initURtc","storeClient","setServers","signal","role","codec","initClient","duration","top","profile","mainType","nextId","targetId","streams","previous","subscribe","newRemote","assign","App","exact","path","component","Boolean","hostname","match","ReactDOM","render","getElementById","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.649eb17e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/test.e8d9e658.wav\";","module.exports = \"data:image/png;base64,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\"","const config = {\n  AppId: \"\",\n  AppKey: \"\",\n};\nexport default config;\n","function randNum(l) {\n  let S = \"0123456789abcdefghijklmnopqrstuvwxyz\";\n  let s = \"\";\n  for (let n = 0; n < l; ++n) {\n    s = s + S.charAt(Math.floor((Math.random() * 360) % 36));\n  }\n  return s;\n}\n\nfunction copy(str) {\n  var save = function (e) {\n    e.clipboardData.setData(\"text/plain\", str); //clipboardData对象\n    e.preventDefault(); //阻止默认行为\n  };\n  document.addEventListener(\"copy\", save);\n  document.execCommand(\"copy\"); //使文档处于可编辑状态，否则无效\n}\n//判断是否为pc打开\nfunction isPC() {\n  var userAgentInfo = navigator.userAgent;\n  var Agents = [\n    \"Android\",\n    \"iPhone\",\n    \"SymbianOS\",\n    \"Windows Phone\",\n    \"iPad\",\n    \"iPod\",\n  ];\n  var flag = true;\n  for (var v = 0; v < Agents.length; v++) {\n    if (userAgentInfo.indexOf(Agents[v]) > 0) {\n      flag = false;\n      break;\n    }\n  }\n  return flag;\n}\n\nfunction objectToParamString(paramObj) {\n  if (!paramObj) {\n    return \"\";\n  }\n  let paramList = [];\n  Object.keys(paramObj) &&\n    Object.keys(paramObj).forEach((key) => {\n      let val = paramObj[key];\n      if (val.constructor === Array) {\n        val.forEach((_val) => {\n          paramList.push(key + \"=\" + _val);\n        });\n      } else {\n        paramList.push(key + \"=\" + val);\n      }\n    });\n  return paramList.join(\"&\");\n}\n\nfunction isWeChat() {\n  var ua = window.navigator.userAgent.toLowerCase();\n  if (ua.match(/MicroMessenger/i) === \"micromessenger\") {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction isSafari() {\n  return (\n    /Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent)\n  );\n}\n\nexport { randNum, copy, isPC, objectToParamString, isWeChat, isSafari };\n","function setCookie(_name, _val, expires) {\n  var d = new Date();\n  d.setDate(d.getDate() + expires);\n  document.cookie = _name + \"=\" + _val + \";expires=\" + d;\n}\n\nfunction getCookie(_name) {\n  var cookie = document.cookie;\n  var arr = cookie.split(\"; \");\n  for (var i = 0; i < arr.length; i++) {\n    var newArr = arr[i].split(\"=\");\n    if (newArr[0] === _name) {\n      return newArr[1];\n    }\n  }\n}\nfunction removeCookie(_name, _val) {\n  setCookie(_name, _val, -1);\n}\nexport { setCookie, getCookie, removeCookie };\n","import {\n  observable,\n  action,\n  // computed\n} from \"mobx\";\nimport config from \"../config\";\nimport { randNum } from \"../util/index\";\nimport { setCookie } from \"../util/cookie\";\n\nclass Settings {\n  @observable roomId = \"\"; //房间号\n  @observable userId = randNum(8); //用户ID\n  @observable roomType = \"rtc\"; //房间类型\n  @observable userRole = \"push-and-pull\"; //用户角色\n  @observable userName = \"default\"; //用户名\n  @observable videoInput = \"\"; //摄像头\n  @observable audioInput = \"default\"; //麦克风\n  @observable audioOutput = \"default\"; //扬声器\n  @observable videoProlie = \"640*360\"; //分辨率\n  @observable videoCodec = \"vp8\"; //视频编码格式\n  @observable AppKey = config.AppKey; //AppKey\n  @observable AppId = config.AppId; //AppID\n  @observable setVisible = false;\n  @observable desktopProfile = \"1280*720\"; //分享桌面分辨率\n  @observable apiLink = \"\";\n  @observable logLink = \"\";\n  @observable signalLink = \"wss://rtc.example.com:5005\";\n  \n\n  @action\n  settingsData(obj) {\n    this.roomType = obj.roomType;\n    this.userRole = obj.userRole;\n    this.userName = obj.userName;\n    this.videoInput = obj.videoInput;\n    this.audioInput = obj.audioInput;\n    this.audioOutput = obj.audioOutput;\n    this.videoProlie = obj.videoProlie;\n    this.videoCodec = obj.videoCodec;\n    this.AppKey = obj.AppKey;\n    this.AppId = obj.AppId;\n    this.userId = obj.userId;\n    this.desktopProfile = obj.desktopProfile;\n    this.apiLink = obj.apiLink;\n    this.logLink = obj.logLink;\n    this.signalLink = obj.signalLink;\n  }\n\n  settingsActive(e) {\n    this.setVisible = e;\n  }\n\n  setParamKey(key, value) {\n    this[key] = value;\n  }\n\n  joinRoom(obj) {\n    let settingParam = {\n      roomId: obj.roomId,\n      roomType: this.roomType,\n      userRole: this.userRole,\n      userName: this.userName,\n      videoInput: this.videoInput,\n      audioInput: this.audioInput,\n      audioOutput: this.audioOutput,\n      videoProlie: this.videoProlie,\n      videoCodec: this.videoCodec,\n      AppKey: this.AppKey,\n      AppId: this.AppId,\n      userId: this.userId,\n      desktopProfile: this.desktopProfile,\n      apiLink : this.apiLink,\n      logLink : this.logLink,\n      signalLink : this.signalLink\n    };\n    setCookie(\"settingParam\", JSON.stringify(settingParam));\n    this.roomId = obj.roomId;\n  }\n  // @computed\n  // get allSettingData (){\n  //     return ''\n  // }\n}\n\nexport default Settings;\n","import { observable, action } from \"mobx\";\nclass TestingStore {\n  @observable sdkClient = null;\n\n  @action\n  setSdkClient(obj) {\n    this.sdkClient = obj;\n  }\n\n  // @computed\n  // get allSettingData (){\n  //     return ''\n  // }\n}\n\nexport default TestingStore;\n","import {\n  observable,\n  action,\n  // computed\n} from \"mobx\";\n// import config from \"../config\";\nclass Record {\n  @observable recordVisible = false; //录制的\n  @observable url = null; //录制的\n\n  @action\n  recordStart(e) {\n    this.recordVisible = e;\n  }\n\n  setUrl(e) {\n    this.url = e;\n  }\n\n  // @computed\n  // get allSettingData (){\n  //     return ''\n  // }\n}\n\nexport default Record;\n","import {\n    observable,\n    action,\n    // computed\n  } from \"mobx\";\n  // import config from \"../config\";\n  class Client {\n    @observable clientData = null;//录制的\n  \n      @action \n      initClient(e){\n          this.clientData = e;\n      }\n  \n    // @computed\n    // get allSettingData (){\n    //     return ''\n    // }\n  }\n  \n  export default Client;\n  ","import { observable, action } from \"mobx\";\nclass Common {\n  @observable localMuteVideo = false;\n  @observable localMuteAudio = false;\n  @observable globalMuteAudioStats = false;\n\n  @action\n  setVideoMuteStats(bool) {\n    this.localMuteVideo = bool;\n  }\n\n  setAudioMuteStats(bool) {\n    this.localMuteAudio = bool;\n  }\n\n  setGlobalMuteAudioStats(bool) {\n    this.globalMuteAudioStats = bool;\n  }\n  // @computed\n  // get allSettingData (){\n  //     return ''\n  // }\n}\n\nexport default Common;\n","import Settings from \"./settings\";\nimport TestingStore from \"./testing\";\nimport Record from \"./record\";\nimport Client from \"./client\";\nimport Common from \"./common\";\n\nlet settings = new Settings();\nlet testingStore = new TestingStore();\nlet record = new Record();\nlet client = new Client();\nlet common = new Common();\n// const stores = {\n//   settings,\n//   testing,\n// };\n/// 默认导出接口\nexport { settings, testingStore, record, client, common };\n","import React from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport sdk from \"urtc-sdk\";\nimport \"./settings.css\";\nimport { Modal, Input, Form, Select } from \"@ucloud-fe/react-components\";\nimport config from \"../config\";\nimport { isPC } from \"../util/index\";\nconst { isSupportWebRTC } = sdk;\nconst { Item } = Form;\nconst { Option } = Select;\nconst itemLayout = {\n  labelCol: {\n    span: 2,\n  },\n  controllerCol: {\n    span: 10,\n  },\n};\n\n@inject(\"store\")\n@observer\nclass Settings extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      visible: false,\n      initData: {\n        roomType: \"rtc\", //房间类型\n        userRole: \"push-and-pull\", //用户角色\n        userName: \"\", //用户名\n        userId: \"\", //id\n        videoInput: \"\", //摄像头\n        audioInput: \"default\", //麦克风\n        audioOutput: \"default\", //扬声器\n        videoProlie: \"640*360\", //视频分辨率\n        desktopProfile: \"1280*720\",\n        videoCodec: \"vp8\", //视频编码\n        AppKey: 'kejin', //AppKey\n        AppId: 'kejin', //AppId\n        apiLink: '',\n        logLink: '',\n        signalLink: 'wss://rtc.example.com:5005'\n      },\n      videoInputList: [],\n      audioInputList: [],\n      audioOutputList: [],\n      videoProlieList: [],\n      videoCodecList: [],\n      signalLink: 'wss://rtc.example.com:5005',\n      AppKey: 'kejin', //AppKey\n      AppId: 'kejin', //AppId\n      isPhone: !isPC(),\n    };\n    this.setClose = this.setClose.bind(this);\n    this.roomTypeChange = this.roomTypeChange.bind(this);\n    this.userRoleChange = this.userRoleChange.bind(this);\n    this.setOk = this.setOk.bind(this);\n    this.userNameChange = this.userNameChange.bind(this);\n    this.videoInputChange = this.videoInputChange.bind(this);\n    this.audioInputChange = this.audioInputChange.bind(this);\n    this.audioOutputChange = this.audioOutputChange.bind(this);\n    this.videoProlieChange = this.videoProlieChange.bind(this);\n    this.videoCodecChange = this.videoCodecChange.bind(this);\n    this.AppKeyChange = this.AppKeyChange.bind(this);\n    this.AppIdChange = this.AppIdChange.bind(this);\n    this.apiLinkChange = this.apiLinkChange.bind(this);\n    this.logLinkChange = this.logLinkChange.bind(this);\n    this.signalLinkChange = this.signalLinkChange.bind(this);\n  }\n  componentDidMount() {\n    this.getDeviceData();\n    this.getSupportProfile();\n    this.getSupportedCodec();\n    const initData = this.state.initData;\n    let storeSettings = this.props.store.settings;\n    storeSettings.setParamKey(\"signalLink\", initData.signalLink);\n    this.setState({\n      signalLink: initData.signalLink,\n      // initData: { ...initData, signalLink: initData.signalLink },\n    });\n  }\n  componentWillReceiveProps(nextProps) {\n    let storeSettings = this.props.store.settings;\n    const initData = this.state.initData;\n    this.setState({\n      setVisible: storeSettings.setVisible,\n      initData: { ...initData, userId: storeSettings.userId },\n    });\n  }\n\n  getSupportedCodec() {\n    sdk.getSupportedCodec((e) => {\n      this.setState({\n        videoCodecList: e.video,\n      });\n    });\n  }\n  getSupportProfile() {\n    this.setState({\n      videoProlieList: sdk.getSupportProfileNames(),\n    });\n  }\n  getDeviceData() {\n    let _this = this;\n    let videoInput = [];\n    let audioInput = [];\n    let audioOutput = [];\n    sdk.getDevices((e) => {\n      e.forEach(function (data) {\n        if (data.kind === \"videoinput\") {\n          console.log(\"device info \", data);\n          videoInput.push(data);\n        } else if (data.kind === \"audioinput\") {\n          audioInput.push(data);\n        } else if (data.kind === \"audiooutput\") {\n          audioOutput.push(data);\n        }\n      });\n\n      let storeSettings = this.props.store.settings;\n      console.log(\"videoInput[0].deviceId\", videoInput[0].deviceId);\n      storeSettings.setParamKey(\"videoInput\", videoInput[0].deviceId);\n\n      const initData = _this.state.initData;\n      this.setState({\n        videoInputList: videoInput,\n        audioInputList: audioInput,\n        audioOutputList: audioOutput,\n        initData: { ...initData, videoInput: videoInput[0].deviceId },\n      });\n    });\n  }\n  setClose() {\n    this.setState({\n      setVisible: false,\n    });\n    let storeSettings = this.props.store.settings;\n    storeSettings.settingsActive(false);\n    // console.log(this.props)\n    // this.props.visible(false)\n  }\n  roomTypeChange(e) {\n    const initData = this.state.initData;\n    if (e === \"rtc\") {\n      console.log(\"roomTypeChange\", e);\n      this.setState({\n        initData: { ...initData, userRole: \"push-and-pull\", roomType: e },\n      });\n      let storeSettings = this.props.store.settings;\n      storeSettings.setParamKey(\"userRole\", \"push-and-pull\");\n      storeSettings.setParamKey(\"roomType\", e);\n    } else {\n      let storeSettings = this.props.store.settings;\n      storeSettings.setParamKey(\"roomType\", e);\n      this.setState({\n        initData: { ...initData, roomType: e },\n      });\n    }\n  }\n  userRoleChange(e) {\n    const initData = this.state.initData;\n    let storeSettings = this.props.store.settings;\n    storeSettings.setParamKey(\"userRole\", e);\n    this.setState({\n      initData: { ...initData, userRole: e },\n    });\n  }\n  userNameChange(e) {\n    const initData = this.state.initData;\n    let storeSettings = this.props.store.settings;\n    storeSettings.setParamKey(\"userName\", e.target.value);\n    this.setState({\n      initData: { ...initData, userName: e.target.value },\n    });\n  }\n  videoInputChange(e) {\n    const initData = this.state.initData;\n    let storeSettings = this.props.store.settings;\n    storeSettings.setParamKey(\"videoInput\", e);\n    this.setState({\n      initData: { ...initData, videoInput: e },\n    });\n  }\n  audioInputChange(e) {\n    const initData = this.state.initData;\n    let storeSettings = this.props.store.settings;\n    storeSettings.setParamKey(\"audioInput\", e);\n    this.setState({\n      initData: { ...initData, audioInput: e },\n    });\n  }\n  audioOutputChange(e) {\n    const initData = this.state.initData;\n    let storeSettings = this.props.store.settings;\n    storeSettings.setParamKey(\"audioOutput\", e);\n    this.setState({\n      initData: { ...initData, audioOutput: e },\n    });\n  }\n  videoProlieChange(e) {\n    const initData = this.state.initData;\n    let storeSettings = this.props.store.settings;\n    storeSettings.setParamKey(\"videoProlie\", e);\n    this.setState({\n      initData: { ...initData, videoProlie: e },\n    });\n  }\n  desktopProlieChange = (e) => {\n    const initData = this.state.initData;\n    let storeSettings = this.props.store.settings;\n    storeSettings.setParamKey(\"desktopProfile\", e);\n    this.setState({\n      initData: { ...initData, desktopProfile: e },\n    });\n  };\n  videoCodecChange(e) {\n    const initData = this.state.initData;\n    let storeSettings = this.props.store.settings;\n    storeSettings.setParamKey(\"videoCodec\", e);\n    this.setState({\n      initData: { ...initData, videoCodec: e },\n    });\n  }\n  AppKeyChange(e) {\n    const initData = this.state.initData;\n    let storeSettings = this.props.store.settings;\n    storeSettings.setParamKey(\"AppKey\", e.target.value);\n    this.setState({\n      initData: { ...initData, AppKey: e.target.value },\n      AppKey: e.target.value,\n    });\n  }\n  userIdChange = (e) => {\n    const initData = this.state.initData;\n    let storeSettings = this.props.store.settings;\n    storeSettings.setParamKey(\"userId\", e.target.value);\n    this.setState({\n      initData: { ...initData, userId: e.target.value },\n    });\n  };\n\n  AppIdChange(e) {\n    const initData = this.state.initData;\n    let storeSettings = this.props.store.settings;\n    storeSettings.setParamKey(\"AppId\", e.target.value);\n    this.setState({\n      initData: { ...initData, AppId: e.target.value },\n      AppId: e.target.value,\n    });\n  }\n  setOk() {\n    let initData = this.state.initData;\n    let storeSettings = this.props.store.settings;\n    storeSettings.settingsData(initData);\n    storeSettings.settingsActive(false);\n    this.setState({\n      setVisible: false,\n    });\n  }\n  apiLinkChange(e) {\n    const initData = this.state.initData;\n    let storeSettings = this.props.store.settings;\n    storeSettings.setParamKey(\"apiLink\", e.target.value);\n    this.setState({\n      initData: { ...initData, apiLink: e.target.value },\n    });\n  }\n  logLinkChange(e) {\n    const initData = this.state.initData;\n    let storeSettings = this.props.store.settings;\n    storeSettings.setParamKey(\"logLink\", e.target.value);\n    this.setState({\n      initData: { ...initData, logLink: e.target.value },\n    });\n  }\n  signalLinkChange(e) {\n    const initData = this.state.initData;\n    let storeSettings = this.props.store.settings;\n    storeSettings.setParamKey(\"signalLink\", e.target.value);\n    this.setState({\n      initData: { ...initData, signalLink: e.target.value },\n    });\n  }\n  render() {\n    const {\n      videoInputList,\n      audioInputList,\n      audioOutputList,\n      videoProlieList,\n      videoCodecList,\n      AppId,\n      AppKey,\n      setVisible,\n      isPhone,\n      signalLink\n    } = this.state;\n    console.log('signalLink',signalLink)\n    // console.log(this.props.store.settings.roomType)\n    // const { settings,Settings } = this.props.store;\n    let { settings } = this.props.store;\n    console.log(\"settings.videoInput\", settings.videoInput);\n\n    return (\n      <Modal\n        visible={setVisible}\n        size=\"md\"\n        onClose={this.setClose}\n        onOk={this.setOk}\n        className=\"setting-modal\"\n      >\n        <Form className=\"settings\">\n          <Item label=\"房间类型：\" {...itemLayout}>\n            <Select\n              value={settings.roomType}\n              disabled={!isSupportWebRTC()}\n              onChange={this.roomTypeChange}\n            >\n              <Option value={\"rtc\"}>小班课</Option>\n              <Option value={\"live\"}>大班课</Option>\n            </Select>\n          </Item>\n          <Item label=\"用户角色：\" {...itemLayout}>\n            <Select\n              value={settings.userRole}\n              disabled={!isSupportWebRTC()}\n              onChange={this.userRoleChange}\n            >\n              {settings.roomType !== \"rtc\" ? (\n                <Option value={\"push\"}>推流</Option>\n              ) : null}\n              {settings.roomType !== \"rtc\" || !isSupportWebRTC() ? (\n                <Option value={\"pull\"}>拉流</Option>\n              ) : null}\n\n              <Option value={\"push-and-pull\"}>推流+拉流</Option>\n            </Select>\n          </Item>\n          {/* <Item label=\"用户名：\" {...itemLayout}>\n            <Input onChange={this.userNameChange} />\n          </Item> */}\n          <Item label=\"用户ID：\" {...itemLayout}>\n            <Input value={settings.userId} onChange={this.userIdChange} />\n          </Item>\n          <Item label=\"摄像头：\" {...itemLayout}>\n            <Select\n              value={settings.videoInput}\n              onChange={this.videoInputChange}\n            >\n              {videoInputList.map((v, i) => (\n                <Option key={i} value={v.deviceId}>\n                  {v.label}\n                </Option>\n              ))}\n            </Select>\n          </Item>\n          <Item label=\"麦克风：\" {...itemLayout}>\n            <Select\n              value={settings.audioInput}\n              onChange={this.audioInputChange}\n            >\n              {audioInputList.map((v, i) => (\n                <Option key={i} value={v.deviceId}>\n                  {v.label}\n                </Option>\n              ))}\n            </Select>\n          </Item>\n          <Item label=\"扬声器：\" {...itemLayout}>\n            <Select\n              value={settings.audioOutput}\n              onChange={this.audioOutputChange}\n            >\n              {audioOutputList.map((v, i) => (\n                <Option key={i} value={v.deviceId}>\n                  {v.label}\n                </Option>\n              ))}\n            </Select>\n          </Item>\n          <Item label=\"分辨率：\" {...itemLayout}>\n            <Select\n              value={settings.videoProlie}\n              onChange={this.videoProlieChange}\n            >\n              {videoProlieList.map((v, i) => (\n                <Option key={i} value={v}>\n                  {v}\n                </Option>\n              ))}\n            </Select>\n          </Item>\n          {isPhone ? null : (\n            <Item label=\"桌面分辨率：\" {...itemLayout}>\n              <Select\n                value={settings.desktopProfile}\n                onChange={this.desktopProlieChange}\n              >\n                {videoProlieList.map((v, i) => (\n                  <Option key={i} value={v}>\n                    {v}\n                  </Option>\n                ))}\n              </Select>\n            </Item>\n          )}\n\n          <Item label=\"视频格式：\" {...itemLayout}>\n            <Select\n              value={settings.videoCodec}\n              onChange={this.videoCodecChange}\n            >\n              {videoCodecList.map((v, i) => (\n                <Option key={i} value={v}>\n                  {v}\n                </Option>\n              ))}\n            </Select>\n          </Item>\n          <Item label=\"AppId：\" {...itemLayout}>\n            <Input value={AppId} onChange={this.AppIdChange} />\n          </Item>\n          <Item label=\"AppKey：\" {...itemLayout}>\n            <Input\n              value={AppKey}\n              onChange={this.AppKeyChange}\n              type=\"password\"\n            />\n          </Item>\n          <Item label=\"私有部署地址：\" {...itemLayout}>\n            <Input placeholder=\"例如：wss://domain:5005\" style={{ width: '200px' }} value={signalLink} onChange={this.signalLinkChange} />\n          </Item>\n          {/* <Group title=\"\">\n            <Item label=\"房间地址\" {...itemLayout}>\n                <Input placeholder=\"例如：wss://domain:5005\" style={{width:'200px'}} value={apiLink} onChange={this.apiLinkChange} />\n            </Item>\n            <Item label=\"日志地址\" {...itemLayout}>\n                <Input style={{width:'200px'}} value={logLink} onChange={this.logLinkChange} />\n            </Item>\n        </Group> */}\n        </Form>\n      </Modal>\n    );\n  }\n}\n\nexport default Settings;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Message } from \"@ucloud-fe/react-components\";\nimport { observer, inject } from \"mobx-react\";\nimport ReactPlayer from \"react-player\";\n\nconst Wrapper = styled.div`\n  position: relative;\n  height: 160px;\n  padding: 10px 0 0 0;\n`;\n\n/**\n * @param index\n * @param id\n */\n\n@inject(\"store\")\n@observer\nclass VideoWrapper extends React.Component {\n  static defaultProps = {\n    index: 0,\n    id: null,\n  };\n\n  state = {\n    stream: null,\n    previewId: null,\n  };\n\n  componentDidMount() {\n    this.createStream(this.props.id);\n  }\n\n  createStream = (id) => {\n    this.store = this.props.store.testingStore;\n    this.store.sdkClient.createStream(\n      {\n        previewId: id,\n        audio: true,\n        video: true,\n        cameraId: id,\n      },\n      (error, stream) => {\n        if (!error) {\n          this.setState({\n            stream,\n            previewId: `${id}`,\n          });\n          console.log(\"create video stream success:\", stream);\n        } else {\n          Message.error(`create video stream failed:${error}`);\n        }\n      }\n    );\n  };\n\n  destroy = (id) => {\n    if (id) {\n      this.store = this.props.store.testingStore;\n      this.store.sdkClient.destroyStream(id, (error) => {\n        if (error) {\n          console.log(`销毁流失败>>>:`, error);\n        } else {\n          console.log(`销毁流成功`);\n        }\n      });\n    }\n  };\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.id !== nextProps.id) {\n      if (this.state.previewId) {\n        this.destroy(this.props.id);\n      }\n      this.createStream(nextProps.id);\n    }\n  }\n\n  render() {\n    let { stream, previewId } = this.state;\n    return (\n      <Wrapper>\n        <ReactPlayer\n          key={previewId}\n          width=\"100%\"\n          height=\"100%\"\n          url={stream && stream.mediaStream}\n          muted={true}\n          playing\n          playsinline\n        />\n      </Wrapper>\n    );\n  }\n}\n\nexport default VideoWrapper;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Row, Col, Select } from \"@ucloud-fe/react-components\";\nimport { observer, inject } from \"mobx-react\";\nimport VideoWrapper from \"../../container/videoWrapper\";\nconst { Option } = Select;\n\nconst Wrapper = styled.div`\n  position: relative;\n  height: 100%;\n`;\n\nconst LeftContent = styled.div`\n  height: 200px;\n  margin: 10% 0 10% 0px;\n  box-sizing:border-box;\n  padding-left:10px;\n  width: 100%;\n  vertical-align: top;\n  border-right: 2px dashed rgba(0, 0, 0, 0.1);\n  .title {\n    text-align: left;\n  }\n  .lable {\n    line-height: 20xp;\n    display: inline-block;\n    padding-right: 10px;\n  }\n`;\n\nconst RightContent = styled.div`\n  height: 200px;\n  margin: 10% 0 10% 10px;\n  width: 100%;\n  border-right: 1px;\n  box-sizing:border-box;\n  padding-top:4px;\n  .title {\n    font-size: 14px;\n    color: #366bee;\n    padding-bottom: 11px;\n  }\n  .text {\n    color: #333;\n    line-height: 20px;\n    font-size: 12px;\n    margin: 0;\n  }\n  .ps {\n    color: #666;\n    font-size: 12px;\n    line-height: 17px;\n    width: 285px;\n    margin: 0;\n    box-sizing: border-box;\n    padding: 21px 0 0 90px;\n    text-align: left;\n  }\n`;\n\nconst BtnWrapper = styled.div`\n  :hover {\n    opacity: 0.9;\n  }\n  width: 100%;\n  height: 48px;\n  line-height: 48px;\n  background-color: ${(props) =>\n    props.backgoundColor ? props.backgoundColor : \"#366bee\"};\n  color: ${(props) => (props.color ? props.color : \"#fff\")};\n  cursor: pointer;\n  font-size: 16px;\n`;\n\n/**\n * @param client sdk实例\n * @param list array []  设备数组\n * @param onOk  func 确定方法\n * @param onCancel func fail方法\n */\n\n@inject(\"store\")\n@observer\nclass CameraTest extends React.Component {\n  static defaultProps = {\n    index: 0,\n    list: [],\n  };\n\n  state = {\n    selectId: this.props.list[0].deviceId,\n  };\n\n  componentDidMount() {}\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.client && !this.isWatching) {\n      this.Client = nextProps.client;\n      this.isWatching = true;\n    }\n  }\n\n  bundleChangeDevice = (e) => {\n    this.setState({\n      selectId: e,\n    });\n  };\n\n  render() {\n    let { selectId } = this.state;\n    let { list } = this.props;\n    return (\n      <Wrapper>\n        <Row gutter={0}>\n          <Col span={6}>\n            <LeftContent>\n              <div className=\"title\">\n                <span className=\"lable\"> 摄像头:</span>\n                <Select value={selectId} onChange={this.bundleChangeDevice}>\n                  {list.map((v, i) => (\n                    <Option key={i} value={v.deviceId}>\n                      {v.label}\n                    </Option>\n                  ))}\n                </Select>\n              </div>\n              <VideoWrapper id={selectId} />\n            </LeftContent>\n            <BtnWrapper\n              onClick={() => {\n                this.props.onOk && this.props.onOk();\n              }}\n            >\n              可以看到\n            </BtnWrapper>\n          </Col>\n          <Col span={6}>\n            <RightContent>\n              <p className=\"title\">看不到画面？试试如下方法：</p>\n              <p className=\"text\">1.请允许浏览器使用摄像头权限</p>\n              <p className=\"text\">2.确认摄像头未被其他程序占用</p>\n              <p className=\"text\">3.选择外置摄像头或换一台电脑</p>\n              <p className=\"ps\">\n                注意：摄像头损坏可正常直播，只是观看页无法看到您的摄像头画面\n              </p>\n            </RightContent>\n            <BtnWrapper\n              onClick={() => {\n                this.props.onCancel && this.props.onCancel();\n              }}\n              backgoundColor={\"#eee\"}\n              color={\"#666\"}\n            >\n              看不到\n            </BtnWrapper>\n          </Col>\n        </Row>\n      </Wrapper>\n    );\n  }\n}\n\nexport default CameraTest;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Loading, Icon } from \"@ucloud-fe/react-components\";\nimport { deviceDetection } from \"urtc-sdk\";\nimport { observer, inject } from \"mobx-react\";\nimport file from \"../../common/music/test.wav\";\n\n/**\n * @param index\n * @param id\n */\n\n// 样式\nconst LoadingText = styled.span`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  line-height: 50px;\n  text-align: left;\n  box-sizing: \"border-box\";\n  padding-left: 80px;\n  display: inline-block;\n`;\n\nconst ErrorWrapper = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  line-height: 60px;\n  text-align: left;\n  box-sizing: \"border-box\";\n  color: #f44336;\n`;\n\nconst ItemWrapper = styled.div`\n  position: relative;\n  width: 247px;\n  background-color: rgb(56, 96, 244);\n  border-radius: 4px;\n  height: 30px;\n  font-size: 12px;\n  line-height: 30px;\n  text-align: center;\n  box-sizing: \"border-box\";\n  cursor: pointer;\n  color: #fff;\n  margin: 10px 0 0 15%;\n  overflow: hidden;\n\n  .bg {\n    background-color: #31386d;\n    height: 100%;\n    border-radius: 4px;\n    z-index: 1;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 0%;\n  }\n  .content {\n    position: relative;\n    z-index: 2;\n  }\n`;\n@inject(\"store\")\n@observer\nclass SpeakerWrapper extends React.Component {\n  static defaultProps = {\n    index: 0,\n    id: null,\n    type: \"input\",\n  };\n\n  state = {\n    volume: 0,\n    show: true,\n    errorInfo: null,\n    loading: false,\n    audioStatsPlay: false,\n  };\n\n  componentDidMount() { }\n\n  testDevice = (callback) => {\n    const { id } = this.props;\n    deviceDetection(\n      {\n        audio: true,\n        video: false,\n        microphoneId: id,\n      },\n      (Result) => {\n        if (Result.audio && Result.video) {\n          // 麦克风和摄像头都可有和，发布或预览时可启用麦克风和摄像头\n          this.setState({\n            show: true,\n          });\n        } else if (Result.audio) {\n          // 麦克风可用，发布或预览时能启用麦克风\n        } else if (Result.video) {\n          // 摄像头可用，发布或预览时能启用摄像头\n          this.setState({\n            show: false,\n            errorInfo: Result.audioError,\n          });\n        } else {\n          this.setState({\n            show: false,\n            errorInfo: Result.audioError,\n          });\n        }\n        callback && callback();\n      }\n    );\n  };\n\n  playAudio = () => {\n    const audio = document.createElement(\"audio\");\n    if (this.props.id) {\n      audio.src = file;\n      this.setState({\n        audioStatsPlay: true,\n      });\n\n      setTimeout(() => {\n        this.setState({\n          audioStatsPlay: false,\n        });\n      }, 1500);\n      if (audio.setSinkId) {\n        audio.setSinkId(this.props.id).then(() => {\n          console.log(\"检测扬声器ing\");\n          audio.play();\n        });\n      }\n\n    }\n  };\n\n  render() {\n    const { show, errorInfo, loading, audioStatsPlay } = this.state;\n    return (\n      <Loading\n        loading={loading}\n        tip={<LoadingText>检测中...</LoadingText>}\n        indicator={null}\n      >\n        {show ? (\n          <ItemWrapper onClick={this.playAudio}>\n            <div className=\"bg\"></div>\n            <div className=\"content\">\n              {audioStatsPlay ? (\n                <Icon type={\"pause\"} />\n              ) : (\n                  <Icon type={\"caret-right\"} />\n                )}\n              点此测试声音\n            </div>\n          </ItemWrapper>\n        ) : (\n            <ErrorWrapper>{errorInfo}</ErrorWrapper>\n          )}\n      </Loading>\n    );\n  }\n}\n\nexport default SpeakerWrapper;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Row, Col, Select, Notice } from \"@ucloud-fe/react-components\";\nimport { observer, inject } from \"mobx-react\";\n// import { isSafari } from \"../../util/index\"\nimport SpeakerWrapper from \"../../container/speakerWrapper/index\";\nimport { isSafari } from \"../../util/index\";\nconst { Option } = Select;\n\nconst Wrapper = styled.div`\n  position: relative;\n  height: 100%;\n`;\n\nconst ErrorWrapper = styled.div`\n  position: relative;\n  height: 200px;\n  width:97%;\n  padding-top:100px;\n  margin: 0% 0 10% 10px;\n  box-sizing: border-box;\n`;\n\nconst LeftContent = styled.div`\n  height: 200px;\n  margin: 10% 0 10% 0px;\n  box-sizing: border-box;\n  padding-left: 10px;\n  width: 100%;\n  vertical-align: top;\n  border-right: 2px dashed rgba(0, 0, 0, 0.1);\n  .title {\n    text-align: left;\n  }\n  .lable {\n    line-height: 20xp;\n    display: inline-block;\n    padding-right: 10px;\n  }\n`;\n\nconst RightContent = styled.div`\n  height: 200px;\n  margin: 10% 0 10% 10px;\n  width: 100%;\n  border-right: 1px;\n  box-sizing: border-box;\n  padding-top: 4px;\n  .title {\n    font-size: 14px;\n    color: #366bee;\n    padding-bottom: 11px;\n  }\n  .text {\n    color: #333;\n    line-height: 20px;\n    font-size: 12px;\n    margin: 0;\n    text-align: left;\n    padding: 0 0 0 90px;\n  }\n  .ps {\n    color: #666;\n    font-size: 12px;\n    line-height: 17px;\n    width: 285px;\n    margin: 0;\n    box-sizing: border-box;\n    padding: 21px 0 0 90px;\n    text-align: left;\n  }\n`;\n\nconst BtnWrapper = styled.div`\n  :hover {\n    opacity: 0.9;\n  }\n  width: 100%;\n  height: 48px;\n  line-height: 48px;\n  background-color: ${(props) =>\n    props.backgoundColor ? props.backgoundColor : \"#366bee\"};\n  color: ${(props) => (props.color ? props.color : \"#fff\")};\n  cursor: pointer;\n  font-size: 16px;\n`;\n\n/**\n * @param client sdk实例\n * @param list array []  设备数组\n * @param onOk  func 确定方法\n * @param onCancel func fail方法\n */\n\n@inject(\"store\")\n@observer\nclass SpeakerTest extends React.Component {\n  static defaultProps = {\n    index: 0,\n    list: [],\n  };\n\n  state = {\n    selectId: \"default\",\n  };\n\n  componentDidMount() { }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.client && !this.isWatching) {\n      this.Client = nextProps.client;\n      this.isWatching = true;\n    }\n  }\n\n  bundleChangeDevice = (e) => {\n    this.setState({\n      selectId: e,\n    });\n  };\n\n  render() {\n    let { selectId } = this.state;\n    let { list } = this.props;\n    return (\n      <Wrapper>\n        {isSafari() ?\n          (<ErrorWrapper>\n            <Notice style={{ width: \"96%\" }} closable={false} styleType={\"error\"}>\n              当前浏览器无法获取扬声器信息\n            </Notice>\n          </ErrorWrapper>)\n          :\n          (<Row gutter={0}>\n            <Col span={6}>\n              <LeftContent>\n                <div className=\"title\">\n                  <span className=\"lable\"> 扬声器:</span>\n                  <Select\n                    value={selectId}\n                    disabled={true}\n                    style={{ width: \"247px\" }}\n                  // onChange={this.bundleChangeDevice}\n                  >\n                    {list.map((v, i) => (\n                      <Option key={i} value={v.deviceId}>\n                        {v.label}\n                      </Option>\n                    ))}\n                  </Select>\n                </div>\n\n                <SpeakerWrapper id={selectId} />\n              </LeftContent>\n            </Col>\n            <Col span={6}>\n\n              <RightContent>\n                <p className=\"title\">听不到声音？试试如下方法：</p>\n                <p className=\"text\">1.请允许浏览器使用声音权限</p>\n                <p className=\"text\">2.请调高设备的扬声器音量</p>\n                <p className=\"text\">3.选择外置扬声器或换一台电脑</p>\n                <p className=\"ps\">\n                  注意：如需更换扬声器，请在电脑的声音设置中更改声音来源\n              </p>\n              </RightContent>\n            </Col>\n          </Row>\n          )}\n\n        <Row gutter={0}>\n          <Col span={6}>\n            <BtnWrapper\n              onClick={() => {\n                this.props.onOk && this.props.onOk();\n              }}\n            >\n              可以听到\n            </BtnWrapper>\n          </Col>\n          <Col span={6}>\n            <BtnWrapper\n              onClick={() => {\n                this.props.onCancel && this.props.onCancel();\n              }}\n              backgoundColor={\"#eee\"}\n              color={\"#666\"}\n            >\n              听不到\n            </BtnWrapper>\n          </Col>\n        </Row>\n      </Wrapper>\n    );\n  }\n}\n\nexport default SpeakerTest;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Progress, Loading } from \"@ucloud-fe/react-components\";\nimport { deviceDetection } from \"urtc-sdk\";\nimport { observer, inject } from \"mobx-react\";\n\n/**\n * @param index\n * @param id\n * @param type  input or output,默认 input\n */\n\n// 样式\nconst LoadingText = styled.span`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  line-height: 50px;\n  text-align: left;\n  box-sizing: \"border-box\";\n  padding-left: 80px;\n  display: inline-block;\n`;\n\nconst ErrorWrapper = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  line-height: 60px;\n  text-align: left;\n  box-sizing: \"border-box\";\n  color: #f44336;\n`;\n\n@inject(\"store\")\n@observer\nclass VolumeProgress extends React.Component {\n  static defaultProps = {\n    index: 0,\n    id: null,\n    type: \"input\",\n  };\n\n  state = {\n    volume: 0,\n    show: true,\n    errorInfo: null,\n    loading: true,\n    previewId: null,\n  };\n\n  componentDidMount() {\n    this.testDevice(this.createStream(this.props.id));\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.id !== this.props.id && !this.isWatching) {\n      this.Client = nextProps.client;\n      this.destroy(this.props.id);\n      this.testDevice(this.createStream(nextProps.id));\n    }\n  }\n\n  destroy = (id) => {\n    if (id) {\n      console.log(\"开始销毁流>>>\");\n      this.store = this.props.store.testingStore;\n      this.store.sdkClient.destroyStream(id, (error) => {\n        if (error) {\n          console.log(`销毁流失败>>>:`, error);\n        } else {\n          console.log(`销毁流成功`);\n        }\n      });\n    }\n  };\n\n  testDevice = (callback) => {\n    const { id } = this.props;\n    deviceDetection(\n      {\n        audio: true,\n        video: false,\n        microphoneId: id,\n      },\n      (Result) => {\n        if (Result.audio && Result.video) {\n          // 麦克风和摄像头都可有和，发布或预览时可启用麦克风和摄像头\n          this.setState({\n            show: true,\n          });\n        } else if (Result.audio) {\n          // 麦克风可用，发布或预览时能启用麦克风\n        } else if (Result.video) {\n          // 摄像头可用，发布或预览时能启用摄像头\n          this.setState({\n            show: false,\n            errorInfo: Result.audioError,\n          });\n        } else {\n          this.setState({\n            show: false,\n            errorInfo: Result.audioError,\n          });\n        }\n        callback && callback();\n      }\n    );\n  };\n\n  createStream = (id) => {\n    console.log('createStream id', id)\n    this.store = this.props.store.testingStore;\n    this.store.sdkClient.createStream(\n      {\n        previewId: id,\n        audio: true,\n        video: false,\n        microphoneId: id,\n      },\n      (error, stream) => {\n        if (!error) {\n          console.log(\"create audio stream success:\", stream);\n          this.timer = setInterval(() => {\n            if (!this.state.show) {\n              clearInterval(this.timer);\n            }\n            this.setState({\n              volume: this.store.sdkClient.getAudioVolume(stream.sid),\n              loading: false,\n              previewId: `${id}`,\n            });\n          }, 200);\n        } else {\n          this.setState({\n            loading: false,\n            errorInfo: error.name,\n          });\n          clearInterval(this.timer)\n          console.log(\"获取音量失败\", error.name);\n        }\n      }\n    );\n  };\n  render() {\n    const { show, errorInfo, loading } = this.state;\n    return (\n      <Loading\n        loading={loading}\n        tip={<LoadingText>检测中...</LoadingText>}\n        indicator={null}\n      >\n        {show ? (\n          <div style={{ width: \"90%\" }}>\n            <Progress\n              percent={this.state.volume}\n              format={null}\n              style={{\n                width: \"247px\",\n                paddingTop: \"25px\",\n                paddingLeft: \"47px\",\n                display: \"inline-block\",\n              }}\n            />\n            <span\n              style={{\n                display: \"inline-block\",\n                paddingLeft: \"10px\",\n              }}\n            >\n              {/* {this.state.volume} */}\n            </span>\n          </div>\n        ) : (\n            <ErrorWrapper>{errorInfo}</ErrorWrapper>\n          )}\n      </Loading>\n    );\n  }\n}\n\nexport default VolumeProgress;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Row, Col, Select } from \"@ucloud-fe/react-components\";\nimport { observer, inject } from \"mobx-react\";\nimport VolumeProgress from \"../../container/volumeProgress/index.jsx\";\nconst { Option } = Select;\n\nconst Wrapper = styled.div`\n  position: relative;\n  height: 100%;\n`;\n\nconst LeftContent = styled.div`\n  height: 200px;\n  margin: 10% 0 10% 0px;\n  box-sizing: border-box;\n  padding-left: 10px;\n  width: 100%;\n  vertical-align: top;\n  border-right: 2px dashed rgba(0, 0, 0, 0.1);\n  .title {\n    text-align: left;\n  }\n  .lable {\n    line-height: 20xp;\n    display: inline-block;\n    padding-right: 10px;\n  }\n`;\n\nconst RightContent = styled.div`\n  height: 200px;\n  margin: 10% 0 10% 10px;\n  width: 100%;\n  border-right: 1px;\n  box-sizing: border-box;\n  padding-top: 4px;\n  .title {\n    font-size: 14px;\n    color: #366bee;\n    padding-bottom: 11px;\n  }\n  .text {\n    color: #333;\n    line-height: 20px;\n    font-size: 12px;\n    margin: 0;\n    text-align: left;\n    padding: 0 0 0 90px;\n  }\n  .ps {\n    color: #666;\n    font-size: 12px;\n    line-height: 17px;\n    width: 285px;\n    margin: 0;\n    box-sizing: border-box;\n    padding: 21px 0 0 90px;\n    text-align: left;\n  }\n`;\n\nconst BtnWrapper = styled.div`\n  :hover {\n    opacity: 0.9;\n  }\n  width: 100%;\n  height: 48px;\n  line-height: 48px;\n  background-color: ${(props) =>\n    props.backgoundColor ? props.backgoundColor : \"#366bee\"};\n  color: ${(props) => (props.color ? props.color : \"#fff\")};\n  cursor: pointer;\n  font-size: 16px;\n`;\n\n/**\n * @param client sdk实例\n * @param list array []  设备数组\n * @param onOk  func 确定方法\n * @param onCancel func fail方法\n */\n\n@inject(\"store\")\n@observer\nclass MicTest extends React.Component {\n  static defaultProps = {\n    index: 0,\n    list: [],\n  };\n\n  state = {\n    selectId: \"default\",\n  };\n\n  componentDidMount() {\n    console.log(this.props.list);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.client && !this.isWatching) {\n      this.Client = nextProps.client;\n      this.isWatching = true;\n    }\n  }\n\n  bundleChangeDevice = (e) => {\n    this.setState({\n      selectId: e,\n    });\n  };\n\n  render() {\n    let { selectId } = this.state;\n    let { list } = this.props;\n    return (\n      <Wrapper>\n        <Row gutter={0}>\n          <Col span={6}>\n            <LeftContent>\n              <div className=\"title\">\n                <span className=\"lable\"> 扬声器:</span>\n                <Select\n                  value={selectId}\n                  style={{ width: \"247px\" }}\n                  onChange={this.bundleChangeDevice}\n                >\n                  {list.map((v, i) => (\n                    <Option key={i} value={v.deviceId}>\n                      {v.label}\n                    </Option>\n                  ))}\n                </Select>\n              </div>\n              <VolumeProgress id={selectId} />\n            </LeftContent>\n            <BtnWrapper\n              onClick={() => {\n                this.props.onOk && this.props.onOk();\n              }}\n            >\n              可以看到\n            </BtnWrapper>\n          </Col>\n          <Col span={6}>\n            <RightContent>\n              <p className=\"title\">看不到音量条波动？试试如下方法：</p>\n              <p className=\"text\">1.请允许浏览器使用麦克风权限</p>\n              <p className=\"text\">2.确认麦克风未被其他程序占用</p>\n              <p className=\"text\">3.选择外置麦克风或换一台电脑</p>\n              <p className=\"ps\">注意：麦克风异常无法进入直播间</p>\n            </RightContent>\n            <BtnWrapper\n              onClick={() => {\n                this.props.onCancel && this.props.onCancel();\n              }}\n              backgoundColor={\"#eee\"}\n              color={\"#666\"}\n            >\n              看不到\n            </BtnWrapper>\n          </Col>\n        </Row>\n      </Wrapper>\n    );\n  }\n}\n\nexport default MicTest;\n","import styled from \"styled-components\";\n\nconst StepWrapper = styled.div`\n  padding: 10px 0 0 0;\n  text-align: center;\n`;\nconst ErrorWrapper = styled.div`\n  position: relative;\n  height: 100%;\n  padding: 20px;\n`;\n\n// const NoSpearList = styled.div`\n\n// `\nconst BtnWrapper = styled.div`\n  :hover {\n    opacity: 0.9;\n  }\n  width: 100%;\n  height: 48px;\n  line-height: 48px;\n  background-color: ${(props) =>\n        props.backgoundColor ? props.backgoundColor : \"#366bee\"};\n  color: ${(props) => (props.color ? props.color : \"#fff\")};\n  cursor: pointer;\n  font-size: 16px;\n  position: absolute;\n  bottom: 0;\n`;\n\nconst EndWrapper = styled.div`\n  position: relative;\n  height: 318px;\n  width: 100%;\n  box-sizing: border-box;\n  padding: 10px 0;\n  .content {\n    > div:nth-child(odd) {\n      background: #f7f7fd;\n    }\n  }\n\n  .error {\n    color: #f44336;\n  }\n  p {\n    padding: 0;\n    margin: 0;\n  }\n  .left,\n  .right {\n    vertical-align: top;\n    height: 32px;\n    line-height: 32px;\n    display: inline-block;\n    width: 200px;\n  }\n  .errorInfo {\n    color: #f44336;\n    background-color: null;\n    position: absolute;\n    bottom: 60px;\n    left: 35%;\n  }\n`;\n\nexport {\n    StepWrapper, ErrorWrapper, BtnWrapper, EndWrapper\n}","import React from \"react\";\nimport {\n  Modal,\n  Steps,\n  Notice,\n  Row,\n  Col,\n  Message,\n} from \"@ucloud-fe/react-components\";\nimport { observer, inject } from \"mobx-react\";\nimport { randNum } from \"../../util\";\nimport CameraTest from \"../cameraTest/index.jsx\";\nimport SpeakerTest from \"../speakerTest/index.jsx\";\nimport MicTest from \"../micTest/index.jsx\";\nimport {\n  StepWrapper, ErrorWrapper, BtnWrapper, EndWrapper\n} from './index.styles'\nimport {\n  // isWeChat,\n} from '../../util/index'\nimport sdk, {\n  Client,\n  getDevices,\n  isSupportWebRTC,\n  deviceDetection,\n} from \"urtc-sdk\";\n\nconst deviceType = {\n  AUDIOINPUT: {\n    type: \"audioinput\",\n    des: \"音频输入\",\n  }, //音频输入\n  AUDIOOUTPUT: {\n    type: \"audiooutput\",\n    des: \"音频输出\",\n  }, //音频输出\n  VIDEOINPUT: {\n    type: \"videoinput\",\n    des: \"视频输入\",\n  }, //视频输入\n};\n\n/**\n * @param show  bool 必传，控制组件现实隐藏\n * @param close fun 必传, 关闭modal函数\n * @description 设备检测模块包含：rtc能力测试，音视频设备状态测试\n *\n */\n\n// 样式\n//模块\n@inject(\"store\")\n@observer\nclass Testing extends React.Component {\n  static defaultProps = {\n    show: false,\n  };\n\n  state = {\n    allDeviceList: [],\n    audioInputDeviceList: [],\n    audioInputStream: [],\n    audioOutputDeviceList: [],\n    videoDeviceList: [],\n    rtcSupportFlag: false,\n    rtcSupportError: null,\n    errorInfo: \"\",\n    stepCurrent: 0,\n    steps: [\n      {\n        title: \"摄像头检测\",\n        key: \"testVideo\",\n      },\n      {\n        title: \"扬声器检测\",\n        key: \"testSpeaker\",\n      },\n      {\n        title: \"麦克风检测\",\n        key: \"testMic\",\n      },\n      {\n        title: \"检测结果\",\n        key: \"end\",\n      },\n    ],\n    statusMap: {\n      camera: true,\n      speaker: true,\n      mic: true,\n    },\n  };\n  constructor(props) {\n    super(props);\n    console.log(this.state);\n  }\n\n  componentDidMount() {\n    this.testRtcSupport();\n    this.getDevicesList();\n    this.initRtc();\n  }\n\n  next = () => {\n    let { stepCurrent, steps } = this.state;\n    if (stepCurrent === steps.length - 1) {\n      return;\n    }\n    let num = stepCurrent + 1;\n    this.setState({\n      stepCurrent: num,\n    });\n  };\n\n  prev = () => {\n    let { stepCurrent } = this.state;\n    if (stepCurrent === 0) {\n      return;\n    }\n    let num = stepCurrent - 1;\n    this.setState({\n      stepCurrent: num,\n    });\n  };\n\n  destroy = (id) => {\n    if (id) {\n      console.log(\"开始销毁流>>>\");\n      this.store = this.props.store.testingStore;\n      this.store.sdkClient.destroyStream(id, (error) => {\n        if (error) {\n          console.log(`销毁流失败>>>:`, error);\n        } else {\n          console.log(`销毁流成功>>>`);\n        }\n      });\n    }\n  };\n\n  destroyAll = () => {\n    this.store = this.props.store.testingStore;\n    const result = this.store.sdkClient.getLocalStreams();\n    for (let index = 0; index < result.length; index++) {\n      const element = result[index];\n      this.destroy(element.previewId);\n    }\n  };\n\n  initRtc = () => {\n    const storeData = this.props.store.settings;\n    let roomId = `testDevice${randNum(8)}`;\n    let userId = randNum(8);\n    const AppId = storeData.AppId;\n    const AppKey = storeData.AppKey;\n    let token = sdk.generateToken(AppId, AppKey, roomId, userId);\n    this.client = new Client(AppId, token);\n    this.props.store.testingStore.setSdkClient(this.client);\n  };\n\n  getDevicesList = () => {\n    const {\n      audioInputDeviceList,\n      audioOutputDeviceList,\n      videoDeviceList,\n    } = this.state;\n    getDevices(\n      (MediaDeviceInfos) => {\n        console.log(\"MediaDeviceInfos\", MediaDeviceInfos)\n        this.setState({\n          allDeviceList: MediaDeviceInfos,\n        });\n        for (let index = 0; index < MediaDeviceInfos.length; index++) {\n          const element = MediaDeviceInfos[index];\n          // 音频输入\n          if (element.kind === deviceType.AUDIOINPUT.type) {\n            audioInputDeviceList.push(element);\n          }\n          // 音频输出\n          if (element.kind === deviceType.AUDIOOUTPUT.type) {\n            audioOutputDeviceList.push(element);\n          }\n          // 视频输入\n          if (element.kind === deviceType.VIDEOINPUT.type) {\n            videoDeviceList.push(element);\n          }\n        }\n        this.setState({\n          audioInputDeviceList,\n          audioOutputDeviceList,\n          videoDeviceList,\n        });\n        console.log(\n          \"getDevicesList success\",\n          audioInputDeviceList,\n          audioOutputDeviceList,\n          videoDeviceList\n        );\n      },\n      (error) => {\n        console.log(\"getDevicesList fail\", error);\n        Message.error(error);\n        this.getDevicesList();\n      }\n    );\n  };\n\n  closeModal = () => {\n    this.destroyAll();\n    this.props.close && this.props.close();\n  };\n\n  changeType = (e) => {\n    this.setState({\n      selectType: e,\n    });\n  };\n\n  testRtcSupport = () => {\n    const result = isSupportWebRTC();\n    if (result) {\n      this.setState({\n        rtcSupportFlag: true,\n      });\n    }\n    deviceDetection(\n      {\n        audio: true,\n        video: true,\n      },\n      (Result) => {\n        console.log(Result);\n        if (Result.audio && Result.video) {\n          // 麦克风和摄像头都可，发布或预览时可启用麦克风和摄像头\n        } else if (Result.audio) {\n          // 麦克风可用，发布或预览时能启用麦克风\n          this.setState({\n            rtcSupportFlag: false,\n            errorInfo: `摄像头不可用:${Result.videoError}`,\n          });\n        } else if (Result.video) {\n          // 摄像头可用，发布或预览时能启用摄像头\n          this.setState({\n            rtcSupportFlag: false,\n            errorInfo: `麦克风不可用:${Result.audioError}`,\n          });\n        } else {\n          // 麦克风和摄像头都不可用\n          this.setState({\n            rtcSupportFlag: false,\n            errorInfo: `麦克风和摄像头皆不可用:${Result.audioError}`,\n          });\n        }\n      }\n    );\n  };\n\n  testSuc = (type) => {\n    let _s = this.state.statusMap;\n    _s[type] = true;\n    this.setState({\n      statusMap: _s,\n    });\n    this.next();\n  };\n\n  reset = () => {\n    this.setState({\n      stepCurrent: 0,\n    });\n  };\n\n  testFail = (type) => {\n    let _s = this.state.statusMap;\n    _s[type] = false;\n    this.setState({\n      statusMap: _s,\n    });\n    this.next();\n  };\n\n\n  renderBtn = () => {\n    const { camera = true, speaker = true, mic = true, } = this.state.statusMap;\n    if (camera && speaker && mic) {\n      return (\n        <BtnWrapper onClick={this.closeModal}>关闭</BtnWrapper>\n      )\n    } else {\n      return (<BtnWrapper onClick={this.reset}>重新检测</BtnWrapper>)\n    }\n  }\n\n  render() {\n    const { show } = this.props;\n    const {\n      rtcSupportFlag,\n      errorInfo,\n      stepCurrent,\n      steps,\n      videoDeviceList,\n      audioOutputDeviceList,\n      audioInputDeviceList,\n      statusMap,\n    } = this.state;\n    // const {} = this.props.store;\n    console.log(statusMap);\n    return (\n      <Modal\n        visible={show}\n        title={\"检测\"}\n        size=\"md\"\n        // width={560}\n        onClose={this.closeModal}\n        afterClose={this.destroyAll}\n        footer={null}\n        destroyOnClose={false}\n      >\n        {rtcSupportFlag && videoDeviceList.length ? (\n          <StepWrapper>\n            <Steps\n              steps={steps}\n              current={steps[stepCurrent].key}\n              status={\"current\"}\n            />\n            {stepCurrent === 0 && (\n              <CameraTest\n                client={this.client}\n                list={videoDeviceList}\n                onOk={this.testSuc.bind(this, \"camera\")}\n                onCancel={this.testFail.bind(this, \"camera\")}\n              />\n            )}\n\n            {stepCurrent === 1 && (\n              <SpeakerTest\n                client={this.client}\n                list={audioOutputDeviceList}\n                onOk={this.testSuc.bind(this, \"speaker\")}\n                onCancel={this.testFail.bind(this, \"speaker\")}\n              />\n            )}\n            {stepCurrent === 2 && (\n              <MicTest\n                client={this.client}\n                list={audioInputDeviceList}\n                onOk={this.testSuc.bind(this, \"mic\")}\n                onCancel={this.testFail.bind(this, \"mic\")}\n              />\n            )}\n            {stepCurrent === 3 && (\n              <EndWrapper>\n                <div className=\"content\">\n                  <Row gutter={0}>\n                    <Col offset={2} span={4}>\n                      <div className=\"left\">检测项目</div>\n                    </Col>\n                    <Col span={4}>\n                      <div className=\"right\">检测结果</div>\n                    </Col>\n                  </Row>\n                  <Row gutter={0}>\n                    <Col offset={2} span={4}>\n                      <div className=\"left\">摄像头</div>\n                    </Col>\n                    <Col span={4}>\n                      <div className=\"right\">\n                        {statusMap.camera ? (\n                          <p>正常</p>\n                        ) : (\n                            <p className=\"error\">异常</p>\n                          )}\n                      </div>\n                    </Col>\n                  </Row>\n                  <Row gutter={0}>\n                    <Col offset={2} span={4}>\n                      <div className=\"left\">扬声器</div>\n                    </Col>\n                    <Col span={4}>\n                      <div className=\"right\">\n                        {statusMap.speaker ? (\n                          <p>正常</p>\n                        ) : (\n                            <p className=\"error\">异常</p>\n                          )}\n                      </div>\n                    </Col>\n                  </Row>\n\n                  <Row gutter={0}>\n                    <Col offset={2} span={4}>\n                      <div className=\"left\">麦克风</div>\n                    </Col>\n                    <Col span={4}>\n                      <div className=\"right\">\n                        {statusMap.mic ? (\n                          <p>正常</p>\n                        ) : (\n                            <p className=\"error\">异常</p>\n                          )}\n                      </div>\n                    </Col>\n                  </Row>\n                </div>\n                {!statusMap.mic && (\n                  <p className=\"errorInfo\">当前您的麦克风异常，无法进入直播</p>\n                )}\n                {this.renderBtn()}\n              </EndWrapper>\n            )}\n          </StepWrapper>\n        ) : (\n            <ErrorWrapper>\n              <Notice closable={false} styleType={\"error\"}>\n                {errorInfo}\n              </Notice>\n            </ErrorWrapper>\n          )}\n      </Modal>\n    );\n  }\n}\n\nexport default Testing;\n","import styled from \"styled-components\";\n\nconst LoginWrapper = styled.div`\n  height: 100vh;\n  width: 100vw;\n  /* min-width: 1440px; */\n  min-height: 375x;\n  background: #121f37;\n  border-radius: 4px;\n  position: relative;\n  text-align: center;\n  display: flex;\n  display: -webkit-flex; /* Safari */\n  .version-wrapper {\n    width: 100%;\n    height: 20px;\n    font-size: 12px;\n    font-family: PingFangSC-Regular, PingFang SC;\n    color: #7a8baa;\n    line-height: 20px;\n    text-align: center;\n    padding-top: 77px;\n  }\n  .setting-content {\n    display: inline-block;\n    margin: 0 auto;\n    width: ${(props) => (props.width ? props.width + \"px\" : \"512px\")};\n    height: 360px;\n    background: #eff2f5;\n    border-radius: 4px;\n    box-sizing: border-box;\n    align-self: center;\n\n    .header {\n      margin: 28px 0 0 0;\n      position: relative;\n      text-align: left;\n      padding: 0 20px;\n      .header_left,\n      .header_right {\n        display: inline-block;\n        .header_Icon {\n          cursor: pointer;\n          img {\n            height: 14px;\n          }\n        }\n      }\n\n      .header_right {\n        position: absolute;\n        font-size: 16px;\n        top: 0;\n        right: 20px;\n        color: #526075;\n        cursor: pointer;\n      }\n    }\n\n    .main {\n      padding: 44px 0 0 0;\n      width: 224px;\n      display: inline-block;\n      .btn-content {\n        width: 100%;\n        padding: 24px 0 0 0;\n        .btn {\n          width: 100%;\n          height: 40px;\n        }\n      }\n      .title-left {\n        height: 22px;\n        font-size: ${(props) => (props.isPhone ? \"14px\" : \" 16px\")};\n        font-family: PingFangSC-Regular, PingFang SC;\n        font-weight: 600;\n        color: #0a1633;\n        text-align: left;\n        line-height: 22px;\n      }\n      .title-right {\n        height: 20px;\n        font-size: 12px;\n        font-family: PingFangSC-Regular, PingFang SC;\n        font-weight: 400;\n        color: #526075;\n        line-height: 26px;\n        text-align: right;\n        cursor: pointer;\n        .title_icon {\n          color: #3860f4;\n        }\n      }\n      .room-id {\n        width: 100%;\n        height: 40px;\n        line-height: 40px;\n        box-sizing: border-box;\n        padding-left: 8px;\n        background: #fff;\n        color: #445073;\n        /* font-weight: bold; */\n      }\n    }\n  }\n`;\n\nexport { LoginWrapper }","import React from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport { Icon, Row, Col, Button, Message } from \"@ucloud-fe/react-components\";\nimport Settings from \"../components/settings\";\nimport Testing from \"../components/testing/index\";\nimport bgImg from \"../common/image/com.png\";\nimport { version } from \"../config/version\";\nimport Querystringify from \"querystringify\";\nimport { isPC, isSafari } from \"../util/index\";\nimport { LoginWrapper } from './home.styles.jsx';\nimport SDK from \"urtc-sdk\";\nimport \"./login.css\";\nconst { isSupportWebRTC } = SDK;\n\n\n@inject(\"store\")\n@observer\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    let storeSettings = this.props.store.settings;\n    const query = Querystringify.parse(props.location.search);\n    console.log(\"query\", query);\n    const { roomId = \"\", roomType = \"rtc\" } = query;\n    if (roomId) {\n      storeSettings.joinRoom({\n        roomId: roomId,\n      });\n    }\n    if (roomType === \"live\") {\n      storeSettings.setParamKey(\"roomType\", \"live\");\n      storeSettings.setParamKey(\"userRole\", \"pull\");\n    }\n\n    //不支持rtc，统一权限改为拉流pull\n    if (!isSupportWebRTC()) {\n      storeSettings.setParamKey(\"userRole\", \"pull\");\n    }\n\n    this.state = {\n      loading: false,\n      setVisible: true,\n      roomIdValue: roomId,\n      testingVisible: false,\n      isPhone: !isPC(),\n      supportRTC: isSupportWebRTC(),\n    };\n  }\n\n  componentDidMount() {\n    if (!this.state.supportRTC) {\n      Message.error(\"当前浏览器不支持RTC推流，建议更换Safari 或 Chrome 重试\");\n    }\n  }\n  joinIn = () => {\n    let roomId = this.state.roomIdValue;\n    let storeSettings = this.props.store.settings;\n\n    console.log(\"storeSettings,\", storeSettings);\n    let userId = storeSettings.userId;\n    this.props.history.push({\n      pathname: \"/class\",\n      state: { roomId: roomId, userId: userId },\n    });\n    storeSettings.joinRoom({\n      roomId: roomId,\n      userId: userId,\n    });\n  };\n\n  setting = () => {\n    this.setState({\n      setVisible: true,\n    });\n    let storeSettings = this.props.store.settings;\n    storeSettings.settingsActive(true);\n  };\n\n  roomId = (e) => {\n    this.setState({\n      roomIdValue: e.target.value,\n    });\n    console.log(e.target.value);\n  };\n\n  setClose() {\n    this.setState({\n      setVisible: false,\n      \n    });\n  }\n\n  toggleTesting = (flag) => {\n    this.setState({\n      testingVisible: flag,\n    });\n  };\n\n  render() {\n    const { setVisible, testingVisible, roomIdValue, isPhone } = this.state;\n    console.log(\"isSupportWebRTC\", isSupportWebRTC());\n    return (\n      <LoginWrapper\n        className=\"login\"\n        width={isPhone ? 300 : 512}\n        isPhone={isPhone}\n      >\n        <div className=\"setting-content\">\n          <div className=\"header\">\n            <div className=\"header_left\">\n              <div className=\"header_Icon\">\n                {/*\n                  <a\n                  href=\"https://www.ucloud.cn/\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <img src={bgImg} alt=\"\" />\n                </a>\n                */}\n              </div>\n            </div>\n            <div className=\"header_right\">\n              <Icon onClick={this.setting} type={\"cog\"} />\n              <Settings visible={setVisible} />\n            </div>\n          </div>\n\n          <div className=\"main\">\n            <Row getter={0}>\n              <Col span={5}>\n                <p className=\"title-left\">房间号码</p>\n              </Col>\n              <Col span={4} offset={3}>\n                {(isPhone || isSafari()) ? null : (\n                  <p\n                    className=\"title-right\"\n                    onClick={this.toggleTesting.bind(this, true)}\n                  >\n                    检测{\" \"}\n                    <span\n                      className=\"title_icon icon__arrow-right\"\n                    // type=\"arrow-right\"\n                    />\n                  </p>\n                )}\n\n                {testingVisible && (\n                  <Testing\n                    show={testingVisible}\n                    close={this.toggleTesting.bind(this, false)}\n                  />\n                )}\n              </Col>\n            </Row>\n            <div>\n              <input\n                value={roomIdValue}\n                type=\"text\"\n                className=\"room-id\"\n                onChange={this.roomId}\n              />\n            </div>\n            <div className=\"btn-content\">\n              <Button\n                className=\"btn\"\n                styleType=\"primary\"\n                size=\"lg\"\n                onClick={this.joinIn}\n              >\n                {\"加入\"}\n              </Button>\n            </div>\n          </div>\n          <div className=\"version-wrapper\">\n            <span>{`DEMO : ${version}`}</span>\n          </div>\n        </div>\n      </LoginWrapper>\n    );\n  }\n}\n\nexport default Login;\n","let version = \"1.0\";\n\nexport { version };\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport {\n  Modal,\n  Message,\n  Form,\n  Input,\n  Button,\n} from \"@ucloud-fe/react-components\";\nimport { observer, inject } from \"mobx-react\";\nimport { isPC, copy } from \"../../util/index\";\n\n/**,\n * @param show  bool 必传，控制组件现实隐藏\n * @param client  rtc事例化对象\n * @param close fun 必传, 关闭modal函数\n * @param param obj 相关参数\n * @description 设备检测模块包含：rtc能力测试，音视频设备状态测试\n */\n\n// 样式\nconst Wrapper = styled.div`\n  position: relative;\n  height: 100%;\n  padding: 20px;\n`;\nconst { Item } = Form;\n\n//模块\n@inject(\"store\")\n@observer\nclass RtcRelay extends React.Component {\n  static defaultProps = {\n    show: false,\n  };\n\n  state = {\n    relayLoading: false,\n    relayFlag: false,\n    url: \"\",\n    defaultUrl: \"\",\n    playUrl: \"\",\n    isPhone: !isPC(),\n  };\n\n  componentDidMount() {}\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.client && !this.isWatching) {\n      let { roomId } = nextProps.param;\n      let _url = encodeURIComponent(roomId);\n      this.Client = nextProps.client;\n      this.isWatching = true;\n      this.setState({\n        url: `rtmp://rtcpush.ugslb.com/rtclive/${_url}`,\n      });\n    }\n  }\n\n  closeModal = () => {\n    this.props.close && this.props.close(false);\n  };\n\n  startRelay = () => {\n    let { roomId } = this.props.param;\n    if (!roomId) {\n      Message.error(\"RoomId为空，请重新加入并重试\");\n      return;\n    }\n\n    let _url = encodeURIComponent(roomId);\n\n    this.setState({\n      relayLoading: true,\n    });\n    setTimeout(() => {\n      this.Client.startMix(\n        {\n          type: \"relay\",\n          pushURL: [`rtmp://rtcpush.ugslb.com/rtclive/${_url}`],\n        },\n        (Err, Result) => {\n          if (!Err) {\n            this.setState({\n              relayFlag: true,\n              relayLoading: false,\n              playUrl: `http://rtchls.ugslb.com/rtclive/${_url}.m3u8`,\n            });\n            Message.success(\"转推成功\");\n            console.log(\n              \"转推成功 >>>\",\n              `rtmp://rtcpush.ugslb.com/rtclive/${_url}`,\n              Result\n            );\n          } else {\n            this.setState({\n              relayLoading: false,\n            });\n            Message.error(\"转推失败\");\n            console.log(\n              \"转推失败 >>>\",\n              `rtmp://rtcpush.ugslb.com/rtclive/${_url}`,\n              Err\n            );\n          }\n        }\n      );\n    }, 6000);\n  };\n\n  copyUrl = () => {\n    copy(this.state.playUrl);\n    Message.success(\"播放地址以复制\");\n  };\n\n  setUrl = (e) => {\n    if (!e.target.value) return;\n    this.setState({\n      url: e.target.value,\n    });\n  };\n\n  stopRelay = () => {\n    this.setState({\n      relayLoading: true,\n    });\n    this.Client.stopRelay((Error, Result) => {\n      if (!Error) {\n        Message.info(\"停止成功\");\n        this.props.statsRefush();\n        this.setState({\n          relayLoading: false,\n          relayFlag: false,\n        });\n        console.log(\"停止成功\", Result);\n      } else {\n        Message.error(\"停止失败\");\n        this.setState({\n          relayLoading: false,\n        });\n      }\n    });\n  };\n\n  render() {\n    const { show } = this.props;\n    const { relayLoading, url, relayFlag, playUrl, isPhone } = this.state;\n    const itemLayout = {\n      labelCol: {\n        span: isPhone ? 3 : 2,\n      },\n      controllerCol: {\n        span: isPhone ? 7 : 10,\n      },\n    };\n    return (\n      <Modal\n        visible={show}\n        title={\"转推配置\"}\n        size={isPhone ? \"sm\" : \"md\"}\n        onClose={this.closeModal}\n        // afterClose={this.destroyAll}\n        destroyOnClose={false}\n        footer={\n          <div>\n            <Button onClick={this.closeModal}>取消</Button>\n            {!relayFlag ? (\n              <Button\n                styleType=\"primary\"\n                onClick={this.startRelay}\n                loading={relayLoading}\n                style={{ marginLeft: \"12px\" }}\n              >\n                {!relayLoading ? \"开始转推\" : \"转推中\"}\n              </Button>\n            ) : (\n              <Button\n                styleType=\"primary\"\n                onClick={this.stopRelay}\n                loading={relayLoading}\n                style={{ marginLeft: \"12px\" }}\n              >\n                {!relayLoading ? \"停止转推\" : \"转推中\"}\n              </Button>\n            )}\n          </div>\n        }\n      >\n        <Wrapper isPhone={isPhone}>\n          <Form className=\"relay\">\n            <Item label={!relayFlag ? \"转推地址\" : \"播放地址\"} {...itemLayout}>\n              {!relayFlag ? (\n                <Input\n                  style={{ width: isPhone ? \"200px\" : \"260px\" }}\n                  value={url}\n                  onChange={this.setUrl}\n                  placeholder=\"如不填，则为默认地址转推\"\n                />\n              ) : (\n                <>\n                  <p> {playUrl}</p>\n                  <Button\n                    styleType=\"primary\"\n                    onClick={this.copyUrl}\n                    style={{ marginLeft: \"12px\" }}\n                  >\n                    {\"复制播放地址\"}\n                  </Button>\n                </>\n              )}\n            </Item>\n          </Form>\n        </Wrapper>\n      </Modal>\n    );\n  }\n}\n\nexport default RtcRelay;\n","const recordConfig = {\n  bucket: \"urtc-test\",\n  region: \"cn-bj\",\n};\nexport {recordConfig};\n","// @ts-nocheck\n/* eslint-disable */\nimport React from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport sdk, { Client } from \"urtc-sdk\";\nimport \"./settings.css\";\nimport { isPC } from \"../util/index\";\nimport { recordConfig } from \"../config/record\";\n\nimport {\n  Modal,\n  Input,\n  Form,\n  Select,\n  Radio,\n  Message,\n} from \"@ucloud-fe/react-components\";\nimport config from \"../config\";\nconst { Item } = Form;\nconst { Option } = Select;\nconst itemLayout = {\n  labelCol: {\n    span: 2,\n  },\n  controllerCol: {\n    span: 10,\n  },\n};\n\n@inject(\"store\")\n@observer\nclass Record extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      recordVisible: false,\n      checkLayout: \"flow\",\n      checkWatermark: \"time\",\n      checkWatermarkPos: \"left-top\",\n      watermarkMsg: \"\",\n      isPhone: !isPC(),\n    };\n    this.recordClose = this.recordClose.bind(this);\n    this.recordOk = this.recordOk.bind(this);\n    this.alllayoutChange = this.alllayoutChange.bind(this);\n    this.watermarkTypeChange = this.watermarkTypeChange.bind(this);\n    this.watermarkPosChange = this.watermarkPosChange.bind(this);\n    this.watermarkMsgChange = this.watermarkMsgChange.bind(this);\n  }\n  componentDidMount() {\n\n    // let storeSettings = this.props.store.settings;\n    // storeSettings.startRecord(true);\n  }\n  componentWillReceiveProps(nextProps) {\n    console.log(nextProps)\n    console.log(this.props)\n    // if (this.props.visible !== nextProps.visible) {\n    //   let storeRecord = this.props.store.record;\n    //   this.setState({\n    //     recordVisible: true,\n    //   });\n    // }\n    // this.setState({\n    //   recordVisible: true,\n    // });\n    // this.setState({\n    //       recordVisible: true,\n    //     });\n  }\n\n  recordClose = () => {\n    this.props.close && this.props.close(false);\n  };\n  recordOk() {\n    console.log(this.state)\n    const clientData = this.props.store.client;\n    const client = clientData.clientData;\n    const recordStore = this.props.store.record;\n    //this.bucket = \"urtc-test\";\n    //this.region = \"cn-bj\";\n    client.startRecord(\n      {\n        bucket: recordConfig.bucket,\n        region: recordConfig.region,\n        layout: {\n          type: this.state.checkLayout\n        },\n        waterMark: {\n          position: this.state.checkWatermarkPos,\n          type: this.state.checkWatermark,\n          remarks: this.state.watermarkMsg,\n        }\n      },\n      function (e, d) {\n        console.log(e, d);\n        if (!e) {\n\n          recordStore.setUrl(\n            `${d.FileName}.mp4`\n          );\n        }\n        console.log(d);\n      }\n    );\n    this.props.close(false);\n    // this.setState({\n    //   recordVisible: false,\n    // });\n    // recordStore.recordStart(false);\n  }\n  alllayoutChange(e) {\n    this.setState({\n      checkLayout: e,\n    });\n  }\n  watermarkTypeChange(e) {\n    this.setState({\n      checkWatermark: e,\n    });\n  }\n  watermarkPosChange(e) {\n    this.setState({\n      checkWatermarkPos: e,\n    });\n  }\n  watermarkMsgChange(e) {\n    this.setState({\n      watermarkMsg: e.target.value,\n    });\n  }\n  render() {\n    const { show } = this.props;\n    const {\n      checkLayout,\n      checkWatermark,\n      checkWatermarkPos,\n      watermarkMsg,\n      isPhone,\n    } = this.state;\n    const itemLayout = {\n      labelCol: {\n        span: isPhone ? 4 : 2,\n      },\n      controllerCol: {\n        span: isPhone ? 8 : 10,\n      },\n    };\n    const allLayouts = [\n      {\n        label: \"平铺\",\n        value: \"flow\",\n      },\n      {\n        label: \"垂直\",\n        value: \"main\",\n      },\n      {\n        label: \"平铺2\",\n        value: \"customFlow\",\n      },\n      {\n        label: \"垂直2\",\n        value: \"customMain\",\n      },\n      {\n        label: \"单画面\",\n        value: \"single\",\n      },\n    ];\n    const watermarkType = [\n      {\n        label: \"时间\",\n        value: \"time\",\n      },\n      {\n        label: \"图片\",\n        value: \"image\",\n      },\n      {\n        label: \"文本\",\n        value: \"text\",\n      },\n    ];\n    const watermarkPos = [\n      {\n        // 'left-top' | 'left-bottom' | 'right-top' | 'right-bottom'\n        label: \"左上\",\n        value: \"left-top\",\n      },\n      // {\n      //   label: \"左下\",\n      //   value: \"left-bottom\",\n      // },\n      // {\n      //   label: \"右上\",\n      //   value: \"right-top\",\n      // },\n      // {\n      //   label: \"右下\",\n      //   value: \"right-bottom\",\n      // },\n    ];\n    return (\n      <Modal\n        visible={show}\n        size={isPhone ? \"sm\" : \"md\"}\n        onClose={this.recordClose}\n        onOk={this.recordOk}\n        title=\"设置录制参数\"\n      >\n        <Form className=\"settings\">\n          <Item label=\"混流布局：\" {...itemLayout}>\n            <Radio.Group value={checkLayout} onChange={this.alllayoutChange}>\n              {allLayouts.map((e, v) => (\n                <Radio key={v} value={e.value}>\n                  {e.label}\n                </Radio>\n              ))}\n            </Radio.Group>\n          </Item>\n          <Item label=\"水印类型：\" {...itemLayout}>\n            <Radio.Group\n              value={checkWatermark}\n              onChange={this.watermarkTypeChange}\n            >\n              {watermarkType.map((e, v) => (\n                <Radio key={v} value={e.value}>\n                  {e.label}\n                </Radio>\n              ))}\n            </Radio.Group>\n          </Item>\n          {checkWatermark == \"image\" || checkWatermark == \"text\" ? (\n            <Item label=\"水印内容：\" {...itemLayout}>\n              <Input vlaue={watermarkMsg} onChange={this.watermarkMsgChange} />\n            </Item>\n          ) : null}\n\n          <Item label=\"水印位置：\" {...itemLayout}>\n            <Radio.Group\n              value={checkWatermarkPos}\n              onChange={this.watermarkPosChange}\n            >\n              {watermarkPos.map((e, v) => (\n                <Radio key={v} value={e.value}>\n                  {e.label}\n                </Radio>\n              ))}\n            </Radio.Group>\n          </Item>\n        </Form>\n      </Modal>\n    );\n  }\n}\n\nexport default Record;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { observer, inject } from \"mobx-react\";\n// import ReactPlayer from \"react-player\";\nimport { Message, Icon } from \"@ucloud-fe/react-components\";\n\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nconst Wrapper = styled.div`\n  position: relative;\n  display: inline-block;\n`;\n\n/**\n * @param url\n * @param icon  obj 流信息\n */\n\n@inject(\"store\")\n@observer\nclass CopyBtn extends React.Component {\n  static defaultProps = {\n    index: 0,\n    id: null,\n  };\n\n  state = {\n    url: null,\n    show: true,\n  };\n\n  componentDidMount() {\n    this.setState({\n      url: encodeURI(this.props.url),\n      copied: false,\n    });\n  }\n\n  copyUrl = () => {\n    this.setState({\n      copied: true,\n    });\n    Message.info(\"复制成功\");\n  };\n\n  render() {\n    return (\n      <Wrapper>\n        <CopyToClipboard\n          className=\"copy-btn\"\n          text={this.props.url}\n          onCopy={this.copyUrl}\n        >\n          {this.props.btn ? this.props.btn : <Icon type={\"share\"} />}\n        </CopyToClipboard>\n        {this.props.children}\n      </Wrapper>\n    );\n  }\n}\n\nexport default CopyBtn;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport {\n  Icon,\n  Button,\n  Row,\n  Col,\n  Message,\n  Modal,\n} from \"@ucloud-fe/react-components\";\nimport { observer, inject } from \"mobx-react\";\nimport RtcRelay from \"../rtcRelay/index\";\nimport Record from \"../record\";\nimport { isPC, objectToParamString } from \"../../util/index\";\nimport CopyBtn from \"../../container/copyBtn\";\n\nconst Footer = styled.div`\n  position: absolute;\n  /* height: ${(props) => (props.isPhone ? \"139px\" : \"64px\")}; */\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  color: #fff;\n  background-color: #2f3238;\n  text-align: left;\n  box-sizing: border-box;\n  overflow: hidden;\n  .left_wrapper {\n    text-align: left;\n  }\n  .right_wrapper {\n    text-align: right;\n    box-sizing: border-box;\n    padding-right: 14px;\n  }\n  .btn {\n    margin-left: 12px;\n    background-color: #494e5c;\n    color: #fff;\n    min-width: 64px;\n  }\n  .uc-fe-button {\n    height: 32px;\n    vertical-align: inherit;\n  }\n  .control_wrapper {\n    position: relative;\n    display: inline-block;\n    margin-left: 16px;\n    font-size: 18px;\n    height: 28px;\n    width: 34px;\n    line-height: 28px;\n    text-align: center;\n    padding-top: 3px;\n    cursor: pointer;\n    background-color: #494e5c;\n    vertical-align: middle;\n    border-radius: 2px;\n    color: #fff;\n    box-shadow: 0px 1px 3px -1px rgba(0, 0, 0, 0.32),\n      0px 1px 1px -1px rgba(0, 0, 0, 0.5), 0px 1px 2px 0px rgba(0, 0, 0, 0.28),\n      0px 1px 0px 0px rgba(255, 255, 255, 0.12);\n  }\n  .btn_wrapper {\n    display: inline-block;\n    font-size: 12px;\n    &.leave_btn_wrapper {\n      padding-left: 6px;\n      margin-left: 16px;\n      border-left: 1px solid #5a5f73;\n    }\n    .leave_btn {\n      background: #eb5252;\n      color: #ffffff;\n    }\n  }\n  .disable {\n    color: #999;\n  }\n  .disable:after {\n    display: block;\n    content: \"\";\n    width: 2px;\n    height: 20px;\n    background-color: #fff;\n    position: absolute;\n    border-radius: 2px;\n    transform: rotate(-135deg);\n    top: 7px;\n    left: 16px;\n  }\n  .operation-item {\n    display: inline-block;\n    font-size: 34px;\n    line-height: 40px;\n    padding: 5px 40px 0;\n    cursor: pointer;\n    position: relative;\n    .active-item {\n      font-size: 16px;\n      display: block;\n      line-height: 20px;\n      padding-bottom: 15px;\n    }\n  }\n\n  &.video-footer {\n    overflow: initial;\n    background-color: #2f3238;\n    padding-top: 18px;\n    height: 66px;\n  }\n  @media screen and (max-width: 900px) {\n    .video-footer {\n      min-height: 40px;\n      padding-top: 10px;\n    }\n  }\n  @media screen and (max-width: 720px) {\n    .video-footer {\n      min-height: 40px;\n      padding-top: 10px;\n    }\n    .video-header .room-info .roomId,\n    .video-header .room-info .userName {\n      padding: 0 10px;\n    }\n    .disable:after {\n      top: 12px;\n      left: 19px;\n    }\n    .video-header .network {\n      top: 0;\n      right: auto;\n      left: 200px;\n      margin-left: 0;\n      line-height: 40px;\n      font-size: 12px;\n    }\n    .video-header .uc-fe-icon {\n      font-size: 16px;\n    }\n    .video-wrapper {\n      bottom: 140px;\n    }\n    .video-wrapper .video-current video {\n      left: 0;\n      width: 100% !important;\n      top: 36px;\n      max-height: 220px;\n    }\n    .video-wrapper .video-cur {\n      display: none;\n    }\n    .video-wrapper .video-list {\n      position: absolute;\n      top: 225px;\n      width: 100%;\n      bottom: 0;\n    }\n    .video-wrapper .video-list li {\n      width: 46%;\n      margin: 0;\n      padding-left: 2.6%;\n      margin: 0;\n      float: left;\n    }\n\n    .footer-left {\n      position: absolute;\n      left: 0;\n      bottom: 0;\n      width: 100%;\n      background-color: #1e2024;\n      height: 60px;\n    }\n    .footer-left .left_wrapper {\n      text-align: center;\n    }\n    .footer-left .left_wrapper .control_wrapper {\n      width: 40px;\n      height: 40px;\n      border-radius: 20px;\n      line-height: 40px;\n      margin: 0 10px;\n    }\n    .footer-left .leave_btn_wrapper {\n      display: inline-block;\n      background-color: #eb5252;\n    }\n    .footer-right .btn_wrapper.leave_btn_wrapper {\n      display: none;\n    }\n    .footer-left .left_wrapper .share-screen {\n      display: none;\n    }\n    .footer-right {\n      position: absolute;\n      left: 0;\n      bottom: 60px;\n      height: 80px;\n      width: 100%;\n      background-color: #1e2024;\n    }\n    .footer-right .right_wrapper {\n      text-align: center;\n      border-bottom: 1px solid #5a5f73;\n      padding: 0 0 20px;\n      margin: 0 20px;\n    }\n    .footer-right .right_wrapper .btn_wrapper {\n      width: 33%;\n    }\n    .footer-right .right_wrapper button {\n      width: 80%;\n      height: 40px;\n      padding: 0;\n      margin: 0 !important;\n    }\n    .footer-right .active-publish {\n      text-align: left;\n    }\n    .footer-right .active-record {\n      text-align: center;\n    }\n    .footer-right .active-relay {\n      text-align: right;\n    }\n    .footer-right .right_wrapper .btn_wrapper.leave_btn_wrapper {\n      border-left: none;\n    }\n    .footer-right .share-link {\n      position: fixed;\n      top: 4px;\n      right: 4px;\n      margin: 0;\n      background: transparent;\n    }\n  }\n`;\n\nconst Status = styled.div`\n  position: relative;\n  display: inline-block;\n  padding: 6px;\n  &:after {\n    display: block;\n    content: \"\";\n    width: 6px;\n    left: 0px;\n    top: 5px;\n    height: 6px;\n    background-color: ${(props) => (props.color ? props.color : \"#999\")};\n    /* animation: vc 1s infinite; */\n    position: absolute;\n    border-radius: 3px;\n    z-index: 11;\n  }\n  /* @keyframes vc {\n    from {\n      background-color: #42d448;\n    }\n    to {\n      background-color: #31a035;\n    }\n  } */\n`;\n/**\n * @param client sdk实例\n * @param paramsData obj\n * @param sid string 本地流id\n * @param unPublish fun 选填 ，下麦方法\n */\n\n@inject(\"store\")\n@observer\nclass ClassFooter extends React.Component {\n  static defaultProps = {};\n  constructor(props) {\n    super(props);\n    this.state = {\n      videoMute: false,\n      audioMute: false,\n      videoRecord: false,\n      videoRelay: false,\n      recordVisible: false,\n      uplink: \"\",\n      downlink: \"\",\n      linkColor: \"#fff\",\n      setVolumeDisplay: false,\n      relayShow: false,\n      recordShow: false,\n      paramsData: null,\n      roomId: \"\",\n      userName: \"\",\n      share: \"\",\n      copied: false,\n      lineFlag: true,\n      rtt: 0,\n      audioVolumeFlag: false,\n      isPhone: !isPC(),\n      recordUrlShow: false,\n      recordPlayUrl: null,\n    };\n  }\n\n\n  componentDidMount() { }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.client && !this.isWatching) {\n      this.Client = nextProps.client;\n      this.isWatching = true;\n      this.setState(\n        {\n          paramsData: nextProps.paramsData,\n        },\n        () => {\n          let { paramsData } = this.state;\n          const { roomId } = paramsData;\n          let settingStore = this.props.store.settings;\n          let origin = window.location.origin;\n          let paramsStr = objectToParamString({\n            roomId: roomId,\n            roomType: settingStore.roomType,\n          });\n          let share = `${origin}/share?${paramsStr}`;\n          this.setState({\n            share: encodeURI(share),\n            copied: false,\n          });\n        }\n      );\n      this.Client.on(\"record-notify\", (MixNotification) => {\n        console.log(MixNotification, \"MixNotification\");\n        if (MixNotification.code === \"0\") {\n          this.setState({\n            videoRecord: true,\n          });\n        } else {\n          this.setState({\n            videoRecord: false,\n          });\n        }\n      });\n\n      this.Client.on(\"relay-notify\", (MixNotification) => {\n        console.log(\">>>>转推\", MixNotification);\n        if (MixNotification.code === \"0\") {\n          this.setState({\n            videoRelay: true,\n          });\n        } else {\n          this.setState({\n            videoRelay: false,\n          });\n        }\n      });\n    }\n  }\n  copyUrlRecord = () => {\n    this.setState(\n      {\n        recordPlayUrl: this.props.store.record.url,\n        copied: true,\n      },\n      () => {\n        Message.success(\"复制地址成功\");\n      }\n    );\n\n    setTimeout(() => {\n      this.setState({\n        copied: false,\n      });\n    }, 400);\n  };\n\n  videoMute = () => {\n    const { localMuteVideo } = this.props.store.common;\n\n    if (!localMuteVideo) {\n      this.Client.muteVideo(this.props.sid);\n      this.props.store.common.setVideoMuteStats(true);\n    } else {\n      this.Client.unmuteVideo(this.props.sid);\n      this.props.store.common.setVideoMuteStats(false);\n    }\n  };\n\n  unPublish = () => {\n    let { lineFlag } = this.state;\n    console.log(this.props.sid);\n    if (lineFlag) {\n      this.Client.unpublish((stream) => {\n        Message.success(\"下麦成功\");\n        this.props.destoryStream && this.props.destoryStream();\n        this.setState({\n          lineFlag: false,\n          videoMute: false,\n          audioMute: false,\n        });\n        this.props.store.common.setAudioMuteStats(false);\n        this.props.store.common.setVideoMuteStats(false);\n      });\n    } else {\n      this.Client.publish(\n        {\n          audio: true,\n          video: true,\n        },\n        function () {\n          Message.error(<div>没有推流权限</div>, undefined, () =>\n            console.log(\"onClose\")\n          );\n        }\n      );\n      this.setState({\n        lineFlag: true,\n      });\n    }\n  };\n\n  copyUrl = () => {\n    this.setState(\n      {\n        copied: true,\n      },\n      () => {\n        Message.success(\"复制地址成功\");\n      }\n    );\n\n    setTimeout(() => {\n      this.setState({\n        copied: false,\n      });\n    }, 400);\n  };\n\n  audioMute = () => {\n    const { localMuteAudio } = this.props.store.common;\n    if (!localMuteAudio) {\n      this.Client.muteAudio(this.props.sid);\n      this.props.store.common.setAudioMuteStats(true);\n    } else {\n      this.Client.unmuteAudio(this.props.sid);\n      this.props.store.common.setAudioMuteStats(false);\n    }\n  };\n\n  shareScreen = () => {\n    this.Client.setVideoProfile(\n      this.props.store.settings.desktopProfile,\n      () => {\n        console.log(\n          \"setVideoProfile success \",\n          this.props.store.settings.desktopProfile\n        );\n        this.Client.publish({\n          audio: false,\n          video: false,\n          screen: true,\n        });\n      },\n      (error) => {\n        Message.error(error);\n      }\n    );\n  };\n\n  leaveRoom = () => {\n    this.Client.leaveRoom();\n    window.location.href = \"/\";\n  };\n\n  setVolume = (e) => {\n    let { audioVolumeFlag } = this.state;\n    //产品说是静音效果\n    // let v = audioVolumeFlag ? 100 : 0;\n    // console.log(v);\n    // this.Client.setAudioVolume({ volume: v }, (Err) => {\n    //   if (Err) {\n    //     this.setState({\n    //       audioVolumeFlag: false,\n    //     });\n    //     alert(`设置声音失败 ${Err}`);\n    //     return;\n    //   }\n    //   this.setState({\n    //     audioVolumeFlag: !audioVolumeFlag,\n    //   });\n    // });\n    let totalStream = this.Client.getRemoteStreams();\n\n    totalStream.forEach((stream) => {\n      const { sid } = stream;\n      if (audioVolumeFlag) {\n        // 启用全部音频\n        this.Client.unmuteAudio(sid);\n      } else {\n        this.Client.muteAudio(sid);\n      }\n    });\n\n    this.props.store.common.setGlobalMuteAudioStats(!audioVolumeFlag);\n    this.setState({\n      audioVolumeFlag: !audioVolumeFlag,\n    });\n  };\n\n  startRelay = (flag) => {\n    this.setState({\n      relayShow: flag,\n    });\n  };\n  startRecord = (flag) => {\n    // let storeRecord = this.props.store.record;\n    const { videoRecord } = this.state;\n    console.log(videoRecord)\n    if (videoRecord) {\n      this.Client.stopRecord((Error, Result) => {\n        if (Error) {\n          alert(`停止录制失败 ${Error}`);\n          return;\n        }\n        console.log(\"stop record \", Result, this.props.store.record.url);\n        // storeRecord.recordStart(false);\n        this.setState({\n          videoRecord: false,\n          recordUrlShow: true,\n          recordPlayUrl: this.props.store.record.url,\n        });\n      });\n    } else {\n      this.setState({\n        recordShow: flag,\n      });\n    }\n\n  }\n  changeRecordUrlModal = () => {\n    this.setState({\n      recordUrlShow: false,\n    });\n  };\n\n  render() {\n    const {\n      videoRecord,\n      // recordVisible,\n      videoRelay,\n      // setVolumeDisplay,\n      relayShow,\n      paramsData,\n      share,\n      audioVolumeFlag,\n      isPhone,\n      recordUrlShow,\n      recordShow\n    } = this.state;\n    const { lineFlag } = this.props;\n\n    let videoMute = this.props.store.common.localMuteVideo;\n    let audioMute = this.props.store.common.localMuteAudio;\n\n    // userRole 为 pull 时，大部分按钮都要隐藏\n    const { userRole } = this.props.store.settings;\n    return (\n      <Footer className=\"video-footer\" isPhone={isPhone}>\n        {paramsData && (\n          <div style={{ height: \"100%\" }}>\n            <Row style={{ height: \"100%\" }}>\n              <Col span={3} className=\"footer-left\">\n                {userRole === \"pull\" ? null : (\n                  <div className=\"left_wrapper\">\n                    <div\n                      className={`control_wrapper ${videoMute ? \"disable\" : \"\"\n                        }`}\n                      onClick={this.videoMute}\n                    >\n                      <Icon type={\"urtc-sxj\"} />\n                    </div>\n                    <div\n                      className={`control_wrapper ${audioMute ? \"disable\" : \"\"\n                        }`}\n                      onClick={this.audioMute}\n                    >\n                      <Icon type={\"urtc-mkf\"} />\n                    </div>\n                    <div\n                      onClick={this.setVolume}\n                      className={`control_wrapper footer-volume ${audioVolumeFlag ? \"disable\" : \"\"\n                        }`}\n                    >\n                      <Icon type={\"volume\"} />\n                    </div>\n                    {isPhone ? null : (\n                      <div\n                        className={`control_wrapper share-screen`}\n                        onClick={this.shareScreen}\n                      >\n                        <Icon type={\"urtc-tl\"} />\n                      </div>\n                    )}\n                    <div\n                      className=\"control_wrapper leave_btn_wrapper\"\n                      onClick={this.leaveRoom}\n                    >\n                      <Icon type={\"power\"} />\n                    </div>\n                  </div>\n                )}\n              </Col>\n\n              <Col span={9} className=\"footer-right\">\n                <div className=\"right_wrapper\">\n                  {userRole === \"pull\" ? null : (\n                    <div\n                      className=\"btn_wrapper active-publish\"\n                      onClick={this.props.unPublish}\n                    >\n                      <Button\n                        styleType=\"primary\"\n                        size={\"md\"}\n                        style={{ marginLeft: \"12px\" }}\n                      >\n                        {lineFlag ? \"结束连麦\" : \"开启连麦\"}\n                      </Button>\n                    </div>\n                  )}\n\n                  <div\n                    className={`btn_wrapper active-record ${videoRecord ? \"video-record\" : \"\"\n                      }`}\n                    // onClick={this.recordAction}\n                    onClick={() => this.startRecord(true)}\n                  >\n                    <Button className=\"btn\" styleType=\"border\" size={\"md\"}>\n                      <Status color={videoRecord ? \"#42d448\" : \"#999\"} />\n                      {`${videoRecord ? \"停止录制\" : \"录制\"}`}\n                    </Button>\n                  </div>\n                  <div\n                    className=\"btn_wrapper active-relay\"\n                    onClick={() => this.startRelay(true)}\n                  >\n                    <Button className=\"btn\" styleType=\"border\" size={\"md\"}>\n                      <Status color={videoRelay ? \"#42d448\" : \"#999\"} />\n                      {videoRelay ? \"结束转推\" : \"转推\"}\n                    </Button>\n                  </div>\n\n                  <div className={`control_wrapper share-link`}>\n                    <CopyBtn url={share} />\n                  </div>\n\n                  <div\n                    className=\"btn_wrapper leave_btn_wrapper\"\n                    onClick={this.leaveRoom}\n                  >\n                    <Button\n                      size={\"md\"}\n                      className=\"leave_btn\"\n                      style={{ marginLeft: \"12px\" }}\n                    >\n                      {\"退出会议\"}\n                    </Button>\n                  </div>\n                </div>\n              </Col>\n            </Row>\n            <RtcRelay\n              client={this.Client}\n              statsRefush={() => this.setState({ videoRelay: false })}\n              close={() => this.startRelay(false)}\n              show={relayShow}\n              param={paramsData}\n            />\n\n            <Record close={() => this.startRecord(false)}\n              show={recordShow} />\n\n            <Modal\n              visible={recordUrlShow}\n              title={\"录制地址\"}\n              size={isPhone ? \"sm\" : \"md\"}\n              onClose={this.changeRecordUrlModal}\n              // afterClose={this.destroyAll}\n              footer={null}\n            >\n              <div\n                style={{\n                  padding: \"16px 16px 16px 16px\",\n                  height: \"100%\",\n                  lineHeight: \"100%\",\n                }}\n              >\n                <span> {this.props.store.record.url}</span>\n                <CopyBtn\n                  url={this.props.store.record.url}\n                  btn={\n                    <Button styleType=\"primary\" style={{ marginLeft: \"12px\" }}>\n                      {\"复制播放地址\"}\n                    </Button>\n                  }\n                />\n              </div>\n            </Modal>\n          </div>\n        )}\n      </Footer>\n    );\n  }\n}\n\nexport default ClassFooter;\n","import styled from \"styled-components\";\nconst Header = styled.div`\n  position: relative;\n  height: 36px;\n  line-height: 36px;\n  text-align: left;\n  box-sizing: border-box;\n  background-color: #2f3238;\n  .room-info {\n    display: inline-block;\n    .roomId,\n    .userName {\n      display: inline-block;\n      font-size: 12px;\n      padding: 0 28px;\n      border-right: 1px solid #41454c;\n    }\n    .roomId {\n    }\n    .userName {\n    }\n  }\n`;\nconst Network = styled.div`\n  display: inline-block;\n  margin-left: 38px;\n  font-size: 18px;\n  cursor: pointer;\n  color: rgb(12, 131, 12);\n  .text {\n    color: #fff;\n    display: inline-block;\n    padding-left: 4px;\n    font-size: 14px;\n  }\n`;\n/**\n * @param client sdk实例\n */\n\n\nexport {\n    Header, Network\n}","import React, { useState, useEffect } from \"react\";\nimport { Icon } from \"@ucloud-fe/react-components\";\nimport { observer, useLocalStore } from \"mobx-react\";\nimport { settings } from \"../../store/index\"\nimport { Network, Header } from './new.styles.jsx' //样式组件\nconst statusMap = {\n    0: {\n        status: \"未知\",\n        color: \"#fff\",\n    },\n    1: {\n        status: \"优秀\",\n        color: \"rgb(129 234 134)\",\n    },\n    2: {\n        status: \"良好\",\n        color: \"rgb(129 234 134)\",\n    },\n    3: {\n        status: \"一般\",\n        color: \"rgb(82 148 85)\",\n    },\n    4: {\n        status: \"较差\",\n        color: \"rgb(224 191 92)\",\n    },\n    5: {\n        status: \"糟糕\",\n        color: \"rgb(244 67 54)\",\n    },\n    6: {\n        status: \"rgb(177 175 175)\",\n        color: \"\",\n    },\n    default: {\n        status: \"未知\",\n        color: \"#fff\",\n    },\n};\n/**\n * @param client sdk实例\n */\n\nconst ClassHeader = observer((props) => {\n    const localStore = useLocalStore(() => settings)\n    const [uplink, setUplink] = useState(\"\");\n    const [linkColor, setLinkColor] = useState(\"#fff\");\n    const [rtt, setRtt] = useState(0);\n    useEffect(() => {\n        if (props.client == null || !props.sid) return\n        function getNetwork() {\n            props.client.on(\"network-quality\", (Stats) => {\n\n                if (Stats.uplink) {\n                    setUplink(statusMap[Stats.uplink].status)\n                    setLinkColor(statusMap[Stats.uplink].color)\n                } else {\n                    setUplink(statusMap[Stats.default].status)\n                    setLinkColor(statusMap[Stats.default].color)\n                }\n            });\n            let timer = setInterval(() => {\n                props.client.getNetworkStats(\n                    (stats) => {\n                        setRtt(stats.rtt)\n                    },\n                    (error) => {\n                        clearInterval(timer);\n                        console.log(error);\n                    }\n                );\n            }, 200);\n        }\n        getNetwork();\n    });\n    return (\n        <Header className=\"video-header\">\n            <div className=\"room-info\">\n                <span className=\"roomId\">\n                    房间号：<b>{localStore.roomId}</b>\n                </span>\n                <span className=\"userName\">\n                    {\" \"}\n                    用户名：<b> {localStore.userId}</b>\n                </span>\n            </div>\n\n            <Network className=\"network\">\n                <Icon\n                    style={{ color: linkColor }}\n                    title={`网络状态：${uplink}`}\n                    type=\"bar-graph\"\n                />\n                <span className=\"text\">{`${rtt}ms`}</span>\n            </Network>\n        </Header>\n    );\n})\nexport default ClassHeader;","import React from \"react\";\nimport styled from \"styled-components\";\nimport { observer, inject } from \"mobx-react\";\n// import ReactPlayer from \"react-player\";\n\nconst Wrapper = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n  font-size: 12px;\n  line-height: 24px;\n  height: 25px;\n  text-align: left;\n  padding-left: 15px;\n  .mute-stats {\n    color: rgb(192, 185, 185);\n  }\n  .volume-wrapper {\n    float: right;\n    padding-top: 2px;\n    width: 24px;\n    text-align: center;\n    position: relative;\n  }\n  .mute-stats:after {\n    display: block;\n    content: \"\";\n    width: 2px;\n    height: 16px;\n    /* background-color: rgb(192, 185, 185); */\n    background-color: #fff;\n\n    position: absolute;\n    border-radius: 2px;\n    transform: rotate(-135deg);\n    top: 6px;\n    left: 11px;\n  }\n`;\n\n/**\n * @param id\n * @param stream  obj 流信息\n */\n\n@inject(\"store\")\n@observer\nclass VideoStats extends React.Component {\n  static defaultProps = {\n    index: 0,\n    id: null,\n  };\n\n  state = {\n    stream: null,\n    show: true,\n  };\n\n  componentDidMount() {}\n\n  render() {\n    let { stream } = this.props;\n    return (\n      <Wrapper>\n        {!stream ? null : (\n          <div>\n            <span className=\"user-name\">{stream ? stream.uid : \"\"}</span>\n            {stream.video ? (\n              <span\n                className={`volume-wrapper  ${\n                  stream.muteVideo ? \"mute-stats\" : \"\"\n                }`}\n              >\n                <span className=\"icon__urtc-sxj\"></span>\n              </span>\n            ) : null}\n\n            <span\n              className={`volume-wrapper  ${\n                stream.muteAudio ? \"mute-stats\" : \"\"\n              }`}\n            >\n              <span className=\"icon__urtc-mkf\"></span>\n            </span>\n          </div>\n        )}\n      </Wrapper>\n    );\n  }\n}\n\nexport default VideoStats;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { observer, inject } from \"mobx-react\";\n// import ReactPlayer from \"react-player\";\nimport VideoStats from \"../videoStats/index\";\n// import bgImg from \"../../common/image/640360.png\";\n\nconst Wrapper = styled.div`\n  position: relative;\n  height: 100%;\n  border-radius: 6px;\n  overflow: hidden;\n  .bg {\n    width: 100%;\n    height: 100%;\n    background-size: 100%;\n    min-height: 103px;\n    img {\n      height: 100%;\n      width: 100%;\n    }\n  }\n`;\n\n/**\n * @param stream  obj 流信息\n */\n\n@inject(\"store\")\n@observer\nclass ClassVideoWrapper extends React.Component {\n  static defaultProps = {};\n\n  state = {\n    stream: null,\n  };\n\n  componentDidMount() { }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.stream.sid !== nextProps.stream.sid) {\n      // this.forceUpdate();\n    }\n  }\n\n  renderVideoWrapper = (stream) => {\n    return (\n      <div style={{ height: \"100%\", width: \"100%\" }}>\n        {/* {this.props.store.settings.userId === stream.uid ? (\n          <ReactPlayer\n            // className=\"local-video\"\n            url={stream.mediaStream}\n            muted={true}\n            width=\"100%\"\n            height=\"100%\"\n            playing\n            playsinline\n          />\n        ) : ( */}\n        <div style={{ height: \"100%\", width: \"100%\" }} id={stream.sid}></div>\n        {/* )} */}\n      </div>\n    );\n  };\n\n  render() {\n    let { stream } = this.props;\n    console.log(\"566\", !stream);\n    return (\n      <Wrapper>\n        {!stream ? null : (\n          <div style={{ width: \"100%\", height: \"100%\" }}>\n            <div\n              className=\"bg\"\n              style={{\n                display: stream.muteVideo || !stream.video ? \"block\" : \"none\",\n              }}\n            >\n              {/* <img src={bgImg} alt=\"\" /> */}\n            </div>\n\n            <div\n              style={{\n                height: \"100%\",\n                width: \"100%\",\n                display: stream.muteVideo || !stream.video ? \"none\" : \"block\",\n              }}\n            >\n              {this.renderVideoWrapper(stream)}\n            </div>\n          </div>\n        )}\n        <VideoStats stream={stream} />\n      </Wrapper>\n    );\n  }\n}\n\nexport default ClassVideoWrapper;\n","// @ts-nocheck\n/* eslint-disable */\nimport React from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport \"./classRoom.css\";\nimport \"../common/ucloudicons/dist/css/icon.min.css\";\nimport sdk, { Client } from \"urtc-sdk\";\nimport { Message } from \"@ucloud-fe/react-components\";\nimport ClassFooter from \"../components/footer/index\";\nimport ClassHeader from \"../components/header/new\";\nimport ClassVideoWrapper from \"../container/classVideoWrapper/index\";\nimport { getCookie } from \"../util/cookie\";\n\n\n@inject(\"store\")\n@observer\nclass ClassRoom extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      localStream: null,\n      localCameraSid: \"0\",\n      screenStream: null,\n      videoMute: false,\n      audioMute: false,\n      volumeMute: false,\n      recordVisible: false,\n      uplink: \"\",\n      downlink: \"\",\n      linkColor: \"#fff\",\n      relayShow: false,\n      paramsData: null,\n      roomId: \"\",\n      userName: \"\",\n      volumeData: \"14\",\n      currentVideoItem: \"local\",\n      remoteVolumeData: [],\n      muteRemoteVolume: [],\n      allStream: [],\n      mailSid: null,\n      mainStream: [],\n      remoteStreams: [],\n      lineFlag: true,\n\n    };\n    this.videoChange = this.videoChange.bind(this);\n  }\n  componentDidMount() {\n    if (getCookie(\"settingParam\") == undefined) {\n      this.props.history.push(\"/\");\n      return\n    }\n    let param = JSON.parse(getCookie(\"settingParam\"));\n    this.props.store.settings.settingsData(param);\n    this.props.store.settings.joinRoom({\n      roomId: param.roomId,\n    });\n    console.log(\"param\", param);\n    let locationState = this.props.location.state;\n    if (!locationState) {\n      this.props.history.push(\"/\");\n    } else {\n      this.initURtc(locationState);\n    }\n  }\n  initURtc(data) {\n    this.setState({\n      paramsData: data,\n    });\n    const storeData = this.props.store.settings;\n    const storeClient = this.props.store.client;\n    let roomId = data.roomId;\n    let userId = this.props.store.settings.userId || data.userId;\n    const AppId = storeData.AppId;\n    const AppKey = storeData.AppKey;\n    const signalLink = storeData.signalLink;\n    this.setState({\n      roomId: roomId,\n      userName: storeData.userName,\n    });\n    console.log('sss', storeData)\n    sdk.setServers({\n      signal: signalLink // signal 为 URTC 信令服务的访问地址\n    })\n    let token = sdk.generateToken(AppId, AppKey, roomId, userId);\n    this.Client = new Client(AppId, token, {\n      type: storeData.roomType,\n      role: storeData.userRole,\n      codec: storeData.videoCodec,\n    });\n    storeClient.initClient(this.Client);\n    this.Client.joinRoom(roomId, userId, (e, s) => {\n      Message.config({\n        duration: 3000,\n        top: 20,\n      });\n      this.Client.setVideoProfile({\n        profile: storeData.videoProlie,\n      });\n\n      if (storeData.userRole !== \"pull\") {\n        this.publish()\n      }\n    });\n    this.Client.on(\"stream-published\", (stream) => {\n      const { allStream = [] } = this.state;\n      allStream.push(stream);\n      if (stream.mediaType === \"camera\") {\n        if (this.state.mainStream.length && this.state.mainStream[0].mediaType === \"screen\") {\n          this.setState(\n            {\n              localStream: stream,\n              localCameraSid: stream.sid,\n              mainType: \"camera\",\n            },\n            () => {\n              this.getLayoutStream(allStream);\n            }\n          );\n          return\n        }\n        this.setState(\n          {\n            mainSid: stream.sid,\n            localStream: stream,\n            localCameraSid: stream.sid,\n            mainType: \"camera\",\n          },\n          () => {\n            this.getLayoutStream(allStream);\n          }\n        );\n      }\n\n      if (stream.mediaType === \"screen\") {\n        let nextId = stream.sid;\n        this.setState(\n          {\n            mainSid: nextId,\n          },\n          () => {\n            this.getLayoutStream(allStream);\n          }\n        );\n      }\n    });\n\n    this.Client.on(\"screenshare-stopped\", (stream) => {\n      console.log(\"screenshare-stopped\", stream);\n      this.Client.unpublish(stream.sid, (e) => {\n        const { allStream = [] } = this.state;\n        let arr = this.filterStream(allStream, stream.sid);\n        if (stream.sid == this.state.mailSid) {\n          let targetId = localStream ? localStream.sid : (arr.length ? arr[0].sid : null)\n          this.setState(\n            {\n              allStream: arr,\n              mainSid: targetId\n            },\n            () => {\n              this.getLayoutStream(arr);\n            }\n          )\n          return\n        } else {\n          this.setState(\n            {\n              allStream: arr,\n            },\n            () => {\n              this.getLayoutStream(arr);\n            }\n          );\n          return\n        }\n      });\n    });\n\n    this.Client.on(\"stream-reconnected\", (streams) => {\n      console.log(\"断网重连\", streams);\n      const { previous, current } = streams;\n      const { allStream = [] } = this.state;\n      const idx = allStream.findIndex((item) => previous.sid === item.sid);\n      if (idx !== -1) {\n        allStream.splice(idx, 1);\n        allStream.push(current);\n        if (this.state.mainSid === previous.sid) {\n          this.setState({\n            mainSid: current.sid,\n          }, () => {\n            this.getLayoutStream(allStream)\n          })\n          return\n        } else {\n          this.setState({\n            allStream,\n          }, () => {\n            this.getLayoutStream(allStream)\n          });\n        }\n\n      }\n    });\n\n    this.Client.on(\"stream-subscribed\", (stream) => {\n      console.log(\"stream-subscribed\", stream);\n\n      const { allStream = [] } = this.state;\n      allStream.push(stream);\n\n      if (stream.mediaType === \"screen\") {\n        let nextId = stream.sid;\n        this.setState(\n          {\n            mainSid: nextId,\n          },\n          () => {\n            this.getLayoutStream(allStream);\n          }\n        );\n        return;\n      }\n      this.setState(\n        {\n          allStream: allStream,\n        },\n        () => {\n          this.getLayoutStream(allStream);\n        }\n      );\n    });\n\n    this.Client.on(\"stream-added\", (stream) => {\n      this.Client.subscribe(stream.sid, (e) => {\n        console.log(\"subscribe failure \", e);\n      });\n    });\n\n    this.Client.on(\"stream-removed\", (stream) => {\n      console.log(\"stream-removed \", stream);\n      const { allStream = [] } = this.state;\n      let arr = this.filterStream(allStream, stream.sid);\n\n      this.setState(\n        {\n          allStream: arr,\n        },\n        () => {\n          this.getLayoutStream(arr);\n        }\n      );\n    });\n\n    this.Client.on(\"volume-indicator\", (e) => {\n      this.setState({\n        remoteVolumeData: e,\n        allStream,\n      });\n    });\n\n    this.Client.on(\"mute-audio\", (stream) => {\n      let { allStream } = this.state;\n      let newRemote = allStream.map((e) => {\n        if (e.sid == stream.sid) {\n          return stream;\n        } else {\n          return e;\n        }\n      });\n\n      this.setState(\n        {\n          allStream: newRemote,\n        },\n        () => {\n          this.getLayoutStream(newRemote, false);\n        }\n      );\n    });\n\n    this.Client.on(\"mute-video\", (stream) => {\n      let { allStream } = this.state;\n      let newRemote = allStream.map((e) => {\n        if (e.sid == stream.sid) {\n          return stream;\n        } else {\n          return e;\n        }\n      });\n\n      this.setState(\n        {\n          allStream: newRemote,\n        },\n        () => {\n          this.getLayoutStream(newRemote, false);\n        }\n      );\n    });\n\n    this.Client.on(\"unmute-video\", (stream) => {\n      let { allStream } = this.state;\n      let newRemote = allStream.map((e) => {\n        if (e.sid == stream.sid) {\n          return stream;\n        } else {\n          return e;\n        }\n      });\n\n      this.setState(\n        {\n          allStream: newRemote,\n        },\n        () => {\n          this.getLayoutStream(newRemote, false);\n        }\n      );\n    });\n\n    this.Client.on(\"unmute-audio\", (stream) => {\n      let { allStream } = this.state;\n      let newRemote = allStream.map((e) => {\n        if (e.sid == stream.sid) {\n          return stream;\n        } else {\n          return e;\n        }\n      });\n\n      this.setState(\n        {\n          allStream: newRemote,\n        },\n        () => {\n          this.getLayoutStream(newRemote, false);\n        }\n      );\n    });\n  }\n\n  startRelay = (flag) => {\n    this.setState({\n      relayShow: flag,\n    });\n  };\n\n  publish = () => {\n    const storeData = this.props.store.settings;\n    this.Client.publish(\n      {\n        audio: true,\n        video: true,\n        cameraId: storeData.videoInput,\n      },\n      function () {\n        Message.message(<div>没有推流权限</div>, undefined, () =>\n          console.log(\"onClose\")\n        );\n      }\n    );\n  }\n\n  //下麦操作\n  unPublish = () => {\n    let { lineFlag } = this.state;\n    if (lineFlag) {\n      this.Client.unpublish((stream) => {\n        Message.success(\"下麦成功\");\n        let { allStream, localStream } = this.state;\n        const idx = allStream.findIndex((item) => localStream.sid === item.sid)\n        if (idx !== -1) {\n          allStream.splice(idx, 1);\n          console.log('>>>>下', allStream)\n          this.setState({\n            localStream: null,\n            allStream: allStream,\n            lineFlag: false,\n          }, () => {\n            this.props.store.common.setAudioMuteStats(false);\n            this.props.store.common.setVideoMuteStats(false);\n            this.getLayoutStream(allStream);\n          });\n        }\n      });\n    } else {\n      this.publish()\n      this.setState({\n        lineFlag: true,\n      });\n    }\n  };\n\n  videoChange(e) {\n    this.setState(\n      {\n        mainSid: e.sid,\n      },\n      () => {\n        this.stopStreams();\n        this.getLayoutStream(this.state.allStream);\n      }\n    );\n  }\n\n  // arr 为最新全部流数组, refreshFlag 为是否stop or play全部视频\n  getLayoutStream = (arr = [], refreshFlag = true) => {\n    console.log('res', arr)\n    if (refreshFlag) {\n      this.stopStreams();\n    }\n    const { mainSid } = this.state;\n    let mainArr = [];\n    let remoteArr = [];\n\n    arr.map((e) => {\n      if (e.sid === mainSid) {\n        mainArr.push(e);\n      } else {\n        remoteArr.push(e);\n      }\n    });\n\n    //主屏幕没流\n    if (mainArr.length == 0 && remoteArr.length >= 1) {\n      mainArr.push(remoteArr[0]);\n      remoteArr.splice(0, 1)\n    }\n    this.setState(\n      {\n        mainStream: mainArr,\n        remoteStreams: remoteArr,\n      },\n      () => {\n        if (refreshFlag) {\n          this.playStreams();\n        }\n      }\n    );\n\n  };\n\n  stopStreams = () => {\n    let { allStream = [] } = this.state;\n    let arr = allStream.map((stream) => {\n      return new Promise((resolve, reject) => {\n        this.Client.stop(stream.sid, (err) => {\n          if (!err) {\n            resolve();\n          } else {\n            reject(err);\n          }\n        });\n      });\n    });\n    return Promise.all(arr);\n  };\n\n  playStreams = () => {\n    let { allStream = [] } = this.state;\n    for (let index = 0; index < allStream.length; index++) {\n      const id = allStream[index].sid;\n      if (allStream[index].mediaType === \"screen\") {\n        this.Client.play(\n          { streamId: id, container: id, fit: \"cover\" },\n          (err) => {\n            if (!err) {\n              reject(console.log(\"播放失败\", err, prevId));\n            }\n          }\n        );\n      } else {\n        this.Client.play(\n          { streamId: id, container: id, fit: \"contain\" },\n          (err) => {\n            if (!err) {\n              reject(console.log(\"播放失败\", err, prevId));\n            }\n          }\n        );\n      }\n\n    }\n  };\n\n  filterStream = (arr, sid) => {\n    const idx = arr.findIndex((item) => sid === item.sid);\n    if (idx !== -1) {\n      arr.splice(idx, 1);\n      return arr;\n    }\n  };\n\n  render() {\n    const {\n      localStream = { sid: 0 },\n      paramsData,\n      mainStream,\n      remoteStreams,\n      localCameraSid,\n      lineFlag,\n    } = this.state;\n    return (\n      <div className=\"room_main\">\n        <ClassHeader\n          client={this.Client}\n          sid={localStream && localStream.sid}\n        />\n\n        <div className=\"video-wrapper\">\n          <div className=\"video-cur\">\n            {mainStream.map((stream, index) => {\n              return (\n                <div\n                  className=\"video-current\"\n                  style={{\n                    height: \"100%\",\n                    width: \"100%\",\n                  }}\n                  key={index}\n                >\n                  {stream.sid == localCameraSid ? (\n                    <ClassVideoWrapper\n                      stream={Object.assign({\n                        ...stream,\n                        muteVideo: this.props.store.common.localMuteVideo,\n                        muteAudio: this.props.store.common.localMuteAudio,\n                      })}\n                    />\n                  ) : (\n                      <ClassVideoWrapper stream={stream} />\n                    )}\n                </div>\n              );\n            })}\n          </div>\n          <ul className=\"video-list\">\n            {remoteStreams.map((stream, key) => (\n              <li key={key}>\n                <div className={`video-item`}>\n                  {/* {stream.mediaType === \"screen\" ? null : ( */}\n                  <span\n                    className=\"icon__maximize video-change\"\n                    title=\"切换到大屏\"\n                    onClick={() => this.videoChange(stream)}\n                  ></span>\n                  {/* )} */}\n\n                  {stream.sid == localCameraSid ? (\n                    <ClassVideoWrapper\n                      stream={Object.assign({\n                        ...stream,\n                        muteVideo: this.props.store.common.localMuteVideo,\n                        muteAudio: this.props.store.common.localMuteAudio,\n                      })}\n                    />\n                  ) : (\n                      <ClassVideoWrapper stream={stream} />\n                    )}\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n\n        <ClassFooter\n          client={this.Client}\n          paramsData={paramsData}\n          sid={localStream && localStream.sid}\n\n          unPublish={this.unPublish}\n          lineFlag={lineFlag}\n        />\n      </div>\n    );\n  }\n}\n\nexport default ClassRoom;\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport Login from \"./pages/home\";\n// import ClassRoom from \"./pages/classRoom\";\nimport ClassRoom from \"./pages/classRoom.jsx\";\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\" component={Login} />\n          <Route exact path=\"/share\" component={Login} />\n          <Route exact path=\"/class\" component={ClassRoom} />\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"mobx-react\";\n// import stores from \"./store/index\";\nimport * as store from \"./store/index.js\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}